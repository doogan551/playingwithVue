!function(a){a.caretTo=function(a,b){if(a.createTextRange){var c=a.createTextRange();c.move("character",b),c.select()}else null!=a.selectionStart&&(a.focus(),a.setSelectionRange(b,b))},a.caretPos=function(a){if("selection"in document){var b=a.createTextRange();try{b.setEndPoint("EndToStart",document.selection.createRange())}catch(c){return 0}return b.text.length}if(null!=a.selectionStart)return a.selectionStart},a.fn.caret=function(b,c){return"undefined"==typeof b?a.caretPos(this.get(0)):this.queue(function(d){if(isNaN(b)){var e=a(this).val().indexOf(b);c===!0?e+=b.length:"undefined"!=typeof c&&(e+=c),a.caretTo(this,e)}else a.caretTo(this,b);d()})},a.fn.caretToStart=function(){return this.caret(0)},a.fn.caretToEnd=function(){return this.queue(function(b){a.caretTo(this,a(this).val().length),b()})}}(jQuery);