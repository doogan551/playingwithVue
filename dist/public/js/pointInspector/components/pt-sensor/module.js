define(["knockout","text!./view.html"],function(a,b){function c(b){d=b.apiEndpoint,this.root=b,this.point=b.point,this.data=b.point.data,this.utility=b.utility,this.isInEditMode=b.isInEditMode,this.showModal=a.observable(!1),this.testValue=a.observable(0),this.testResult=a.observable(""),this.tabTriggers={overview:a.observable(!1),involvement:a.observable(!1),permissions:a.observable(!1)},b.tabTriggers=this.tabTriggers,this.calculateResult=a.computed(function(){var a,b,c=this,d=c.testValue(),e=c.data["Conversion Type"],f=e.eValue(),g=e.Value.peek(),h=new Array(4),i=$(".testValueContainer i.fa");if(""===d)return i.hide(),void c.testResult("");if(i.show(),[1,2,3,4].forEach(function(a,b){h[b]=parseFloat(c.data["Conversion Coefficient "+a].Value())}),"Flow"===g)b=h[1]+h[2]*d,b=b<0?0:h[0]+Math.sqrt(d);else for(a=f,b=h[a];0!==a--;)b=b*d+h[a];c.testResult(b)},this).extend({rateLimit:50}),b.initDOM()}var d;return c.prototype.toggleModal=function(){this.showModal(!0)},c.prototype.dispose=function(){this.calculateResult.dispose()},{viewModel:c,template:b}});