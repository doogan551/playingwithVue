define(["knockout","text!./view.html","bannerJS"],function(a,b,c){function d(b){this.root=b,this.point=b.point,this.data=b.point.data,this.utility=b.utility,this.apiEndpoint=b.apiEndpoint,this.isInEditMode=b.isInEditMode,this.deviceTime=a.observable(""),this.tabTriggers={involvement:a.observable(!1),notifications:a.observable(!1),permissions:a.observable(!1)},b.tabTriggers=this.tabTriggers,b.initDOM()}return d.prototype.initialize=function(a){function b(b){b.value();return e.removeClass("btn-warning"),f.removeClass("fa-refresh fa-spin").addClass(g[a].icon),b.error()?void c.showBanner(b.error(),"Ok",null,"#D50000"):void c.showBanner(g[a].msg,null,5e3)}var d=this,e=$(event.target),f=e.find("i.fa"),g=[{icon:"fa-reply",msg:"Reset successful"},{icon:"fa-flash",msg:"Warm restart successful"}];d.root.authorize(d.data,d.root.permissionLevels.CONTROL)&&(a="number"!=typeof a?1:a,e.addClass("btn-warning"),f.removeClass(g[a].icon).addClass("fa-refresh fa-spin"),d.point.issueCommand("Device Initialize",{upi:d.data._id(),state:a},b))},d.prototype.getDeviceTime=function(){function a(a){return a.error()?void c.showBanner(a.error(),"Ok",null,"#D50000"):void b.deviceTime(a.value())}var b=this;b.point.issueCommand("Device Time",{upi:b.data._id()},a)},d.prototype.dispose=function(){},{viewModel:d,template:b}});