!function(a,b){a=a||{},a.PagedObservableArray=function(a){a=a||{},$.isArray(a)&&(a={data:a});var c=b.observable("").extend({throttle:300}),d=b.observableArray(a.data||[]),e=b.computed(function(){var b=[],e=(d(),$.trim(c().toUpperCase()));return a.sort&&d.sort(a.sort()),""==e||"SEARCH"==e?d():b=$.grep(d(),function(b,c){var c=0,d=0,g=a.searchFields||[],h=g.length,i=e.split(" "),j=i.length;for(c;c<j;c++){if(0==h)return f(b.toUpperCase(),i[c]);for(d;d<h;d++)if(b[g[d]])if("object"==typeof b[g[d]]){if(f(b[g[d]].Value.toUpperCase(),i[c]))return!0}else if(f(b[g[d]].toUpperCase(),i[c]))return!0}})}),f=function(a,b){switch(!0){case null==a:return!1;case a.indexOf(b)>-1:return!0;default:return!1}},g=b.observable(a.pageSize||20),h=b.observable(0),i=b.computed(function(){var a=g(),b=h(),c=a*b,d=a*(b+1);return e().slice(c,d)},this),j=b.computed(function(){return Math.ceil(e().length/g())||1}),k=b.computed(function(){return h()+1}),l=b.computed(function(){return h()*g()+1}),m=b.computed(function(){return l()+(i().length-1)}),n=function(){h()<j()-1&&h(h()+1)},o=function(){h()>0&&h(h()-1)},p=b.computed(function(){return 1==k()}),q=b.computed(function(){return k()==j()});g.subscribe(function(){h(0)}),e.subscribe(function(){h(0)}),this.allData=d,this.searchData=e,this.searchString=c,this.pageSize=g,this.pageIndex=h,this.pageNumber=k,this.page=i,this.pageCount=j,this.nextPage=n,this.previousPage=o,this.pageFirstRecordNumber=l,this.pageLastRecordNumber=m,this.isFirstPage=p,this.isLastPage=q}}(dorsett,ko);