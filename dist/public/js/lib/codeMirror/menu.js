function XmlMenu(a){mmm="",$("Menu>Item",a).each(function(){mmm+=MenuList(this,"None",!1,"None","","")+"<ul>",$(this).children().each(function(){TheIcon="Empty",disabledItem=!1,ShortCut="None",Click="",Class="","true"==$(this).attr("checked")&&(TheIcon="Check"),"true"==$(this).attr("disabled")&&(disabledItem=!0),$(this).attr("ShortCut")&&(ShortCut=$(this).attr("ShortCut")),$(this).attr("Click")&&(Click='onclick="'+$(this).attr("Click")+'"'),$(this).attr("class")&&(Class=$(this).attr("class")),$(this).attr("Title")&&(mmm+=MenuList(this,TheIcon,disabledItem,ShortCut,Click,Class)+EndMenuList()),"separator"==this.tagName&&(mmm+="<hr/>")}),mmm+="</ul>"+EndMenuList()}),$("ul#menu").html(mmm).menubar(),console.log($("#ui-menu-0 #ui-menu-0-1")),$("#ui-menu-0 #ui-menu-0-1").wrapInner('<label  for="openFile" ></label>')}function MenuList(a,b,c,d,e,f){return"None"==d&&(d=""),"Empty"==b&&(IconTag="<span class='ui-icon ui-icon-empty '></span>"),"Check"==b&&(IconTag="<span class='ui-icon ui-icon-check '></span>"),"None"==b?"<li><a class='"+f+"' href=#"+$(a).attr("Title")+">"+$(a).attr("Title")+e+"</a>":"None"!=b&&0==c?"<li><a class='"+f+"' href=#"+$(a).attr("Title")+'" '+e+">"+IconTag+$(a).attr("Title")+"<div class='shortcut'>"+d+"</div></a>":"None"!=b&&1==c?"<li class='ui-state-disabled'>"+IconTag+"<span style='position:relative;left:18px;'>"+$(a).attr("Title")+"</span><div class='shortcut'>"+d+"</div>":void 0}function EndMenuList(){return"</li>"}$(function(){$("td:has(.menubar)").clone().appendTo("tbody tr:not(:first)"),$("#bar1, .menubar").menubar({select:function(a,b){$("<div/>").text("Selected: "+b.item.text()).appendTo("#log")}}),$(".menubar-icons").menubar({menuIcon:!0,buttons:!0,select:function(a,b){$("<div/>").text("Selected: "+b.item.text()).appendTo("#log")}})}),$(document).ready(function(){$.ajax({type:"GET",url:"Menu.xml",dataType:"xml",success:function(a){XmlMenu(a)}})});