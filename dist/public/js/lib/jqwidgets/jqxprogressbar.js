!function(a){a.jqx.jqxWidget("jqxProgressBar","",{}),a.extend(a.jqx._jqxProgressBar.prototype,{defineInstance:function(){this.value=0,this.oldValue=null,this.max=100,this.min=0,this.orientation="horizontal",this.layout="normal",this.width=null,this.height=null,this.showText=!1,this.animationDuration=300,this.disabled=!1,this.rtl=!1,this.renderText=null,this.aria={"aria-valuenow":{name:"value",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},this.events=["valuechanged","invalidvalue","complete"]},createInstance:function(b){var c=this;this.host.addClass(this.toThemeProperty("jqx-progressbar")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),a.jqx.aria(this),null!=this.width&&this.width.toString().indexOf("px")!=-1?this.host.width(this.width):void 0==this.width||isNaN(this.width)?this.host.width(this.width):this.host.width(this.width),null!=this.height&&this.height.toString().indexOf("px")!=-1?this.host.height(this.height):void 0==this.height||isNaN(this.height)?this.host.height(this.height):this.host.height(this.height),this.valueDiv=a("<div></div>").appendTo(this.element),"horizontal"==this.orientation?(this.valueDiv.width(0),this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value"))):(this.valueDiv.height(0),this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value-vertical"))),this.valueDiv.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.feedbackElementHost=a("<div style='width: 100%; height: 100%; position: relative;'></div>").appendTo(this.host),this.feedbackElement=a("<span class='text'></span>").appendTo(this.feedbackElementHost),this.feedbackElement.addClass(this.toThemeProperty("jqx-progressbar-text")),this.oldValue=this._value(),this.refresh(),a.jqx.utilities.resize(this.host,function(){c.refresh()})},resize:function(a,b){this.width=a,this.height=b,this.refresh()},destroy:function(){this.host.removeClass(),this.valueDiv.removeClass(),this.valueDiv.remove(),this.feedbackElement.remove()},_raiseevent:function(a,b,c){if(void 0!=this.isInitialized&&1==this.isInitialized){var d=this.events[a],e=new jQuery.Event(d);e.previousValue=b,e.currentValue=c,e.owner=this;var f=this.host.trigger(e);return f}},actualValue:function(b){return void 0===b?this._value():(a.jqx.aria(this,"aria-valuenow",b),a.jqx.setvalueraiseevent(this,"value",b),this._value())},val:function(a){return 0==arguments.length||"object"==typeof a?this.actualValue():this.actualValue(a)},propertyChangedHandler:function(b,c,d,e){if(this.isInitialized){var f=this;"min"==c&&b.value<e?b.value=e:"max"==c&&b.value>e&&(b.value=e),"value"===c&&void 0!=f.value&&(f.value=e,f.oldValue=d,a.jqx.aria(b,"aria-valuenow",e),(e<f.min||e>f.max)&&f._raiseevent(1,d,e),f.refresh()),"theme"==c&&a.jqx.utilities.setTheme(d,e,b.host),"renderText"==c||"orientation"==c||"layout"==c||"showText"==c||"min"==c||"max"==c?f.refresh():"width"==c&&void 0!=f.width?void 0==f.width||isNaN(f.width)||(f.host.width(f.width),f.refresh()):"height"==c&&void 0!=f.height&&(void 0==f.height||isNaN(f.height)||(f.host.height(f.height),f.refresh())),"disabled"==c&&f.refresh()}},_value:function(){var a=this.value;if("number"!=typeof a){var b=parseInt(a);a=isNaN(b)?0:b}return Math.min(this.max,Math.max(this.min,a))},_percentage:function(){return 100*this._value()/this.max},_textwidth:function(b){var c=a("<span>"+b+"</span>");a(this.host).append(c);var d=c.width();return c.remove(),d},_textheight:function(b){var c=a("<span>"+b+"</span>");a(this.host).append(c);var d=c.height();return c.remove(),d},_initialRender:!0,refresh:function(){var b=this.actualValue(),c=this._percentage();if(this.disabled)return this.host.addClass(this.toThemeProperty("jqx-progressbar-disabled")),void this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));if(this.host.removeClass(this.toThemeProperty("jqx-progressbar-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),a(this.element.children[0]).show(),!isNaN(b)&&!isNaN(c)){this.oldValue!==b&&(this._raiseevent(0,this.oldValue,b),this.oldValue=b);var d=this.oldValue,e=this.host.outerHeight(),f=this.host.outerWidth();null!=this.width&&(f=parseInt(this.width)),null!=this.height&&(e=parseInt(this.height));var g=parseInt(this.host.outerWidth())/2;parseInt(this.host.outerHeight())/2;isNaN(c)&&(c=0);var h=this;try{var i=this.element.children[0];if(a(i)[0].style.position="relative","horizontal"==this.orientation){a(i).toggle(b>=this.min);var f=this.host.outerWidth()*c/100,j=0;("reverse"==this.layout||this.rtl)&&(this._initialRender&&(a(i)[0].style.left=this.host.width()+"px",a(i)[0].style.width=0),j=this.host.outerWidth()-f),a(i).animate({width:f,left:j+"px"},this.animationDuration,function(){h._value()===h.max&&h._raiseevent(2,d,h.max)}),this.feedbackElementHost.css("margin-top",-this.host.height())}else{a(i).toggle(b>=this.min);var e=this.host.height()*c/100,k=0;"reverse"==this.layout&&(this._initialRender&&(a(i)[0].style.top=this.host.height()+"px",a(i)[0].style.height=0),k=this.host.height()-e),this.feedbackElementHost.animate({"margin-top":-(c.toFixed(0)*h.host.height())/100},this.animationDuration,function(){}),a(i).animate({height:e,top:k+"px"},this.animationDuration,function(){var b=h._percentage();isNaN(b)&&(b=0),b.toFixed(0)==h.min&&(a(i).hide(),h._value()===h.max&&h._raiseevent(2,d,h.max))})}}catch(l){}this._initialRender=!1,this.feedbackElement.html(c.toFixed(0)+"%").toggle(1==this.showText),this.renderText&&this.feedbackElement.html(this.renderText(c.toFixed(0)+"%")),this.feedbackElement.css("position","absolute"),this.feedbackElement.css("top","50%"),this.feedbackElement.css("left","0");var m=this.feedbackElement.height(),n=this.feedbackElement.width(),o=Math.floor(g-parseInt(n)/2);this.feedbackElement.css({left:o,"margin-top":-parseInt(m)/2+"px"})}}})}(jQuery);