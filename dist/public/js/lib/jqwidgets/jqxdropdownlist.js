!function(a){a.jqx.jqxWidget("jqxDropDownList","",{}),a.extend(a.jqx._jqxDropDownList.prototype,{defineInstance:function(){this.disabled=!1,this.width=null,this.height=null,this.items=new Array,this.selectedIndex=-1,this.source=null,this.scrollBarSize=15,this.arrowSize=19,this.enableHover=!0,this.enableSelection=!0,this.visualItems=new Array,this.groups=new Array,this.equalItemsWidth=!0,this.itemHeight=-1,this.visibleItems=new Array,this.emptyGroupText="Group",this.checkboxes=!1,void 0==this.openDelay&&(this.openDelay=250),void 0==this.closeDelay&&(this.closeDelay=300),this.animationType="default",this.autoOpen=!1,this.dropDownWidth="auto",this.dropDownHeight="200px",this.autoDropDownHeight=!1,this.keyboardSelection=!0,this.enableBrowserBoundsDetection=!1,this.dropDownHorizontalAlignment="left",this.displayMember="",this.valueMember="",this.searchMode="startswithignorecase",this.incrementalSearch=!0,this.incrementalSearchDelay=700,this.renderer=null,this.placeHolder="Please Choose:",this.promptText="Please Choose:",this.emptyString="",this.rtl=!1,this.selectionRenderer=null,this.listBox=null,this.popupZIndex=9999999999999,this.renderMode="default",this.touchMode="auto",this._checkForHiddenParent=!0,this.autoBind=!0,this.focusable=!0,this.aria={"aria-disabled":{name:"disabled",type:"boolean"}},this.events=["open","close","select","unselect","change","checkChange","bindingComplete"]},createInstance:function(a){this.render()},render:function(){this.width||(this.width=200),this.height||(this.height=25),this.element.innerHTML="",this.isanimating=!1,this.id=this.element.id||a.jqx.utilities.createId(),this.host.attr("role","combobox"),a.jqx.aria(this,"aria-autocomplete","both"),a.jqx.aria(this,"aria-readonly",!1);var b=a("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'/><div id='dropdownlistArrow' unselectable='on' style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>");if(this._addInput(),null==a.jqx._jqxListBox||void 0==a.jqx._jqxListBox)throw new Error("jqxDropDownList: Missing reference to jqxlistbox.js.");this.host.attr("tabindex")?(b.attr("tabindex",this.host.attr("tabindex")),this.host.removeAttr("tabindex")):b.attr("tabindex",0);var c=this;this.touch=a.jqx.mobile.isTouchDevice(),this.comboStructure=b,this.host.append(b),this.dropdownlistWrapper=this.host.find("#dropdownlistWrapper"),this.dropdownlistArrow=this.host.find("#dropdownlistArrow"),this.arrow=a(this.dropdownlistArrow.children()[0]),this.dropdownlistContent=this.host.find("#dropdownlistContent"),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-dropdownlist-content")),this.dropdownlistWrapper.addClass(this.toThemeProperty("jqx-disableselect")),this.rtl&&(this.dropdownlistContent.addClass(this.toThemeProperty("jqx-rtl")),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-dropdownlist-content-rtl"))),this.addHandler(this.dropdownlistWrapper,"selectstart",function(){return!1}),this.dropdownlistWrapper[0].id="dropdownlistWrapper"+this.element.id,this.dropdownlistArrow[0].id="dropdownlistArrow"+this.element.id,this.dropdownlistContent[0].id="dropdownlistContent"+this.element.id,"Please Choose:"!=this.promptText&&(this.placeHolder=this.promptText);var d=this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-dropdownlist-state-normal")+" "+this.toThemeProperty("jqx-rc-all")+" "+this.toThemeProperty("jqx-fill-state-normal");this.element.className+=" "+d,this._firstDiv=this.host.find("div:first");try{var e="listBox"+this.id,f=a(a.find("#"+e));f.length>0&&f.remove(),a.jqx.aria(this,"aria-owns",e),a.jqx.aria(this,"aria-haspopup",!0);var g=a("<div style='overflow: hidden; background-color: transparent; border: none; position: absolute;' id='listBox"+this.id+"'><div id='innerListBox"+this.id+"'></div></div>");g.hide(),g.appendTo(document.body),this.container=g,this.listBoxContainer=a(a.find("#innerListBox"+this.id));var h=this.width;"auto"!=this.dropDownWidth&&(h=this.dropDownWidth),null==h&&(h=this.host.width(),0==h&&(h=this.dropDownWidth)),null==this.dropDownHeight&&(this.dropDownHeight=200);var c=this;this.container.width(parseInt(h)+25),this.container.height(parseInt(this.dropDownHeight)+25),this.addHandler(this.listBoxContainer,"bindingComplete",function(a){c._raiseEvent("6")}),this.listBoxContainer.jqxListBox({autoBind:this.autoBind,_checkForHiddenParent:!1,focusable:this.focusable,touchMode:this.touchMode,checkboxes:this.checkboxes,rtl:this.rtl,emptyString:this.emptyString,itemHeight:this.itemHeight,width:h,searchMode:this.searchMode,incrementalSearch:this.incrementalSearch,incrementalSearchDelay:this.incrementalSearchDelay,displayMember:this.displayMember,valueMember:this.valueMember,height:this.dropDownHeight,autoHeight:this.autoDropDownHeight,scrollBarSize:this.scrollBarSize,selectedIndex:this.selectedIndex,source:this.source,theme:this.theme,rendered:function(){c.selectedIndex!=c.listBoxContainer.jqxListBox("selectedIndex")?(c.listBox=a.data(c.listBoxContainer[0],"jqxListBox").instance,c.listBoxContainer.jqxListBox({selectedIndex:c.selectedIndex}),c.renderSelection("mouse")):c.renderSelection("mouse")},renderer:this.renderer}),this.listBoxContainer.css({position:"absolute",zIndex:this.popupZIndex,top:0,left:0}),this.listBox=a.data(this.listBoxContainer[0],"jqxListBox").instance,this.listBox.enableSelection=this.enableSelection,this.listBox.enableHover=this.enableHover,this.listBox.equalItemsWidth=this.equalItemsWidth,this.listBox.selectIndex(this.selectedIndex),this.listBox._arrange(),this.listBoxContainer.addClass(this.toThemeProperty("jqx-popup")),a.jqx.browser.msie&&this.listBoxContainer.addClass(this.toThemeProperty("jqx-noshadow")),this.addHandler(this.listBoxContainer,"unselect",function(a){c._raiseEvent("3",{index:a.args.index,type:a.args.type,item:a.args.item})}),this.addHandler(this.listBoxContainer,"change",function(a){"keyboard"!=a.args.type?c._raiseEvent("4",{index:a.args.index,type:a.args.type,item:a.args.item}):"keyboard"==a.args.type&&(c.isOpened()||c._raiseEvent("4",{index:c.selectedIndex,type:"keyboard",item:c.getItem(c.selectedIndex)}))}),"none"==this.animationType?this.container.css("display","none"):this.container.hide()}catch(i){}var j=this;if(this.propertyChangeMap.disabled=function(b,c,d,e){e?(b.host.addClass(j.toThemeProperty("jqx-dropdownlist-state-disabled")),b.host.addClass(j.toThemeProperty("jqx-fill-state-disabled")),b.dropdownlistContent.addClass(j.toThemeProperty("jqx-dropdownlist-content-disabled"))):(b.host.removeClass(j.toThemeProperty("jqx-dropdownlist-state-disabled")),b.host.removeClass(j.toThemeProperty("jqx-fill-state-disabled")),b.dropdownlistContent.removeClass(j.toThemeProperty("jqx-dropdownlist-content-disabled"))),a.jqx.aria(b,"aria-disabled",b.disabled)},this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-dropdownlist-content-disabled"))),this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this.arrow.addClass(this.toThemeProperty("jqx-icon")),"simple"===this.renderMode&&(this.arrow.remove(),this.host.removeClass(this.toThemeProperty("jqx-fill-state-normal")),this.host.removeClass(this.toThemeProperty("jqx-rc-all"))),this._updateHandlers(),this._setSize(),this._arrange(),this.listBox&&this.renderSelection(),a.jqx.browser.msie&&a.jqx.browser.version<8&&this.host.parents(".jqx-window").length>0){var k=this.host.parents(".jqx-window").css("z-index");g.css("z-index",k+10),this.listBoxContainer.css("z-index",k+10)}},resize:function(a,b){this.width=a,this.height=b,this._setSize(),this._arrange()},val:function(a){if(!this.dropdownlistContent)return"";if(this.input&&0==arguments.length)return this.input.val();var b=this.getItemByValue(a);return null!=b&&this.selectItem(b),this.input?this.input.val():void 0},focus:function(){try{var a=this,b=function(){a.host.focus(),a._firstDiv&&a._firstDiv.focus()};b(),setTimeout(function(){b()},10)}catch(c){}},_addInput:function(){var b=this.host.attr("name");this.input=a("<input type='hidden'/>"),this.host.append(this.input),b&&this.input.attr("name",b)},getItems:function(){return this.listBox?this.listBox.items:new Array},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){null!=this.width&&this.width.toString().indexOf("px")!=-1?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&this.height.toString().indexOf("px")!=-1?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height);var b=!1;null!=this.width&&this.width.toString().indexOf("%")!=-1&&(b=!0,this.host.width(this.width)),null!=this.height&&this.height.toString().indexOf("%")!=-1&&(b=!0,this.host.height(this.height));var c=this,d=function(){if(c._arrange(),"auto"==c.dropDownWidth){var a=c.host.width();c.listBoxContainer.jqxListBox({width:a}),c.container.width(parseInt(a)+25)}};if(b){var e=this.host.width();"auto"!=this.dropDownWidth&&(e=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:e}),this.container.width(parseInt(e)+25)}a.jqx.utilities.resize(this.host,function(){d()},!1,this._checkForHiddenParent)},isOpened:function(){var b=this,c=a.data(document.body,"openedJQXListBox"+this.id);return null!=c&&c==b.listBoxContainer},_updateHandlers:function(){var b=this,c=!1;this.removeHandlers(),this.touch||(this.addHandler(this.host,"mouseenter",function(){!b.disabled&&b.enableHover&&"simple"!==b.renderMode&&(c=!0,b.host.addClass(b.toThemeProperty("jqx-dropdownlist-state-hover")),b.arrow.addClass(b.toThemeProperty("jqx-icon-arrow-down-hover")),b.host.addClass(b.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!b.disabled&&b.enableHover&&"simple"!==b.renderMode&&(b.host.removeClass(b.toThemeProperty("jqx-dropdownlist-state-hover")),b.host.removeClass(b.toThemeProperty("jqx-fill-state-hover")),b.arrow.removeClass(b.toThemeProperty("jqx-icon-arrow-down-hover")),c=!1)})),this.host.parents()&&this.addHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id,function(a){var c=b.isOpened();c&&b.close()});var d="mousedown";this.touch&&(d=a.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.dropdownlistWrapper,d,function(a){if(!b.disabled){var c="block"==b.container.css("display");if(!b.isanimating){if(c)return b.hideListBox(),!1;b.showListBox(),b.focusable?b.focus():a.preventDefault&&a.preventDefault()}}}),b.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){var a=b.isOpened();!a&&b.autoOpen&&(b.open(),b.host.focus())}),a(document).on("mousemove."+b.id,function(a){var c=b.isOpened();if(c&&b.autoOpen){var d=b.host.coord(),e=d.top,f=d.left,g=b.container.coord(),h=g.left,i=g.top;canClose=!0,a.pageY>=e&&a.pageY<=e+b.host.height()&&a.pageX>=f&&a.pageX<f+b.host.width()&&(canClose=!1),a.pageY>=i&&a.pageY<=i+b.container.height()&&a.pageX>=h&&a.pageX<h+b.container.width()&&(canClose=!1),canClose&&b.close()}})),this.touch?this.addHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,b.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}):this.addHandler(a(document),"mousedown."+this.id,b.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(a){var c="block"==b.container.css("display");if("none"==b.host.css("display"))return!0;if(("13"==a.keyCode||"9"==a.keyCode)&&!b.isanimating)return c&&(b.renderSelection(),"13"==a.keyCode&&b.focusable&&b._firstDiv.focus(),b.hideListBox(),b.keyboardSelection||b._raiseEvent("2",{index:b.selectedIndex,type:"keyboard",item:b.getItem(b.selectedIndex)}),"13"==a.keyCode&&b._raiseEvent("4",{index:b.selectedIndex,type:"keyboard",item:b.getItem(b.selectedIndex)})),!c||"9"==a.keyCode;if(115==a.keyCode)return b.isanimating||(b.isOpened()?b.isOpened()&&b.hideListBox():b.showListBox()),!1;if(a.altKey&&"block"==b.host.css("display"))if(38==a.keyCode){if(b.isOpened())return b.hideListBox(),!0}else if(40==a.keyCode&&!b.isOpened())return b.showListBox(),!0;return"27"!=a.keyCode||b.ishiding?b.disabled?void 0:b.listBox._handleKeyDown(a):(b.isOpened()&&(b.hideListBox(),void 0!=b.tempSelectedIndex&&b.selectIndex(b.tempSelectedIndex)),!0)}),this.addHandler(this.listBoxContainer,"checkChange",function(a){b.renderSelection(),b._updateInputSelection(),b._raiseEvent(5,{label:a.args.label,value:a.args.value,checked:a.args.checked,item:a.args.item})}),this.addHandler(this.listBoxContainer,"select",function(a){b.disabled||("keyboard"!=a.args.type||b.isOpened()||b.renderSelection(),("keyboard"!=a.args.type||b.keyboardSelection)&&(b.renderSelection(),b._raiseEvent("2",{index:a.args.index,type:a.args.type,item:a.args.item,originalEvent:a.args.originalEvent}),"mouse"==a.args.type&&(b.checkboxes||(b.hideListBox(),b._firstDiv&&b.focusable&&b._firstDiv.focus()))))}),this.listBox&&this.listBox.content&&this.addHandler(this.listBox.content,"click",function(a){if(!b.disabled){if(b.listBox.itemswrapper&&a.target===b.listBox.itemswrapper[0])return!0;b.renderSelection("mouse"),b.touch||b.ishiding||b.checkboxes||(b.hideListBox(),b._firstDiv&&b.focusable&&b._firstDiv.focus()),b.keyboardSelection||(void 0==b._oldSelectedInd&&(b._oldSelectedIndx=b.selectedIndex),b.selectedIndex!=b._oldSelectedIndx&&(b._raiseEvent("2",{index:b.selectedIndex,type:"keyboard",item:b.getItem(b.selectedIndex)}),b._oldSelectedIndx=b.selectedIndex))}}),this.addHandler(this.host,"focus",function(a){"simple"!==b.renderMode&&(b.host.addClass(b.toThemeProperty("jqx-dropdownlist-state-focus")),b.host.addClass(b.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this.host,"blur",function(){"simple"!==b.renderMode&&(b.host.removeClass(b.toThemeProperty("jqx-dropdownlist-state-focus")),b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"focus",function(a){"simple"!==b.renderMode&&(b.host.addClass(b.toThemeProperty("jqx-dropdownlist-state-focus")),b.host.addClass(b.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"blur",function(){"simple"!==b.renderMode&&(b.host.removeClass(b.toThemeProperty("jqx-dropdownlist-state-focus")),b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus")))})},removeHandlers:function(){var b=this,c="mousedown";this.touch&&(c=a.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistWrapper,c),this.listBox&&this.listBox.content&&this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.host,"loadContent"),this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this._firstDiv,"focus"),this.removeHandler(this._firstDiv,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(a(document),"mousemove."+b.id)},getItem:function(a){var b=this.listBox.getItem(a);return b},getItemByValue:function(a){var b=this.listBox.getItemByValue(a);return b},selectItem:function(a){void 0!=this.listBox&&(this.listBox.selectItem(a),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"))},unselectItem:function(a){void 0!=this.listBox&&(this.listBox.unselectItem(a),this.renderSelection("mouse"))},checkItem:function(a){void 0!=this.listBox&&this.listBox.checkItem(a)},uncheckItem:function(a){void 0!=this.listBox&&this.listBox.uncheckItem(a)},indeteterminateItem:function(a){void 0!=this.listBox&&this.listBox.indeteterminateItem(a)},renderSelection:function(){if(null!=this.listBox){this.height&&this.height.toString().indexOf("%")!=-1&&this._arrange();var b=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.checkboxes){var c=this.getCheckedItems();b=null!=c&&c.length>0?c[0]:null}if(null==b){var d=a('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"></span>');d.appendTo(a(document.body)),d.addClass(this.toThemeProperty("jqx-widget")),d.addClass(this.toThemeProperty("jqx-listitem-state-normal")),d.addClass(this.toThemeProperty("jqx-item")),a.jqx.utilities.html(d,this.placeHolder);var e=this.dropdownlistContent.css("padding-top"),f=this.dropdownlistContent.css("padding-bottom");d.css("padding-top",e),d.css("padding-bottom",f);var g=d.outerHeight();d.remove(),d.removeClass(),a.jqx.utilities.html(this.dropdownlistContent,d);var h=this.host.height();null!=this.height&&void 0!=this.height&&this.height.toString().indexOf("%")===-1&&(h=parseInt(this.height));var i=parseInt((parseInt(h)-parseInt(g))/2);return i>0&&(this.dropdownlistContent.css("margin-top",i+"px"),this.dropdownlistContent.css("margin-bottom",i+"px")),this.selectionRenderer&&(a.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(d,-1,"","")),this.dropdownlistContent.css("margin-top","0px"),this.dropdownlistContent.css("margin-bottom","0px"),this._updateInputSelection()),this.selectedIndex=this.listBox.selectedIndex,"auto"===this.width&&this._arrange(),void(this.focusable&&this.isOpened()&&this.focus())}this.selectedIndex=this.listBox.selectedIndex;var d=a('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"></span>');d.appendTo(a(document.body)),d.addClass(this.toThemeProperty("jqx-widget")),d.addClass(this.toThemeProperty("jqx-listitem-state-normal")),d.addClass(this.toThemeProperty("jqx-item"));var j=!1;try{void 0!=b.html&&null!=b.html&&b.html.toString().length>0?a.jqx.utilities.html(d,b.html):void 0!=b.label&&null!=b.label&&b.label.toString().length>0?a.jqx.utilities.html(d,b.label):null===b.label||""===b.label?(j=!0,a.jqx.utilities.html(d,"")):void 0!=b.value&&null!=b.value&&b.value.toString().length>0?a.jqx.utilities.html(d,b.value):void 0!=b.title&&null!=b.title&&b.title.toString().length>0?a.jqx.utilities.html(d,b.title):""!=b.label&&null!=b.label||(j=!0,a.jqx.utilities.html(d,""))}catch(k){}var e=this.dropdownlistContent.css("padding-top"),f=this.dropdownlistContent.css("padding-bottom");d.css("padding-top",e),d.css("padding-bottom",f);var g=d.outerHeight();0===g&&(g=16),""!=b.label&&null!=b.label||!j||a.jqx.utilities.html(d,"");var l=this.width&&this.width.toString().indexOf("%")<=0;if(d.remove(),d.removeClass(),this.selectionRenderer)a.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(d,b.index,b.label,b.value)),this.focusable&&this.isOpened()&&this.focus();else if(this.checkboxes){for(var m=this.getCheckedItems(),n="",o=0;o<m.length;o++)n+=o==m.length-1?m[o].label:m[o].label+",";d.text(n),l&&d.css("max-width",this.host.width()-30),d.css("overflow","hidden"),d.css("display","block"),this.rtl||l&&d.css("width",this.host.width()-30),d.css("text-overflow","ellipsis"),d.css("padding-bottom",1+parseInt(f)),this.dropdownlistContent.html(d),this.focusable&&this.isOpened()&&this.focus()}else this.width&&"auto"!==this.width&&(l&&(this.rtl||d.css("max-width",this.host.width()-this.arrowSize-3)),d.css("overflow","hidden"),d.css("display","block"),d.css("padding-bottom",1+parseInt(f)),this.rtl||l&&d.css("width",this.host.width()-this.arrowSize-3),d.css("text-overflow","ellipsis")),this.dropdownlistContent.html(d),this.focusable&&this.isOpened()&&this.focus();var h=this.host.height();null!=this.height&&void 0!=this.height&&this.height.toString().indexOf("%")===-1&&(h=parseInt(this.height));var i=parseInt((parseInt(h)-parseInt(g))/2);i>0&&(this.dropdownlistContent.css("margin-top",i+"px"),this.dropdownlistContent.css("margin-bottom",i+"px")),this.selectionRenderer&&(this.dropdownlistContent.css("margin-top","0px"),this.dropdownlistContent.css("margin-bottom","0px")),this.dropdownlistContent&&this.input&&this._updateInputSelection(),this.listBox&&this.listBox._activeElement&&a.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id),"auto"===this.width&&this._arrange()}},_updateInputSelection:function(){if(this.input){if(this.selectedIndex==-1)this.input.val("");else{var a=this.getSelectedItem();null!=a?this.input.val(a.value):this.input.val(this.dropdownlistContent.text())}if(this.checkboxes){var b=this.getCheckedItems(),c="";if(null!=b)for(var d=0;d<b.length;d++){var e=b[d].value;void 0!=e&&(c+=d==b.length-1?e:e+",")}this.input.val(c)}}},setContent:function(b){a.jqx.utilities.html(this.dropdownlistContent,b),this._updateInputSelection()},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(b){this.selectedIndex=-1,this._updateInputSelection(),this.listBox.clearSelection(),this.renderSelection(),this.selectionRenderer||a.jqx.utilities.html(this.dropdownlistContent,this.placeHolder)},unselectIndex:function(a,b){isNaN(a)||(this.listBox.unselectIndex(a,b),this.renderSelection())},selectIndex:function(a,b,c,d){this.listBox.selectIndex(a,b,c,d,"api")},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.listBox.getVisibleItem(this.selectedIndex)},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(a){this.listBox.checkIndex(a)},uncheckIndex:function(a){this.listBox.uncheckIndex(a)},indeterminateIndex:function(a){this.listBox.indeterminateIndex(a)},checkAll:function(){this.listBox.checkAll(),this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll(),this.renderSelection("mouse")},addItem:function(a){return this.listBox.addItem(a)},insertAt:function(a,b){return null!=a&&this.listBox.insertAt(a,b)},removeAt:function(a){var b=this.listBox.removeAt(a);return this.renderSelection("mouse"),b},removeItem:function(a){var b=this.listBox.removeItem(a);return this.renderSelection("mouse"),b},updateItem:function(a,b){var c=this.listBox.updateItem(a,b);return this.renderSelection("mouse"),c},updateAt:function(a,b){var c=this.listBox.updateAt(a,b);return this.renderSelection("mouse"),c},ensureVisible:function(a){return this.listBox.ensureVisible(a)},disableAt:function(a){return this.listBox.disableAt(a)},enableAt:function(a){return this.listBox.enableAt(a)},disableItem:function(a){return this.listBox.disableItem(a)},enableItem:function(a){return this.listBox.enableItem(a)},_findPos:function(b){for(;b&&("hidden"==b.type||1!=b.nodeType||a.expr.filters.hidden(b));)b=b.nextSibling;var c=a(b).coord(!0);return[c.left,c.top]},testOffset:function(b,c,d){var e=b.outerWidth(),f=b.outerHeight(),g=a(window).width()+a(window).scrollLeft(),h=a(window).height()+a(window).scrollTop();if(c.left+e>g&&e>this.host.width()){var i=this.host.coord().left,j=e-this.host.width();c.left=i-j+2}return c.left<0&&(c.left=parseInt(this.host.coord().left)+"px"),c.top-=Math.min(c.top,c.top+f>h&&h>f?Math.abs(f+d+22):0),c},open:function(){this.showListBox()},close:function(){this.hideListBox()},_getBodyOffset:function(){var b=0,c=0;return"0px"!=a("body").css("border-top-width")&&(b=parseInt(a("body").css("border-top-width")),isNaN(b)&&(b=0)),"0px"!=a("body").css("border-left-width")&&(c=parseInt(a("body").css("border-left-width")),isNaN(c)&&(c=0)),{left:c,top:b}},showListBox:function(){if(a.jqx.aria(this,"aria-expanded",!0),"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&(this.width.indexOf("%")!=-1||this.width.indexOf("auto")!=-1)&&this.listBox.host.width()!=this.host.width()){var b=this.host.width();this.listBoxContainer.jqxListBox({width:b}),this.container.width(parseInt(b)+25)}var c,d=this,e=this.listBoxContainer,f=this.listBox,g=(a(window).scrollTop(),a(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),h=parseInt(Math.round(this.host.coord(!0).left));c=h+"px";var i=a.jqx.mobile.isSafariMobileBrowser()||a.jqx.mobile.isWindowsPhone();if(null!=this.listBox){var j=a.jqx.utilities.hasTransform(this.host);this.ishiding=!1,this.keyboardSelection||(this.listBox.selectIndex(this.selectedIndex),this.listBox.ensureVisible(this.selectedIndex)),this.tempSelectedIndex=this.selectedIndex,this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25),(j||null!=i&&i)&&(c=a.jqx.mobile.getLeftPos(this.element),g=a.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=a("body").css("border-top-width")&&(g=parseInt(g)-this._getBodyOffset().top+"px"),"0px"!=a("body").css("border-left-width")&&(c=parseInt(c)-this._getBodyOffset().left+"px")),e.stop(),"simple"!==this.renderMode&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected"))),this.container.css("left",c),this.container.css("top",g),f._arrange();var k=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var l=this.container.outerWidth(),m=Math.abs(l-this.host.width());l>this.host.width()?this.container.css("left",25+parseInt(Math.round(h))-m+"px"):this.container.css("left",25+parseInt(Math.round(h))+m+"px")}if(this.enableBrowserBoundsDetection){var n=this.testOffset(e,{left:parseInt(this.container.css("left")),top:parseInt(g)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=n.top?(k=!0,e.css("top",23),e.addClass(this.toThemeProperty("jqx-popup-up"))):e.css("top",0),this.container.css("top",n.top),parseInt(this.container.css("left"))!=n.left&&this.container.css("left",n.left)}if("none"==this.animationType)this.container.css("display","block"),a.data(document.body,"openedJQXListBoxParent",d),a.data(document.body,"openedJQXListBox"+this.id,e),e.css("margin-top",0),e.css("opacity",1),f._renderItems(),d._raiseEvent("0",f);else if(this.container.css("display","block"),d.isanimating=!0,"fade"==this.animationType)e.css("margin-top",0),e.css("opacity",0),e.animate({opacity:1},this.openDelay,function(){a.data(document.body,"openedJQXListBoxParent",d),a.data(document.body,"openedJQXListBox"+d.id,e),d.ishiding=!1,d.isanimating=!1,f._renderItems(),d._raiseEvent("0",f)});else{e.css("opacity",1);var o=e.outerHeight();k?e.css("margin-top",o):e.css("margin-top",-o),e.animate({"margin-top":0},this.openDelay,function(){a.data(document.body,"openedJQXListBoxParent",d),a.data(document.body,"openedJQXListBox"+d.id,e),d.ishiding=!1,d.isanimating=!1,f._renderItems(),d._raiseEvent("0",f)})}k?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),e.addClass(this.toThemeProperty("jqx-rc-b-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),e.addClass(this.toThemeProperty("jqx-rc-t-expanded"))),"simple"!==this.renderMode&&(e.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")))}},hideListBox:function(){a.jqx.aria(this,"aria-expanded",!1);var b=this.listBoxContainer,c=this.listBox,d=this.container,e=this;if(a.data(document.body,"openedJQXListBox"+this.id,null),"none"==this.animationType)this.container.css("display","none");else if(!e.ishiding){b.stop();var f=b.outerHeight();b.css("margin-top",0),e.isanimating=!0;var g=-f;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(g=f),"fade"==this.animationType?(b.css({opacity:1}),b.animate({opacity:0},this.closeDelay,function(){d.css("display","none"),e.isanimating=!1,e.ishiding=!1})):b.animate({"margin-top":g},this.closeDelay,function(){d.css("display","none"),e.isanimating=!1,e.ishiding=!1})}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),b.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),b.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),b.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("1",c)},closeOpenedListBox:function(b){var c=b.data.me,d=a(b.target),e=b.data.listbox;if(null==e)return!0;if(a(b.target).ischildof(b.data.me.host))return!0;if(!c.isOpened())return!0;var f=!1;return a.each(d.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(this.className.indexOf("jqx-listbox")!=-1)return f=!0,!1;if(this.className.indexOf("jqx-dropdownlist")!=-1)return c.element.id==this.id&&(f=!0),!1}}),null!=e&&!f&&c.isOpened()&&c.hideListBox(),!0},loadFromSelect:function(a){this.listBox.loadFromSelect(a)},refresh:function(a){a!==!0&&(this._setSize(),this._arrange(),this.listBox&&this.renderSelection())},_arrange:function(){var a=parseInt(this.host.width()),b=parseInt(this.host.height()),c=(this.arrowSize,this.arrowSize),d=3,e=a-c-2*d;e>0&&"auto"!==this.width&&this.dropdownlistContent.width(e+"px"),"auto"===this.width&&(this.dropdownlistContent.css("width","auto"),a=this.dropdownlistContent.width()+c+2*d,this.host.width(a)),this.dropdownlistContent.height(b),this.dropdownlistContent.css("left",0),this.dropdownlistContent.css("top",0),this.dropdownlistArrow.width(c),this.dropdownlistArrow.height(b),this.rtl&&(this.dropdownlistArrow.css("float","left"),this.dropdownlistContent.css("float","right"))},destroy:function(){a.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id),this.removeHandlers(),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(a(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.arrow,delete this.dropdownlistContent,delete this.listBox,delete this._firstDiv,this.container.remove(),delete this.container;var b=a.data(this.element,"jqxDropDownList");b&&delete b.instance,this.host.removeData(),this.host.remove(),delete this.comboStructure,delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_raiseEvent:function(a,b){void 0==b&&(b={owner:null});var c=this.events[a];args=b,args.owner=this;var d=new jQuery.Event(c);d.owner=this,2!=a&&3!=a&&4!=a&&5!=a||(d.args=b);var e=this.host.trigger(d);return e},propertyChangedHandler:function(b,c,d,e){if(void 0!=b.isInitialized&&0!=b.isInitialized){if("enableSelection"==c&&b.listBoxContainer.jqxListBox({enableSelection:e}),"enableHover"==c&&b.listBoxContainer.jqxListBox({enableHover:e}),"autoOpen"==c&&b._updateHandlers(),"emptyString"==c&&(b.listBox.emptyString=b.emptyString),"itemHeight"==c&&b.listBoxContainer.jqxListBox({
itemHeight:e}),"renderer"==c&&b.listBoxContainer.jqxListBox({renderer:e}),"rtl"==c&&(e?(b.dropdownlistArrow.css("float","left"),b.dropdownlistContent.css("float","right")):(b.dropdownlistArrow.css("float","right"),b.dropdownlistContent.css("float","left")),b.listBoxContainer.jqxListBox({rtl:b.rtl})),"source"==c&&(b.listBoxContainer.jqxListBox({source:b.source}),b.listBox.selectedIndex=-1,b.listBox.selectIndex(this.selectedIndex),b.renderSelection(),null==e&&b.clear()),"displayMember"!=c&&"valueMember"!=c||(b.listBoxContainer.jqxListBox({displayMember:b.displayMember,valueMember:b.valueMember}),b.renderSelection()),"placeHolder"==c&&b.renderSelection(),"theme"==c&&null!=e&&(b.listBoxContainer.jqxListBox({theme:e}),b.listBoxContainer.addClass(b.toThemeProperty("jqx-popup")),a.jqx.browser.msie&&b.listBoxContainer.addClass(b.toThemeProperty("jqx-noshadow")),b.dropdownlistContent.removeClass(),b.dropdownlistContent.addClass(b.toThemeProperty("jqx-dropdownlist-content")),b.dropdownlistWrapper.removeClass(),b.dropdownlistWrapper.addClass(b.toThemeProperty("jqx-disableselect")),b.host.removeClass(),b.host.addClass(b.toThemeProperty("jqx-fill-state-normal")),b.host.addClass(b.toThemeProperty("jqx-dropdownlist-state-normal")),b.host.addClass(b.toThemeProperty("jqx-rc-all")),b.host.addClass(b.toThemeProperty("jqx-widget")),b.arrow.removeClass(),b.arrow.addClass(b.toThemeProperty("jqx-icon-arrow-down")),b.arrow.addClass(b.toThemeProperty("jqx-icon"))),"autoDropDownHeight"==c&&(b.listBoxContainer.jqxListBox({autoHeight:b.autoDropDownHeight}),b.autoDropDownHeight?b.container.height(b.listBoxContainer.height()+25):(b.listBoxContainer.jqxListBox({height:b.dropDownHeight}),b.container.height(parseInt(b.dropDownHeight)+25)),b.listBox._arrange(),b.listBox._updatescrollbars()),"searchMode"==c&&b.listBoxContainer.jqxListBox({searchMode:b.searchMode}),"incrementalSearch"==c&&b.listBoxContainer.jqxListBox({incrementalSearch:b.incrementalSearch}),"incrementalSearchDelay"==c&&b.listBoxContainer.jqxListBox({incrementalSearchDelay:b.incrementalSearchDelay}),"dropDownHeight"==c&&(b.autoDropDownHeight||(b.listBoxContainer.jqxListBox({height:b.dropDownHeight}),b.container.height(parseInt(b.dropDownHeight)+25))),"dropDownWidth"==c||"scrollBarSize"==c){var f=b.width;"auto"!=b.dropDownWidth&&(f=b.dropDownWidth),b.listBoxContainer.jqxListBox({width:f,scrollBarSize:b.scrollBarSize}),b.container.width(parseInt(f)+25)}if(("width"==c||"height"==c)&&e!=d&&(this.refresh(),"width"==c&&"auto"==b.dropDownWidth)){var f=b.host.width();b.listBoxContainer.jqxListBox({width:f}),b.container.width(parseInt(f)+25)}"checkboxes"==c&&b.listBoxContainer.jqxListBox({checkboxes:b.checkboxes}),"selectedIndex"==c&&null!=b.listBox&&(b.listBox.selectIndex(parseInt(e)),b.renderSelection())}}})}(jQuery);