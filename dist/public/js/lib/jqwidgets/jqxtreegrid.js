!function(a){a.jqx.jqxWidget("jqxTreeGrid","jqxDataTable",{}),a.extend(a.jqx._jqxTreeGrid.prototype,{defineInstance:function(){this.base.treeGrid=this,this.base.exportSettings={recordsInView:!1,columnsHeader:!0,hiddenColumns:!1,serverURL:null,characterSet:null,collapsedRecords:!1,fileName:"jqxTreeGrid"},this.checkboxes=!1,this.icons=!1,this.showSubAggregates=!1,this.rowDetailsRenderer=null,this.virtualModeCreateRecords=null,this.virtualModeRecordCreating=null,this.loadingFailed=!1},createInstance:function(a){this.theme=this.base.theme},deleterow:function(a){var b=this.base;b.deleterowbykey(a)},updaterow:function(a,b){var c=this.base;c.updaterowbykey(a,b)},setcellvalue:function(a,b,c){var d=this.base;d.setcellvaluebykey(a,b,c)},getcellvalue:function(a,b){var c=this.base;return c.getcellvaluebykey(a,b)},lockrow:function(a){var b=this.base;b.lockrowbykey(a)},unlockrow:function(a){var b=this.base;b.unlockrowbykey(a)},selectrow:function(a){var b=this.base;b.selectrowbykey(a)},unselectrow:function(a){var b=this.base;b.unselectrowbykey(a)},ensurerowvisible:function(a){var b=this.base;b.ensurerowvisiblebykey(a)},begincelledit:function(a,b){var c=this.base,d=c.getcolumn(b);c.beginroweditbykey(a,d)},beginrowedit:function(a){var b=this.base;b.beginroweditbykey(a)},endcelledit:function(a,b,c){var d=this.base;d.endroweditbykey(a,c)},endrowedit:function(a,b){var c=this.base;c.endroweditbykey(a,b)},_showLoadElement:function(){var b=this.base;"block"==b.host.css("display")&&b.autoshowloadelement&&(a(b.dataloadelement).css("visibility","visible"),a(b.dataloadelement).css("display","block"),b.dataloadelement.width(b.host.width()),b.dataloadelement.height(b.host.height()))},_hideLoadElement:function(){var b=this.base;"block"==b.host.css("display")&&b.autoshowloadelement&&(a(b.dataloadelement).css("visibility","hidden"),a(b.dataloadelement).css("display","none"),b.dataloadelement.width(b.host.width()),b.dataloadelement.height(b.host.height()))},getKey:function(a){if(a)return a.uid},getRows:function(){var a=this.base;return a.source.hierarchy?a.source.hierarchy:a.source.records},getrow:function(a){var b=this.base,c=b.source.records;if(b.source.hierarchy){var d=function(b){for(var c=0;c<b.length;c++)if(b[c]){if(b[c].uid==a)return b[c];if(b[c].records){var e=d(b[c].records);if(e)return e}}},e=d(b.source.hierarchy);return e}for(var f=0;f<c.length;f++)if(c[f]&&c[f].uid==a)return c[f]},_renderrows:function(){var b=this.base,c=this;if(!b._loading&&!b._updating){var d=b._names();if(0===b.source.hierarchy.length&&!b.loadingFailed&&this.virtualModeCreateRecords){var e=function(a){if(a===!1||a&&0==a.length)return b._loading=!1,b.loadingFailed=!0,b.source.hierarchy=new Array,c._hideLoadElement(),b._renderrows(),b._updateScrollbars(),void b._arrange();for(var d=0;d<a.length;d++)a[d].level=0,c.virtualModeRecordCreating(a[d]),b.rowsByKey[a[d].uid]=a[d];b.source.hierarchy=a,b.source._source.hierarchy||(b.source._source.hierarchy={}),b._loading=!1,c._hideLoadElement(),b._renderrows(),b._updateScrollbars(),b._arrange()};b._loading=!0,this.virtualModeCreateRecords(null,e),this._showLoadElement()}b.rendering&&b.rendering();var f=0;b.table[0].rows=new Array;var g=b.toTP("jqx-cell")+" "+b.toTP("jqx-widget-content")+" "+b.toTP("jqx-item");b.rtl&&(g+=" "+b.toTP("jqx-cell-rtl"));var h=b.columns.records.length,i=a.jqx.browser.msie&&a.jqx.browser.version<8;i&&b.host.attr("hideFocus","true");var j=new Array,k=function(a,c){for(var e=0;e<a.length;e++){var f=a[e];if(f){var g=b.rowinfo[f.uid]?b.rowinfo[f.uid].expanded:f.expanded;if(0==b.dataview.filters.length&&(f._visible=!0),f._visible!==!1)if(g||f[d.leaf]){if(c.push(f),f.records&&f.records.length>0)for(var h=k(f.records,new Array),i=0;i<h.length;i++)c.push(h[i])}else c.push(f)}}return c},l=0===b.source.hierarchy.length?b.source.records:b.source.hierarchy;if(l=b.dataview.evaluate(l),b.dataViewRecords=l,this.showSubAggregates){var m=function(b,c){0!=b&&c.length>0&&(c[c.length-1]?c[c.length-1].aggregate||c.push({_visible:!0,level:b,siblings:c,aggregate:!0,leaf:!0}):a.jqx.browser.msie&&a.jqx.browser.version<9&&c[c.length-2]&&(c[c.length-2].aggregate||c.push({_visible:!0,level:b,siblings:c,aggregate:!0,leaf:!0})));for(var d=0;d<c.length;d++)c[d]&&c[d].records&&m(b+1,c[d].records)};m(0,l)}if(0===b.source.hierarchy.length){if("all"==b.dataview.pagesize||!b.pageable||b.serverProcessing){var n=l;if(b.pageable&&b.serverProcessing&&l.length>b.dataview.pagesize)var n=l.slice(b.dataview.pagesize*b.dataview.pagenum,b.dataview.pagesize*b.dataview.pagenum+b.dataview.pagesize)}else var n=l.slice(b.dataview.pagesize*b.dataview.pagenum,b.dataview.pagesize*b.dataview.pagenum+b.dataview.pagesize);var j=n}else{var l=k.call(b,l,new Array);if("all"!=b.dataview.pagesize&&b.pageable)var n=l.slice(b.dataview.pagesize*b.dataview.pagenum,b.dataview.pagesize*b.dataview.pagenum+b.dataview.pagesize);else var n=l;var j=n,o=b.dataview.pagenum;if(b.updatepagerdetails(),b.dataview.pagenum!=o){if("all"!=b.dataview.pagesize&&b.pageable)var n=l.slice(b.dataview.pagesize*b.dataview.pagenum,b.dataview.pagesize*b.dataview.pagenum+b.dataview.pagesize);else var n=l;var j=n}}b.renderedRecords=j;var p=j.length,q=b.tableZIndex,r=0,s=0;if(i)for(var t=0;t<h;t++){var u=b.columns.records[t],v=u.width;v<u.minwidth&&(v=u.minwidth),v>u.maxwidth&&(v=u.maxwidth);var w=a('<table><tr><td role="gridcell" style="max-width: '+v+"px; width:"+v+'px;" class="'+g+'"></td></tr></table>');a(document.body).append(w);var x=w.find("td");r=1+parseInt(x.css("padding-left"))+parseInt(x.css("padding-right")),w.remove();break}for(var y=b.rtl?" "+b.toTP("jqx-grid-table-rtl"):"",z="<table cellspacing='0' class='"+b.toTP("jqx-grid-table")+y+"' id='table"+b.element.id+"'><colgroup>",A="<table cellspacing='0' class='"+b.toTP("jqx-grid-table")+y+"' id='pinnedtable"+b.element.id+"'><colgroup>",B=null,t=0;t<h;t++){var u=b.columns.records[t];if(!u.hidden){B=u;var v=u.width;if(v<u.minwidth&&(v=u.minwidth),v>u.maxwidth&&(v=u.maxwidth),v-=r,v<0&&(v=0),i){var C=v;0==t&&C++,A+="<col style='max-width: "+v+"px; width: "+C+"px;'>",z+="<col style='max-width: "+v+"px; width: "+C+"px;'>"}else A+="<col style='max-width: "+v+"px; width: "+v+"px;'>",z+="<col style='max-width: "+v+"px; width: "+v+"px;'>";s+=v}}z+="</colgroup>",A+="</colgroup>",b._hiddencolumns=!1;var D=!1;if(0===p){var E='<tr role="row">',F=b.host.height();if(b.pageable&&(F-=b.pagerheight,"both"===b.pagerposition&&(F-=b.pagerheight)),F-=b.columnsheight,b.filterable){var G=b.filter.find(".filterrow"),H=b.filter.find(".filterrow-hidden"),I=1;H.length>0&&(I=0),F-=b.filterheight+b.filterheight*G.length*I}b.showstatusbar&&(F-=b.statusbarheight),b.showaggregates&&(F-=b.aggregatesheight),F<25&&(F=25),"hidden"!=b.hScrollBar[0].style.visibility&&(F-=b.hScrollBar.outerHeight()),("auto"===b.height||null===b.height||b.autoheight)&&(F=100);var v=b.host.width()+2,w='<td colspan="'+b.columns.records.length+'" role="gridcell" style="border-right-color: transparent; min-height: '+F+"px; height: "+F+"px;  min-width:"+s+"px; max-width:"+s+"px; width:"+s+"px;",g=b.toTP("jqx-cell")+" "+b.toTP("jqx-grid-cell")+" "+b.toTP("jqx-item");g+=" "+b.toTP("jqx-center-align"),w+='" class="'+g+'">',b._loading||(w+=b.gridlocalization.emptydatastring),w+="</td>",E+=w,z+=E,A+=E,b.table[0].style.width=s+2+"px",f=s}for(var J=b.source._source.hierarchy&&b.source._source.hierarchy.groupingDataFields?b.source._source.hierarchy.groupingDataFields.length:0,K=0;K<j.length;K++){var L=j[K],M=L.uid;J>0&&L[d.level]<J&&(M=L.uid),void 0===L.uid&&(L.uid=b.dataview.generatekey());var E='<tr data-key="'+M+'" role="row" id="row'+K+b.element.id+'">',N='<tr data-key="'+M+'" role="row" id="row'+K+b.element.id+'">';if(L.aggregate)var E='<tr data-role="summaryrow" role="row" id="row'+K+b.element.id+'">',N='<tr data-role="summaryrow" role="row" id="row'+K+b.element.id+'">';var O=0;b.rowinfo[M]?(void 0===b.rowinfo[M].checked&&(b.rowinfo[M].checked=L[d.checked]),void 0===b.rowinfo[M].icon&&(b.rowinfo[M].icon=L[d.icon]),void 0===b.rowinfo[M].aggregate&&(b.rowinfo[M].aggregate=L[d.aggregate]),void 0===b.rowinfo[M].row&&(b.rowinfo[M].row=L),void 0===b.rowinfo[M].leaf&&(b.rowinfo[M].leaf=L[d.leaf]),void 0===b.rowinfo[M].expanded&&(b.rowinfo[M].expanded=L[d.expanded])):b.rowinfo[M]={selected:L[d.selected],checked:L[d.checked],icon:L[d.icon],aggregate:L.aggregate,row:L,leaf:L[d.leaf],expanded:L[d.expanded]};var P=b.rowinfo[M];P.row=L,L.originalRecord&&(P.originalRecord=L.originalRecord);for(var Q=0,t=0;t<h;t++){var R=b.columns.records[t];(R.pinned||b.rtl&&b.columns.records[h-1].pinned)&&(D=!0);var v=R.width;v<R.minwidth&&(v=R.minwidth),v>R.maxwidth&&(v=R.maxwidth),v-=r,v<0&&(v=0);var g=b.toTP("jqx-cell")+" "+b.toTP("jqx-grid-cell")+" "+b.toTP("jqx-item");R.pinned&&(g+=" "+b.toTP("jqx-grid-cell-pinned")),b.sortcolumn===R.displayfield&&(g+=" "+b.toTP("jqx-grid-cell-sort")),b.altrows&&K%2!=0&&(g+=" "+b.toTP("jqx-grid-cell-alt")),b.rtl&&(g+=" "+b.toTP("jqx-cell-rtl"));var S="";if(J>0&&!i&&L[d.level]<J){S+=' colspan="'+h+'"';for(var C=0,T=0;T<h;T++){var U=b.columns.records[T];if(!U.hidden){var V=U.width;V<U.minwidth&&(v=U.minwidth),V>U.maxwidth&&(v=U.maxwidth),V-=r,V<0&&(V=0),C+=V}}v=C}var w='<td role="gridcell"'+S+' style="max-width:'+v+"px; width:"+v+"px;",W='<td role="gridcell"'+S+' style="pointer-events: none; visibility: hidden; border-color: transparent; max-width:'+v+"px; width:"+v+"px;";t==h-1&&1==h&&(w+="border-right-color: transparent;",W+="border-right-color: transparent;"),J>0&&L[d.level]<J?b.rtl&&(g+=" "+b.toTP("jqx-right-align")):"left"!=R.cellsalign&&(g+="right"===R.cellsalign?" "+b.toTP("jqx-right-align"):" "+b.toTP("jqx-center-align")),P&&(P.selected&&b.editKey!==M&&"none"!==b.selectionmode&&(g+=" "+b.toTP("jqx-grid-cell-selected"),g+=" "+b.toTP("jqx-fill-state-pressed")),P.locked&&(g+=" "+b.toTP("jqx-grid-cell-locked")),P.aggregate&&(g+=" "+b.toTP("jqx-grid-cell-pinned"))),R.hidden?(w+="display: none;",W+="display: none;",b._hiddencolumns=!0):(0!=Q||b.rtl?(w+="border-right-width: 0px;",W+="border-right-width: 0px;"):(w+="border-left-width: 0px;",W+="border-left-width: 0px;"),Q++,O+=r+v),R.pinned&&(w+="pointer-events: auto;",W+="pointer-events: auto;");var X="";if(0!=b.source.hierarchy.length&&L.records&&(!L.records||0!==L.records.length)||this.virtualModeCreateRecords||(P.leaf=!0),L.records&&L.records.length>0&&(P.leaf=!1),b.dataview.filters.length>0&&L.records&&L.records.length>0){for(var Y=!1,Z=0;Z<L.records.length;Z++)if(L.records[Z]._visible!==!1&&void 0==L.records[Z].aggregate){Y=!0;break}Y?P.leaf=!1:P.leaf=!0}P&&!P.leaf&&(P.expanded?(X+=b.toTP("jqx-tree-grid-expand-button")+" ",X+=b.rtl?b.toTP("jqx-grid-group-expand-rtl"):b.toTP("jqx-grid-group-expand"),X+=" "+b.toTP("jqx-icon-arrow-down")):(X+=b.toTP("jqx-tree-grid-collapse-button")+" ",b.rtl?(X+=b.toTP("jqx-grid-group-collapse-rtl"),X+=" "+b.toTP("jqx-icon-arrow-left")):(X+=b.toTP("jqx-grid-group-collapse"),X+=" "+b.toTP("jqx-icon-arrow-right")))),b.autorowheight&&1!=Q||(g+=" "+b.toTP("jqx-grid-cell-nowrap "));var $=b._getcellvalue(R,P.row);if(J>0&&L[d.level]<J&&($=L.label),""!=R.cellsformat&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate($)?$=a.jqx.dataFormat.formatdate($,R.cellsformat,b.gridlocalization):(a.jqx.dataFormat.isNumber($)||!isNaN(parseFloat($))&&isFinite($))&&($=a.jqx.dataFormat.formatnumber($,R.cellsformat,b.gridlocalization))),""!=R.cellclassname&&R.cellclassname)if("string"==typeof R.cellclassname)g+=" "+R.cellclassname;else{var _=R.cellclassname(K,R.datafield,b._getcellvalue(R,P.row),P.row,$);_&&(g+=" "+_)}if(""!=R.cellsrenderer&&R.cellsrenderer){var aa=R.cellsrenderer(M,R.datafield,b._getcellvalue(R,P.row),P.row,$);void 0!==aa&&($=aa)}if(P.aggregate&&R.aggregates){var ba=L.siblings.slice(0,L.siblings.length-1),ca=b._calculateaggregate(R,null,!0,ba);if(L[R.displayfield]="",ca)if(R.aggregatesrenderer){if(ca){var da=R.aggregatesrenderer(ca[R.datafield],R,null,b.getcolumnaggregateddata(R.datafield,R.aggregates,!1,ba),"subAggregates");$=da,L[R.displayfield]+=name+":"+ca[R.datafield]+"\n"}}else $="",L[R.displayfield]="",a.each(ca,function(){var a=this;for(obj in a){var c=obj;c=b._getaggregatename(c);var d='<div style="position: relative; margin: 0px; overflow: hidden;">'+c+":"+a[obj]+"</div>";$+=d,L[R.displayfield]+=c+":"+a[obj]+"\n"}})}if(1===Q&&!b.rtl||R==B&&b.rtl||J>0&&L[d.level]<J){for(var ea="",fa=b.toThemeProperty("jqx-tree-grid-indent"),ga=P.leaf?1:0,ha=0;ha<L[d.level]+ga;ha++)ea+="<span class='"+fa+"'></span>";var ia="<span class='"+X+"'></span>",ja="",ka="";if(this.checkboxes&&!L.aggregate){var la=b.toThemeProperty("jqx-tree-grid-checkbox")+" "+fa+" "+b.toThemeProperty("jqx-checkbox-default")+" "+b.toThemeProperty("jqx-fill-state-normal")+" "+b.toThemeProperty("jqx-rc-all"),ma=!0;if(a.isFunction(this.checkboxes)&&(ma=this.checkboxes(M,L),void 0==ma&&(ma=!1)),ma)if(P){var na=P.checked;ja+=na?"<span class='"+la+"'><div class='"+b.toThemeProperty("jqx-tree-grid-checkbox-tick")+" "+b.toThemeProperty("jqx-checkbox-check-checked")+"'></div></span>":"<span class='"+la+"'></span>"}else ja+="<span class='"+la+"'></span>"}if(this.icons&&!L.aggregate){var oa=b.toThemeProperty("jqx-tree-grid-icon")+" "+fa;if(b.rtl)var oa=b.toThemeProperty("jqx-tree-grid-icon")+" "+b.toThemeProperty("jqx-tree-grid-icon-rtl")+" "+fa;var pa=b.toThemeProperty("jqx-tree-grid-icon-size")+" "+fa,qa=P.icon;a.isFunction(this.icons)&&(P.icon=this.icons(M,L),P.icon&&(qa=!0)),qa&&(ka+=P.icon?"<span class='"+oa+"'><img class='"+pa+"' src='"+P.icon+"'/></span>":"<span class='"+oa+"'></span>")}var ra=ea+ia+ja+ka+"<span class='"+b.toThemeProperty("jqx-tree-grid-title")+"'>"+$+"</span>";$=b.rtl?"<span class='"+b.toThemeProperty("jqx-tree-grid-title")+"'>"+$+"</span>"+ka+ja+ia+ea:ra}if(J>0&&i&&t>=J&&L[d.level]<J&&(w+="padding-left: 5px; border-left-width: 0px;",W+="padding-left: 5px; border-left-width: 0px;",$="<span style='visibility: hidden;'>-</span>"),w+='" class="'+g+'">',w+=$,w+="</td>",W+='" class="'+g+'">',W+=$,W+="</td>",R.pinned?(N+=w,E+=w):(E+=w,D&&(N+=W)),J>0&&!i&&L[d.level]<J)break}if(0==f&&(b.table[0].style.width=O+2+"px",f=O),E+="</tr>",N+="</tr>",z+=E,A+=N,b.rowdetails&&!L.aggregate&&this.rowDetailsRenderer){var sa='<tr data-role="row-details"><td valign="top" align="left" style="pointer-events: auto; max-width:'+v+"px; width:"+v+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+b.columns.records.length+'" role="gridcell"',g=b.toTP("jqx-cell")+" "+b.toTP("jqx-grid-cell")+" "+b.toTP("jqx-item");g+=" "+b.toTP("jqx-details"),g+=" "+b.toTP("jqx-reset");var ta=this.rowDetailsRenderer(M,L);ta&&(sa+='" class="'+g+'"><div style="pointer-events: auto; overflow: hidden;"><div data-role="details">'+ta+"</div></div></td></tr>",z+=sa,A+=sa)}}if(z+="</table>",A+="</table>",D){b.WinJS?MSApp.execUnsafeLocalFunction(function(){b.table.html(A+z)}):b.table[0].innerHTML=A+z;var ua=b.table.find("#table"+b.element.id),va=b.table.find("#pinnedtable"+b.element.id);va.css("float","left"),va.css("pointer-events","none"),ua.css("float","left"),va[0].style.position="absolute",ua[0].style.position="relative",ua[0].style.zIndex=q-10,va[0].style.zIndex=q+10,b._table=ua,b._table[0].style.left="0px",b._pinnedTable=va,b._table[0].style.width=f+"px",b._pinnedTable[0].style.width=f+"px",b.rtl&&b._haspinned&&(b._pinnedTable[0].style.left=3-f+parseInt(b.element.style.width)+"px")}else{b.WinJS?MSApp.execUnsafeLocalFunction(function(){b.table.html(z)}):b.table[0].innerHTML=z;var T=b.table.find("#table"+b.element.id);b._table=T,a.jqx.browser.msie&&a.jqx.browser.version<10&&(b._table[0].style.width=f+"px"),0===p&&(b._table[0].style.width=2+f+"px")}0===p&&(b._table[0].style.tableLayout="auto",b._pinnedTable&&(b._pinnedTable[0].style.tableLayout="auto")),b.showaggregates&&b._updatecolumnsaggregates(),b._loading&&0==p&&(b._arrange(),this._showLoadElement()),b.rendered&&b.rendered()}},propertyChangedHandler:function(a,b,c,d){void 0==a.isInitialized||0==a.isInitialized},checkrow:function(a,b){var c=this.base,d=c._names();if(!c._loading){var e=c.rowinfo[a];if(e)e.checked=!0,e.row[d.checked]=!0,b!==!1&&c._renderrows(),c._raiseEvent("rowCheck",{key:a,row:e.row});else{var f=this.getrow(a);f&&(c.rowinfo[a]={row:f,checked:!0},c._raiseEvent("rowCheck",{key:a,row:f}))}}},uncheckrow:function(a,b){var c=this.base,d=c._names();if(!c._loading){var e=c.rowinfo[a];if(e)e.checked=!1,e.row[d.checked]=!1,b!==!1&&c._renderrows(),c._raiseEvent("rowUncheck",{key:a,row:e.row});else{var f=this.getrow(a);f&&(c.rowinfo[a]={row:f,checked:!1},c._raiseEvent("rowUncheck",{key:a,row:f}))}}},expandrow:function(a){var b=this.base;if(!b._loading){var c=b._names(),d=this,e=b.rowinfo[a];if(e){if(e.expanded)return void(e.row[c.expanded]=!0);if(e.expanded=!0,e.row[c.expanded]=!0,e.originalRecord&&(e.originalRecord[c.expanded]=!0),this.virtualModeCreateRecords&&!e.row.records){var f=function(a){if(a===!1)return b._loading=!1,d._hideLoadElement(),e.leaf=!0,e.row[c.leaf]=!0,void b._renderrows();for(var f=0;f<a.length;f++){if(a[f][c.level]=e.row[c.level]+1,a[f][c.parent]=e.row,b.rowsByKey[a[f].uid])throw b._loading=!1,d._hideLoadElement(),e.leaf=!0,e.row[c.leaf]=!0,b._renderrows(),new Error("Please, check whether you Add Records with unique ID/Key. ");b.rowsByKey[a[f].uid]=a[f],d.virtualModeRecordCreating(a[f])}e.row.records=a,(!a||a&&0==a.length)&&(e.leaf=!0,e.row[c.leaf]=!0),e.originalRecord&&(e.originalRecord.records=a,e.originalRecord[c.expanded]=!0,0==a.length&&(e.originalRecord[c.leaf]=!0)),b._loading=!1,d._hideLoadElement();var g=b.vScrollBar.css("visibility");b._renderrows(),b._updateScrollbars();var h=g!=b.vScrollBar.css("visibility");("auto"===b.height||null===b.height||b.autoheight||h)&&b._arrange(),b._renderhorizontalscroll()};if(!e.row[c.leaf])return b._loading=!0,this._showLoadElement(),void this.virtualModeCreateRecords(e.row,f)}if(!b.updating()){var g=b.vScrollBar.css("visibility");b._renderrows(),b._updateScrollbars();var h=g!=b.vScrollBar.css("visibility");("auto"===b.height||null===b.height||b.autoheight||h)&&b._arrange(),b._renderhorizontalscroll(),b._raiseEvent("rowExpand",{row:e.row,rowKey:a})}}}},collapserow:function(a){var b=this.base,c=b._names();if(!b._loading){var d=b.rowinfo[a];if(d){if(!d.expanded)return void(d.row[c.expanded]=!1);if(d.expanded=!1,d.row[c.expanded]=!1,d.originalRecord&&(d.originalRecord[c.expanded]=!1),!b.updating()){var e=b.vScrollBar.css("visibility");b._renderrows(),b._updateScrollbars();var f=e!=b.vScrollBar.css("visibility");("auto"===b.height||null===b.height||b.autoheight||f)&&b._arrange(),b._renderhorizontalscroll(),b._raiseEvent("rowCollapse",{row:d.row,rowKey:a})}}}}})}(jQuery);