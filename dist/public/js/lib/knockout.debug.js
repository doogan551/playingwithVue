!function(){var a=!0;!function(b){var c=this||(0,eval)("this"),d=c.document,e=c.navigator,f=c.jQuery,g=c.JSON;!function(a){"function"==typeof define&&define.amd?define(["exports","require"],a):a("object"==typeof exports&&"object"==typeof module?module.exports||exports:c.ko={})}(function(h,i){function j(a,b){var c=null===a||typeof a in t;return!!c&&a===b}function k(a,c){var d;return function(){d||(d=s.utils.setTimeout(function(){d=b,a()},c))}}function l(a,b){var c;return function(){clearTimeout(c),c=s.utils.setTimeout(a,b)}}function m(a){var b=this;return a&&s.utils.objectForEach(a,function(a,c){var d=s.extenders[a];"function"==typeof d&&(b=d(b,c)||b)}),b}function n(a,b){b&&b!==u?"beforeChange"===b?this._limitBeforeChange(a):this._origNotifySubscribers(a,b):this._limitChange(a)}function o(a,b){null!==b&&b.dispose&&b.dispose()}function p(a,b){var c=this.computedObservable,d=c[A];d.isDisposed||(this.disposalCount&&this.disposalCandidates[b]?(c.addDependencyTracking(b,a,this.disposalCandidates[b]),this.disposalCandidates[b]=null,--this.disposalCount):d.dependencyTracking[b]||c.addDependencyTracking(b,a,d.isSleeping?{_target:a}:c.subscribeToDependency(a)))}function q(a){s.bindingHandlers[a]={init:function(b,c,d,e,f){var g=function(){var b={};return b[a]=c(),b};return s.bindingHandlers.event.init.call(this,b,g,d,e,f)}}}function r(a,b,c,d){s.bindingHandlers[a]={init:function(a,e,f,g,h){var i,j;return s.computed(function(){var f=s.utils.unwrapObservable(e()),g=!c!=!f,k=!j,l=k||b||g!==i;l&&(k&&s.computedContext.getDependenciesCount()&&(j=s.utils.cloneNodes(s.virtualElements.childNodes(a),!0)),g?(k||s.virtualElements.setDomNodeChildren(a,s.utils.cloneNodes(j)),s.applyBindingsToDescendants(d?d(h,f):h,a)):s.virtualElements.emptyNode(a),i=g)},null,{disposeWhenNodeIsRemoved:a}),{controlsDescendantBindings:!0}}},s.expressionRewriting.bindingRewriteValidators[a]=!1,s.virtualElements.allowedBindings[a]=!0}var s="undefined"!=typeof h?h:{};s.exportSymbol=function(a,b){for(var c=a.split("."),d=s,e=0;e<c.length-1;e++)d=d[c[e]];d[c[c.length-1]]=b},s.exportProperty=function(a,b,c){a[b]=c},s.version="3.4.0",s.exportSymbol("version",s.version),s.options={deferUpdates:!1,useOnlyNativeEvents:!1},s.utils=function(){function h(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])}function i(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function j(a,b){return a.__proto__=b,a}function k(a,b){if("input"!==s.utils.tagNameLower(a)||!a.type)return!1;if("click"!=b.toLowerCase())return!1;var c=a.type;return"checkbox"==c||"radio"==c}function l(a,b,c){var d;b&&("object"==typeof a.classList?(d=a.classList[c?"add":"remove"],s.utils.arrayForEach(b.match(x),function(b){d.call(a.classList,b)})):"string"==typeof a.className.baseVal?m(a.className,"baseVal",b,c):m(a,"className",b,c))}function m(a,b,c,d){var e=a[b].match(x)||[];s.utils.arrayForEach(c.match(x),function(a){s.utils.addOrRemoveItem(e,a,d)}),a[b]=e.join(" ")}var n={__proto__:[]}instanceof Array,o=!a&&"function"==typeof Symbol,p={},q={},r=e&&/Firefox\/2/i.test(e.userAgent)?"KeyboardEvent":"UIEvents";p[r]=["keyup","keydown","keypress"],p.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"],h(p,function(a,b){if(b.length)for(var c=0,d=b.length;c<d;c++)q[b[c]]=a});var t={propertychange:!0},u=d&&function(){for(var a=3,c=d.createElement("div"),e=c.getElementsByTagName("i");c.innerHTML="<!--[if gt IE "+ ++a+"]><i></i><![endif]-->",e[0];);return a>4?a:b}(),v=6===u,w=7===u,x=/\S+/g;return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c],c)},arrayIndexOf:function(a,b){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},arrayFirst:function(a,b,c){for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d))return a[d];return null},arrayRemoveItem:function(a,b){var c=s.utils.arrayIndexOf(a,b);c>0?a.splice(c,1):0===c&&a.shift()},arrayGetDistinctValues:function(a){a=a||[];for(var b=[],c=0,d=a.length;c<d;c++)s.utils.arrayIndexOf(b,a[c])<0&&b.push(a[c]);return b},arrayMap:function(a,b){a=a||[];for(var c=[],d=0,e=a.length;d<e;d++)c.push(b(a[d],d));return c},arrayFilter:function(a,b){a=a||[];for(var c=[],d=0,e=a.length;d<e;d++)b(a[d],d)&&c.push(a[d]);return c},arrayPushAll:function(a,b){if(b instanceof Array)a.push.apply(a,b);else for(var c=0,d=b.length;c<d;c++)a.push(b[c]);return a},addOrRemoveItem:function(a,b,c){var d=s.utils.arrayIndexOf(s.utils.peekObservable(a),b);d<0?c&&a.push(b):c||a.splice(d,1)},canSetPrototype:n,extend:i,setPrototypeOf:j,setPrototypeOfOrExtend:n?j:i,objectForEach:h,objectMap:function(a,b){if(!a)return a;var c={};for(var d in a)a.hasOwnProperty(d)&&(c[d]=b(a[d],d,a));return c},emptyDomNode:function(a){for(;a.firstChild;)s.removeNode(a.firstChild)},moveCleanedNodesToContainerElement:function(a){for(var b=s.utils.makeArray(a),c=b[0]&&b[0].ownerDocument||d,e=c.createElement("div"),f=0,g=b.length;f<g;f++)e.appendChild(s.cleanNode(b[f]));return e},cloneNodes:function(a,b){for(var c=0,d=a.length,e=[];c<d;c++){var f=a[c].cloneNode(!0);e.push(b?s.cleanNode(f):f)}return e},setDomNodeChildren:function(a,b){if(s.utils.emptyDomNode(a),b)for(var c=0,d=b.length;c<d;c++)a.appendChild(b[c])},replaceDomNodes:function(a,b){var c=a.nodeType?[a]:a;if(c.length>0){for(var d=c[0],e=d.parentNode,f=0,g=b.length;f<g;f++)e.insertBefore(b[f],d);for(var f=0,g=c.length;f<g;f++)s.removeNode(c[f])}},fixUpContinuousNodeArray:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==b;)a.splice(0,1);for(;a.length>1&&a[a.length-1].parentNode!==b;)a.length--;if(a.length>1){var c=a[0],d=a[a.length-1];for(a.length=0;c!==d;)a.push(c),c=c.nextSibling;a.push(d)}}return a},setOptionNodeSelectionState:function(a,b){u<7?a.setAttribute("selected",b):a.selected=b},stringTrim:function(a){return null===a||a===b?"":a.trim?a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},stringStartsWith:function(a,b){return a=a||"",!(b.length>a.length)&&a.substring(0,b.length)===b},domNodeIsContainedBy:function(a,b){if(a===b)return!0;if(11===a.nodeType)return!1;if(b.contains)return b.contains(3===a.nodeType?a.parentNode:a);if(b.compareDocumentPosition)return 16==(16&b.compareDocumentPosition(a));for(;a&&a!=b;)a=a.parentNode;return!!a},domNodeIsAttachedToDocument:function(a){return s.utils.domNodeIsContainedBy(a,a.ownerDocument.documentElement)},anyDomNodeIsAttachedToDocument:function(a){return!!s.utils.arrayFirst(a,s.utils.domNodeIsAttachedToDocument)},tagNameLower:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},catchFunctionErrors:function(a){return s.onError?function(){try{return a.apply(this,arguments)}catch(b){throw s.onError&&s.onError(b),b}}:a},setTimeout:function(a,b){return setTimeout(s.utils.catchFunctionErrors(a),b)},deferError:function(a){setTimeout(function(){throw s.onError&&s.onError(a),a},0)},registerEventHandler:function(a,b,c){var d=s.utils.catchFunctionErrors(c),e=u&&t[b];if(s.options.useOnlyNativeEvents||e||!f)if(e||"function"!=typeof a.addEventListener){if("undefined"==typeof a.attachEvent)throw new Error("Browser doesn't support addEventListener or attachEvent");var g=function(b){d.call(a,b)},h="on"+b;a.attachEvent(h,g),s.utils.domNodeDisposal.addDisposeCallback(a,function(){a.detachEvent(h,g)})}else a.addEventListener(b,d,!1);else f(a).bind(b,d)},triggerEvent:function(a,b){if(!a||!a.nodeType)throw new Error("element must be a DOM node when calling triggerEvent");var e=k(a,b);if(s.options.useOnlyNativeEvents||!f||e)if("function"==typeof d.createEvent){if("function"!=typeof a.dispatchEvent)throw new Error("The supplied element doesn't support dispatchEvent");var g=q[b]||"HTMLEvents",h=d.createEvent(g);h.initEvent(b,!0,!0,c,0,0,0,0,0,!1,!1,!1,!1,0,a),a.dispatchEvent(h)}else if(e&&a.click)a.click();else{if("undefined"==typeof a.fireEvent)throw new Error("Browser doesn't support triggering events");a.fireEvent("on"+b)}else f(a).trigger(b)},unwrapObservable:function(a){return s.isObservable(a)?a():a},peekObservable:function(a){return s.isObservable(a)?a.peek():a},toggleDomNodeCssClass:l,setTextContent:function(a,c){var d=s.utils.unwrapObservable(c);null!==d&&d!==b||(d="");var e=s.virtualElements.firstChild(a);!e||3!=e.nodeType||s.virtualElements.nextSibling(e)?s.virtualElements.setDomNodeChildren(a,[a.ownerDocument.createTextNode(d)]):e.data=d,s.utils.forceRefresh(a)},setElementName:function(a,b){if(a.name=b,u<=7)try{a.mergeAttributes(d.createElement("<input name='"+a.name+"'/>"),!1)}catch(c){}},forceRefresh:function(a){if(u>=9){var b=1==a.nodeType?a:a.parentNode;b.style&&(b.style.zoom=b.style.zoom)}},ensureSelectElementIsRenderedCorrectly:function(a){if(u){var b=a.style.width;a.style.width=0,a.style.width=b}},range:function(a,b){a=s.utils.unwrapObservable(a),b=s.utils.unwrapObservable(b);for(var c=[],d=a;d<=b;d++)c.push(d);return c},makeArray:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b},createSymbolOrString:function(a){return o?Symbol(a):a},isIe6:v,isIe7:w,ieVersion:u,getFormFields:function(a,b){for(var c=s.utils.makeArray(a.getElementsByTagName("input")).concat(s.utils.makeArray(a.getElementsByTagName("textarea"))),d="string"==typeof b?function(a){return a.name===b}:function(a){return b.test(a.name)},e=[],f=c.length-1;f>=0;f--)d(c[f])&&e.push(c[f]);return e},parseJson:function(a){return"string"==typeof a&&(a=s.utils.stringTrim(a))?g&&g.parse?g.parse(a):new Function("return "+a)():null},stringifyJson:function(a,b,c){if(!g||!g.stringify)throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return g.stringify(s.utils.unwrapObservable(a),b,c)},postJson:function(a,b,c){c=c||{};var e=c.params||{},f=c.includeFields||this.fieldsIncludedWithJsonPost,g=a;if("object"==typeof a&&"form"===s.utils.tagNameLower(a)){var i=a;g=i.action;for(var j=f.length-1;j>=0;j--)for(var k=s.utils.getFormFields(i,f[j]),l=k.length-1;l>=0;l--)e[k[l].name]=k[l].value}b=s.utils.unwrapObservable(b);var m=d.createElement("form");m.style.display="none",m.action=g,m.method="post";for(var n in b){var o=d.createElement("input");o.type="hidden",o.name=n,o.value=s.utils.stringifyJson(s.utils.unwrapObservable(b[n])),m.appendChild(o)}h(e,function(a,b){var c=d.createElement("input");c.type="hidden",c.name=a,c.value=b,m.appendChild(c)}),d.body.appendChild(m),c.submitter?c.submitter(m):m.submit(),setTimeout(function(){m.parentNode.removeChild(m)},0)}}}(),s.exportSymbol("utils",s.utils),s.exportSymbol("utils.arrayForEach",s.utils.arrayForEach),s.exportSymbol("utils.arrayFirst",s.utils.arrayFirst),s.exportSymbol("utils.arrayFilter",s.utils.arrayFilter),s.exportSymbol("utils.arrayGetDistinctValues",s.utils.arrayGetDistinctValues),s.exportSymbol("utils.arrayIndexOf",s.utils.arrayIndexOf),s.exportSymbol("utils.arrayMap",s.utils.arrayMap),s.exportSymbol("utils.arrayPushAll",s.utils.arrayPushAll),s.exportSymbol("utils.arrayRemoveItem",s.utils.arrayRemoveItem),s.exportSymbol("utils.extend",s.utils.extend),s.exportSymbol("utils.fieldsIncludedWithJsonPost",s.utils.fieldsIncludedWithJsonPost),s.exportSymbol("utils.getFormFields",s.utils.getFormFields),s.exportSymbol("utils.peekObservable",s.utils.peekObservable),s.exportSymbol("utils.postJson",s.utils.postJson),s.exportSymbol("utils.parseJson",s.utils.parseJson),s.exportSymbol("utils.registerEventHandler",s.utils.registerEventHandler),s.exportSymbol("utils.stringifyJson",s.utils.stringifyJson),s.exportSymbol("utils.range",s.utils.range),s.exportSymbol("utils.toggleDomNodeCssClass",s.utils.toggleDomNodeCssClass),s.exportSymbol("utils.triggerEvent",s.utils.triggerEvent),s.exportSymbol("utils.unwrapObservable",s.utils.unwrapObservable),s.exportSymbol("utils.objectForEach",s.utils.objectForEach),s.exportSymbol("utils.addOrRemoveItem",s.utils.addOrRemoveItem),s.exportSymbol("utils.setTextContent",s.utils.setTextContent),s.exportSymbol("unwrap",s.utils.unwrapObservable),Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if(1===arguments.length)return function(){return b.apply(a,arguments)};var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice(0);return d.push.apply(d,arguments),b.apply(a,d)}}),s.utils.domData=new function(){function a(a,f){var g=a[d],h=g&&"null"!==g&&e[g];if(!h){if(!f)return b;g=a[d]="ko"+c++,e[g]={}}return e[g]}var c=0,d="__ko__"+(new Date).getTime(),e={};return{get:function(c,d){var e=a(c,!1);return e===b?b:e[d]},set:function(c,d,e){if(e!==b||a(c,!1)!==b){var f=a(c,!0);f[d]=e}},clear:function(a){var b=a[d];return!!b&&(delete e[b],a[d]=null,!0)},nextKey:function(){return c++ +d}}},s.exportSymbol("utils.domData",s.utils.domData),s.exportSymbol("utils.domData.clear",s.utils.domData.clear),s.utils.domNodeDisposal=new function(){function a(a,c){var d=s.utils.domData.get(a,g);return d===b&&c&&(d=[],s.utils.domData.set(a,g,d)),d}function c(a){s.utils.domData.set(a,g,b)}function d(b){var c=a(b,!1);if(c){c=c.slice(0);for(var d=0;d<c.length;d++)c[d](b)}s.utils.domData.clear(b),s.utils.domNodeDisposal.cleanExternalData(b),i[b.nodeType]&&e(b)}function e(a){for(var b,c=a.firstChild;b=c;)c=b.nextSibling,8===b.nodeType&&d(b)}var g=s.utils.domData.nextKey(),h={1:!0,8:!0,9:!0},i={1:!0,9:!0};return{addDisposeCallback:function(b,c){if("function"!=typeof c)throw new Error("Callback must be a function");a(b,!0).push(c)},removeDisposeCallback:function(b,d){var e=a(b,!1);e&&(s.utils.arrayRemoveItem(e,d),0==e.length&&c(b))},cleanNode:function(a){if(h[a.nodeType]&&(d(a),i[a.nodeType])){var b=[];s.utils.arrayPushAll(b,a.getElementsByTagName("*"));for(var c=0,e=b.length;c<e;c++)d(b[c])}return a},removeNode:function(a){s.cleanNode(a),a.parentNode&&a.parentNode.removeChild(a)},cleanExternalData:function(a){f&&"function"==typeof f.cleanData&&f.cleanData([a])}}},s.cleanNode=s.utils.domNodeDisposal.cleanNode,s.removeNode=s.utils.domNodeDisposal.removeNode,s.exportSymbol("cleanNode",s.cleanNode),s.exportSymbol("removeNode",s.removeNode),s.exportSymbol("utils.domNodeDisposal",s.utils.domNodeDisposal),s.exportSymbol("utils.domNodeDisposal.addDisposeCallback",s.utils.domNodeDisposal.addDisposeCallback),s.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",s.utils.domNodeDisposal.removeDisposeCallback),function(){function a(a){var b=a.match(/^<([a-z]+)[ >]/);return b&&m[b[1]]||h}function e(b,e){e||(e=d);var f=e.parentWindow||e.defaultView||c,g=s.utils.stringTrim(b).toLowerCase(),h=e.createElement("div"),i=a(g),j=i[0],k="ignored<div>"+i[1]+b+i[2]+"</div>";for("function"==typeof f.innerShiv?h.appendChild(f.innerShiv(k)):(n&&e.appendChild(h),h.innerHTML=k,n&&h.parentNode.removeChild(h));j--;)h=h.lastChild;return s.utils.makeArray(h.lastChild.childNodes)}function g(a,b){if(f.parseHTML)return f.parseHTML(a,b)||[];var c=f.clean([a],b);if(c&&c[0]){for(var d=c[0];d.parentNode&&11!==d.parentNode.nodeType;)d=d.parentNode;d.parentNode&&d.parentNode.removeChild(d)}return c}var h=[0,"",""],i=[1,"<table>","</table>"],j=[2,"<table><tbody>","</tbody></table>"],k=[3,"<table><tbody><tr>","</tr></tbody></table>"],l=[1,"<select multiple='multiple'>","</select>"],m={thead:i,tbody:i,tfoot:i,tr:j,td:k,th:k,option:l,optgroup:l},n=s.utils.ieVersion<=8;s.utils.parseHtmlFragment=function(a,b){return f?g(a,b):e(a,b)},s.utils.setHtml=function(a,c){if(s.utils.emptyDomNode(a),c=s.utils.unwrapObservable(c),null!==c&&c!==b)if("string"!=typeof c&&(c=c.toString()),f)f(a).html(c);else for(var d=s.utils.parseHtmlFragment(c,a.ownerDocument),e=0;e<d.length;e++)a.appendChild(d[e])}}(),s.exportSymbol("utils.parseHtmlFragment",s.utils.parseHtmlFragment),s.exportSymbol("utils.setHtml",s.utils.setHtml),s.memoization=function(){function a(){return(4294967296*(1+Math.random())|0).toString(16).substring(1)}function c(){return a()+a()}function d(a,b){if(a)if(8==a.nodeType){var c=s.memoization.parseMemoText(a.nodeValue);null!=c&&b.push({domNode:a,memoId:c})}else if(1==a.nodeType)for(var e=0,f=a.childNodes,g=f.length;e<g;e++)d(f[e],b)}var e={};return{memoize:function(a){if("function"!=typeof a)throw new Error("You can only pass a function to ko.memoization.memoize()");var b=c();return e[b]=a,"<!--[ko_memo:"+b+"]-->"},unmemoize:function(a,c){var d=e[a];if(d===b)throw new Error("Couldn't find any memo with ID "+a+". Perhaps it's already been unmemoized.");try{return d.apply(null,c||[]),!0}finally{delete e[a]}},unmemoizeDomNodeAndDescendants:function(a,b){var c=[];d(a,c);for(var e=0,f=c.length;e<f;e++){var g=c[e].domNode,h=[g];b&&s.utils.arrayPushAll(h,b),s.memoization.unmemoize(c[e].memoId,h),g.nodeValue="",g.parentNode&&g.parentNode.removeChild(g)}},parseMemoText:function(a){var b=a.match(/^\[ko_memo\:(.*?)\]$/);return b?b[1]:null}}}(),s.exportSymbol("memoization",s.memoization),s.exportSymbol("memoization.memoize",s.memoization.memoize),s.exportSymbol("memoization.unmemoize",s.memoization.unmemoize),s.exportSymbol("memoization.parseMemoText",s.memoization.parseMemoText),s.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",s.memoization.unmemoizeDomNodeAndDescendants),s.tasks=function(){function a(){if(h)for(var a,b=h,c=0;j<h;)if(a=g[j++]){if(j>b){if(++c>=5e3){j=h,s.utils.deferError(Error("'Too much recursion' after processing "+c+" task groups."));break}b=h}try{a()}catch(d){s.utils.deferError(d)}}}function b(){a(),j=h=g.length=0}function e(){s.tasks.scheduler(b)}var f,g=[],h=0,i=1,j=0;f=c.MutationObserver?function(a){var b=d.createElement("div");return new MutationObserver(a).observe(b,{attributes:!0}),function(){b.classList.toggle("foo")}}(b):d&&"onreadystatechange"in d.createElement("script")?function(a){var b=d.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=null,d.documentElement.removeChild(b),b=null,a()},d.documentElement.appendChild(b)}:function(a){setTimeout(a,0)};var k={scheduler:f,schedule:function(a){return h||e(),g[h++]=a,i++},cancel:function(a){var b=a-(i-h);b>=j&&b<h&&(g[b]=null)},resetForTesting:function(){var a=h-j;return j=h=g.length=0,a},runEarly:a};return k}(),s.exportSymbol("tasks",s.tasks),s.exportSymbol("tasks.schedule",s.tasks.schedule),s.exportSymbol("tasks.runEarly",s.tasks.runEarly),s.extenders={throttle:function(a,b){a.throttleEvaluation=b;var c=null;return s.dependentObservable({read:a,write:function(d){clearTimeout(c),c=s.utils.setTimeout(function(){a(d)},b)}})},rateLimit:function(a,b){var c,d,e;"number"==typeof b?c=b:(c=b.timeout,d=b.method),a._deferUpdates=!1,e="notifyWhenChangesStop"==d?l:k,a.limit(function(a){return e(a,c)})},deferred:function(a,c){if(c!==!0)throw new Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");a._deferUpdates||(a._deferUpdates=!0,a.limit(function(c){var d;return function(){s.tasks.cancel(d),d=s.tasks.schedule(c),a.notifySubscribers(b,"dirty")}}))},notify:function(a,b){a.equalityComparer="always"==b?null:j}};var t={undefined:1,"boolean":1,number:1,string:1};s.exportSymbol("extenders",s.extenders),s.subscription=function(a,b,c){this._target=a,this.callback=b,this.disposeCallback=c,this.isDisposed=!1,s.exportProperty(this,"dispose",this.dispose)},s.subscription.prototype.dispose=function(){this.isDisposed=!0,this.disposeCallback()},s.subscribable=function(){s.utils.setPrototypeOfOrExtend(this,v),v.init(this)};var u="change",v={init:function(a){a._subscriptions={},a._versionNumber=1},subscribe:function(a,b,c){var d=this;c=c||u;var e=b?a.bind(b):a,f=new s.subscription(d,e,function(){s.utils.arrayRemoveItem(d._subscriptions[c],f),d.afterSubscriptionRemove&&d.afterSubscriptionRemove(c)});return d.beforeSubscriptionAdd&&d.beforeSubscriptionAdd(c),d._subscriptions[c]||(d._subscriptions[c]=[]),d._subscriptions[c].push(f),f},notifySubscribers:function(a,b){if(b=b||u,b===u&&this.updateVersion(),this.hasSubscriptionsForEvent(b))try{s.dependencyDetection.begin();for(var c,d=this._subscriptions[b].slice(0),e=0;c=d[e];++e)c.isDisposed||c.callback(a)}finally{s.dependencyDetection.end()}},getVersion:function(){return this._versionNumber},hasChanged:function(a){return this.getVersion()!==a},updateVersion:function(){++this._versionNumber},limit:function(a){var b,c,d,e=this,f=s.isObservable(e),g="beforeChange";e._origNotifySubscribers||(e._origNotifySubscribers=e.notifySubscribers,e.notifySubscribers=n);var h=a(function(){e._notificationIsPending=!1,f&&d===e&&(d=e()),b=!1,e.isDifferent(c,d)&&e._origNotifySubscribers(c=d)});e._limitChange=function(a){e._notificationIsPending=b=!0,d=a,h()},e._limitBeforeChange=function(a){b||(c=a,e._origNotifySubscribers(a,g))}},hasSubscriptionsForEvent:function(a){return this._subscriptions[a]&&this._subscriptions[a].length},getSubscriptionsCount:function(a){if(a)return this._subscriptions[a]&&this._subscriptions[a].length||0;var b=0;return s.utils.objectForEach(this._subscriptions,function(a,c){"dirty"!==a&&(b+=c.length)}),b},isDifferent:function(a,b){return!this.equalityComparer||!this.equalityComparer(a,b)},extend:m};s.exportProperty(v,"subscribe",v.subscribe),s.exportProperty(v,"extend",v.extend),s.exportProperty(v,"getSubscriptionsCount",v.getSubscriptionsCount),s.utils.canSetPrototype&&s.utils.setPrototypeOf(v,Function.prototype),s.subscribable.fn=v,s.isSubscribable=function(a){return null!=a&&"function"==typeof a.subscribe&&"function"==typeof a.notifySubscribers},s.exportSymbol("subscribable",s.subscribable),s.exportSymbol("isSubscribable",s.isSubscribable),s.computedContext=s.dependencyDetection=function(){function a(){return++f}function b(a){e.push(d),d=a}function c(){d=e.pop()}var d,e=[],f=0;return{begin:b,end:c,registerDependency:function(b){if(d){if(!s.isSubscribable(b))throw new Error("Only subscribable things can act as dependencies");d.callback.call(d.callbackTarget,b,b._id||(b._id=a()))}},ignore:function(a,d,e){try{return b(),a.apply(d,e||[])}finally{c()}},getDependenciesCount:function(){if(d)return d.computed.getDependenciesCount()},isInitial:function(){if(d)return d.isInitial}}}(),s.exportSymbol("computedContext",s.computedContext),s.exportSymbol("computedContext.getDependenciesCount",s.computedContext.getDependenciesCount),s.exportSymbol("computedContext.isInitial",s.computedContext.isInitial),s.exportSymbol("ignoreDependencies",s.ignoreDependencies=s.dependencyDetection.ignore);var w=s.utils.createSymbolOrString("_latestValue");s.observable=function(a){function b(){return arguments.length>0?(b.isDifferent(b[w],arguments[0])&&(b.valueWillMutate(),b[w]=arguments[0],b.valueHasMutated()),this):(s.dependencyDetection.registerDependency(b),b[w])}return b[w]=a,s.utils.canSetPrototype||s.utils.extend(b,s.subscribable.fn),s.subscribable.fn.init(b),s.utils.setPrototypeOfOrExtend(b,x),s.options.deferUpdates&&s.extenders.deferred(b,!0),b};var x={equalityComparer:j,peek:function(){return this[w]},valueHasMutated:function(){this.notifySubscribers(this[w])},valueWillMutate:function(){this.notifySubscribers(this[w],"beforeChange")}};s.utils.canSetPrototype&&s.utils.setPrototypeOf(x,s.subscribable.fn);var y=s.observable.protoProperty="__ko_proto__";x[y]=s.observable,s.hasPrototype=function(a,c){return null!==a&&a!==b&&a[y]!==b&&(a[y]===c||s.hasPrototype(a[y],c))},s.isObservable=function(a){return s.hasPrototype(a,s.observable)},s.isWriteableObservable=function(a){return"function"==typeof a&&a[y]===s.observable||!("function"!=typeof a||a[y]!==s.dependentObservable||!a.hasWriteFunction)},s.exportSymbol("observable",s.observable),s.exportSymbol("isObservable",s.isObservable),s.exportSymbol("isWriteableObservable",s.isWriteableObservable),s.exportSymbol("isWritableObservable",s.isWriteableObservable),s.exportSymbol("observable.fn",x),s.exportProperty(x,"peek",x.peek),s.exportProperty(x,"valueHasMutated",x.valueHasMutated),s.exportProperty(x,"valueWillMutate",x.valueWillMutate),s.observableArray=function(a){if(a=a||[],"object"!=typeof a||!("length"in a))throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");var b=s.observable(a);return s.utils.setPrototypeOfOrExtend(b,s.observableArray.fn),b.extend({trackArrayChanges:!0})},s.observableArray.fn={remove:function(a){for(var b=this.peek(),c=[],d="function"!=typeof a||s.isObservable(a)?function(b){return b===a}:a,e=0;e<b.length;e++){var f=b[e];d(f)&&(0===c.length&&this.valueWillMutate(),c.push(f),b.splice(e,1),e--)}return c.length&&this.valueHasMutated(),c},removeAll:function(a){if(a===b){var c=this.peek(),d=c.slice(0);return this.valueWillMutate(),c.splice(0,c.length),this.valueHasMutated(),d}return a?this.remove(function(b){return s.utils.arrayIndexOf(a,b)>=0}):[]},destroy:function(a){var b=this.peek(),c="function"!=typeof a||s.isObservable(a)?function(b){return b===a}:a;this.valueWillMutate();for(var d=b.length-1;d>=0;d--){var e=b[d];c(e)&&(b[d]._destroy=!0)}this.valueHasMutated()},destroyAll:function(a){return a===b?this.destroy(function(){return!0}):a?this.destroy(function(b){return s.utils.arrayIndexOf(a,b)>=0}):[]},indexOf:function(a){var b=this();return s.utils.arrayIndexOf(b,a)},replace:function(a,b){var c=this.indexOf(a);c>=0&&(this.valueWillMutate(),this.peek()[c]=b,this.valueHasMutated())}},s.utils.canSetPrototype&&s.utils.setPrototypeOf(s.observableArray.fn,s.observable.fn),s.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(a){s.observableArray.fn[a]=function(){var b=this.peek();this.valueWillMutate(),this.cacheDiffForKnownOperation(b,a,arguments);var c=b[a].apply(b,arguments);return this.valueHasMutated(),c===b?this:c}}),s.utils.arrayForEach(["slice"],function(a){s.observableArray.fn[a]=function(){var b=this();return b[a].apply(b,arguments)}}),s.exportSymbol("observableArray",s.observableArray);var z="arrayChange";s.extenders.trackArrayChanges=function(a,b){function c(){if(!f){f=!0;var b=a.notifySubscribers;a.notifySubscribers=function(a,c){return c&&c!==u||++h,b.apply(this,arguments)};var c=[].concat(a.peek()||[]);g=null,e=a.subscribe(function(b){if(b=[].concat(b||[]),a.hasSubscriptionsForEvent(z))var e=d(c,b);c=b,g=null,h=0,e&&e.length&&a.notifySubscribers(e,z)})}}function d(b,c){return(!g||h>1)&&(g=s.utils.compareArrays(b,c,a.compareArrayOptions)),g}if(a.compareArrayOptions={},b&&"object"==typeof b&&s.utils.extend(a.compareArrayOptions,b),a.compareArrayOptions.sparse=!0,!a.cacheDiffForKnownOperation){var e,f=!1,g=null,h=0,i=a.beforeSubscriptionAdd,j=a.afterSubscriptionRemove;a.beforeSubscriptionAdd=function(b){i&&i.call(a,b),b===z&&c()},a.afterSubscriptionRemove=function(b){j&&j.call(a,b),b!==z||a.hasSubscriptionsForEvent(z)||(e.dispose(),f=!1)},a.cacheDiffForKnownOperation=function(a,b,c){function d(a,b,c){return e[e.length]={status:a,value:b,index:c}}if(f&&!h){var e=[],i=a.length,j=c.length,k=0;switch(b){case"push":k=i;case"unshift":for(var l=0;l<j;l++)d("added",c[l],k+l);break;case"pop":k=i-1;case"shift":i&&d("deleted",a[k],k);break;case"splice":for(var m=Math.min(Math.max(0,c[0]<0?i+c[0]:c[0]),i),n=1===j?i:Math.min(m+(c[1]||0),i),o=m+j-2,p=Math.max(n,o),q=[],r=[],l=m,t=2;l<p;++l,++t)l<n&&r.push(d("deleted",a[l],l)),l<o&&q.push(d("added",c[t],l));s.utils.findMovesInArrayComparison(r,q);break;default:return}g=e}}}};var A=s.utils.createSymbolOrString("_state");s.computed=s.dependentObservable=function(c,d,e){function f(){if(arguments.length>0){if("function"!=typeof g)throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return g.apply(h.evaluatorFunctionTarget,arguments),this}return s.dependencyDetection.registerDependency(f),(h.isStale||h.isSleeping&&f.haveDependenciesChanged())&&f.evaluateImmediate(),h.latestValue}if("object"==typeof c?e=c:(e=e||{},c&&(e.read=c)),"function"!=typeof e.read)throw Error("Pass a function that returns the value of the ko.computed");var g=e.write,h={latestValue:b,isStale:!0,isBeingEvaluated:!1,suppressDisposalUntilDisposeWhenReturnsFalse:!1,isDisposed:!1,pure:!1,isSleeping:!1,readFunction:e.read,evaluatorFunctionTarget:d||e.owner,disposeWhenNodeIsRemoved:e.disposeWhenNodeIsRemoved||e.disposeWhenNodeIsRemoved||null,disposeWhen:e.disposeWhen||e.disposeWhen,domNodeDisposalCallback:null,dependencyTracking:{},dependenciesCount:0,evaluationTimeoutInstance:null};return f[A]=h,f.hasWriteFunction="function"==typeof g,s.utils.canSetPrototype||s.utils.extend(f,s.subscribable.fn),s.subscribable.fn.init(f),s.utils.setPrototypeOfOrExtend(f,B),e.pure?(h.pure=!0,h.isSleeping=!0,s.utils.extend(f,C)):e.deferEvaluation&&s.utils.extend(f,D),s.options.deferUpdates&&s.extenders.deferred(f,!0),a&&(f._options=e),h.disposeWhenNodeIsRemoved&&(h.suppressDisposalUntilDisposeWhenReturnsFalse=!0,h.disposeWhenNodeIsRemoved.nodeType||(h.disposeWhenNodeIsRemoved=null)),h.isSleeping||e.deferEvaluation||f.evaluateImmediate(),h.disposeWhenNodeIsRemoved&&f.isActive()&&s.utils.domNodeDisposal.addDisposeCallback(h.disposeWhenNodeIsRemoved,h.domNodeDisposalCallback=function(){f.dispose()}),f};var B={equalityComparer:j,getDependenciesCount:function(){return this[A].dependenciesCount},addDependencyTracking:function(a,b,c){if(this[A].pure&&b===this)throw Error("A 'pure' computed must not be called recursively");this[A].dependencyTracking[a]=c,c._order=this[A].dependenciesCount++,c._version=b.getVersion()},haveDependenciesChanged:function(){var a,b,c=this[A].dependencyTracking;for(a in c)if(c.hasOwnProperty(a)&&(b=c[a],b._target.hasChanged(b._version)))return!0},markDirty:function(){this._evalDelayed&&!this[A].isBeingEvaluated&&this._evalDelayed()},isActive:function(){return this[A].isStale||this[A].dependenciesCount>0},respondToChange:function(){this._notificationIsPending||this.evaluatePossiblyAsync()},subscribeToDependency:function(a){if(a._deferUpdates&&!this[A].disposeWhenNodeIsRemoved){var b=a.subscribe(this.markDirty,this,"dirty"),c=a.subscribe(this.respondToChange,this);return{_target:a,dispose:function(){b.dispose(),c.dispose()}}}return a.subscribe(this.evaluatePossiblyAsync,this)},evaluatePossiblyAsync:function(){var a=this,b=a.throttleEvaluation;b&&b>=0?(clearTimeout(this[A].evaluationTimeoutInstance),this[A].evaluationTimeoutInstance=s.utils.setTimeout(function(){a.evaluateImmediate(!0)},b)):a._evalDelayed?a._evalDelayed():a.evaluateImmediate(!0)},evaluateImmediate:function(a){var b=this,c=b[A],d=c.disposeWhen;if(!c.isBeingEvaluated&&!c.isDisposed){if(c.disposeWhenNodeIsRemoved&&!s.utils.domNodeIsAttachedToDocument(c.disposeWhenNodeIsRemoved)||d&&d()){if(!c.suppressDisposalUntilDisposeWhenReturnsFalse)return void b.dispose()}else c.suppressDisposalUntilDisposeWhenReturnsFalse=!1;c.isBeingEvaluated=!0;try{this.evaluateImmediate_CallReadWithDependencyDetection(a)}finally{c.isBeingEvaluated=!1}c.dependenciesCount||b.dispose()}},evaluateImmediate_CallReadWithDependencyDetection:function(a){var c=this,d=c[A],e=d.pure?b:!d.dependenciesCount,f={computedObservable:c,disposalCandidates:d.dependencyTracking,disposalCount:d.dependenciesCount};s.dependencyDetection.begin({callbackTarget:f,callback:p,computed:c,isInitial:e}),d.dependencyTracking={},d.dependenciesCount=0;var g=this.evaluateImmediate_CallReadThenEndDependencyDetection(d,f);c.isDifferent(d.latestValue,g)&&(d.isSleeping||c.notifySubscribers(d.latestValue,"beforeChange"),d.latestValue=g,d.isSleeping?c.updateVersion():a&&c.notifySubscribers(d.latestValue)),e&&c.notifySubscribers(d.latestValue,"awake")},evaluateImmediate_CallReadThenEndDependencyDetection:function(a,b){try{var c=a.readFunction;return a.evaluatorFunctionTarget?c.call(a.evaluatorFunctionTarget):c()}finally{s.dependencyDetection.end(),b.disposalCount&&!a.isSleeping&&s.utils.objectForEach(b.disposalCandidates,o),a.isStale=!1}},peek:function(){var a=this[A];return(a.isStale&&!a.dependenciesCount||a.isSleeping&&this.haveDependenciesChanged())&&this.evaluateImmediate(),a.latestValue;
},limit:function(a){s.subscribable.fn.limit.call(this,a),this._evalDelayed=function(){this._limitBeforeChange(this[A].latestValue),this[A].isStale=!0,this._limitChange(this)}},dispose:function(){var a=this[A];!a.isSleeping&&a.dependencyTracking&&s.utils.objectForEach(a.dependencyTracking,function(a,b){b.dispose&&b.dispose()}),a.disposeWhenNodeIsRemoved&&a.domNodeDisposalCallback&&s.utils.domNodeDisposal.removeDisposeCallback(a.disposeWhenNodeIsRemoved,a.domNodeDisposalCallback),a.dependencyTracking=null,a.dependenciesCount=0,a.isDisposed=!0,a.isStale=!1,a.isSleeping=!1,a.disposeWhenNodeIsRemoved=null}},C={beforeSubscriptionAdd:function(a){var b=this,c=b[A];if(!c.isDisposed&&c.isSleeping&&"change"==a){if(c.isSleeping=!1,c.isStale||b.haveDependenciesChanged())c.dependencyTracking=null,c.dependenciesCount=0,c.isStale=!0,b.evaluateImmediate();else{var d=[];s.utils.objectForEach(c.dependencyTracking,function(a,b){d[b._order]=a}),s.utils.arrayForEach(d,function(a,d){var e=c.dependencyTracking[a],f=b.subscribeToDependency(e._target);f._order=d,f._version=e._version,c.dependencyTracking[a]=f})}c.isDisposed||b.notifySubscribers(c.latestValue,"awake")}},afterSubscriptionRemove:function(a){var c=this[A];c.isDisposed||"change"!=a||this.hasSubscriptionsForEvent("change")||(s.utils.objectForEach(c.dependencyTracking,function(a,b){b.dispose&&(c.dependencyTracking[a]={_target:b._target,_order:b._order,_version:b._version},b.dispose())}),c.isSleeping=!0,this.notifySubscribers(b,"asleep"))},getVersion:function(){var a=this[A];return a.isSleeping&&(a.isStale||this.haveDependenciesChanged())&&this.evaluateImmediate(),s.subscribable.fn.getVersion.call(this)}},D={beforeSubscriptionAdd:function(a){"change"!=a&&"beforeChange"!=a||this.peek()}};s.utils.canSetPrototype&&s.utils.setPrototypeOf(B,s.subscribable.fn);var E=s.observable.protoProperty;s.computed[E]=s.observable,B[E]=s.computed,s.isComputed=function(a){return s.hasPrototype(a,s.computed)},s.isPureComputed=function(a){return s.hasPrototype(a,s.computed)&&a[A]&&a[A].pure},s.exportSymbol("computed",s.computed),s.exportSymbol("dependentObservable",s.computed),s.exportSymbol("isComputed",s.isComputed),s.exportSymbol("isPureComputed",s.isPureComputed),s.exportSymbol("computed.fn",B),s.exportProperty(B,"peek",B.peek),s.exportProperty(B,"dispose",B.dispose),s.exportProperty(B,"isActive",B.isActive),s.exportProperty(B,"getDependenciesCount",B.getDependenciesCount),s.pureComputed=function(a,b){return"function"==typeof a?s.computed(a,b,{pure:!0}):(a=s.utils.extend({},a),a.pure=!0,s.computed(a,b))},s.exportSymbol("pureComputed",s.pureComputed),function(){function a(e,f,g){g=g||new d,e=f(e);var h=!("object"!=typeof e||null===e||e===b||e instanceof RegExp||e instanceof Date||e instanceof String||e instanceof Number||e instanceof Boolean);if(!h)return e;var i=e instanceof Array?[]:{};return g.save(e,i),c(e,function(c){var d=f(e[c]);switch(typeof d){case"boolean":case"number":case"string":case"function":i[c]=d;break;case"object":case"undefined":var h=g.get(d);i[c]=h!==b?h:a(d,f,g)}}),i}function c(a,b){if(a instanceof Array){for(var c=0;c<a.length;c++)b(c);"function"==typeof a.toJSON&&b("toJSON")}else for(var d in a)b(d)}function d(){this.keys=[],this.values=[]}var e=10;s.toJS=function(b){if(0==arguments.length)throw new Error("When calling ko.toJS, pass the object you want to convert.");return a(b,function(a){for(var b=0;s.isObservable(a)&&b<e;b++)a=a();return a})},s.toJSON=function(a,b,c){var d=s.toJS(a);return s.utils.stringifyJson(d,b,c)},d.prototype={constructor:d,save:function(a,b){var c=s.utils.arrayIndexOf(this.keys,a);c>=0?this.values[c]=b:(this.keys.push(a),this.values.push(b))},get:function(a){var c=s.utils.arrayIndexOf(this.keys,a);return c>=0?this.values[c]:b}}}(),s.exportSymbol("toJS",s.toJS),s.exportSymbol("toJSON",s.toJSON),function(){var a="__ko__hasDomDataOptionValue__";s.selectExtensions={readValue:function(c){switch(s.utils.tagNameLower(c)){case"option":return c[a]===!0?s.utils.domData.get(c,s.bindingHandlers.options.optionValueDomDataKey):s.utils.ieVersion<=7?c.getAttributeNode("value")&&c.getAttributeNode("value").specified?c.value:c.text:c.value;case"select":return c.selectedIndex>=0?s.selectExtensions.readValue(c.options[c.selectedIndex]):b;default:return c.value}},writeValue:function(c,d,e){switch(s.utils.tagNameLower(c)){case"option":switch(typeof d){case"string":s.utils.domData.set(c,s.bindingHandlers.options.optionValueDomDataKey,b),a in c&&delete c[a],c.value=d;break;default:s.utils.domData.set(c,s.bindingHandlers.options.optionValueDomDataKey,d),c[a]=!0,c.value="number"==typeof d?d:""}break;case"select":""!==d&&null!==d||(d=b);for(var f,g=-1,h=0,i=c.options.length;h<i;++h)if(f=s.selectExtensions.readValue(c.options[h]),f==d||""==f&&d===b){g=h;break}(e||g>=0||d===b&&c.size>1)&&(c.selectedIndex=g);break;default:null!==d&&d!==b||(d=""),c.value=d}}}}(),s.exportSymbol("selectExtensions",s.selectExtensions),s.exportSymbol("selectExtensions.readValue",s.selectExtensions.readValue),s.exportSymbol("selectExtensions.writeValue",s.selectExtensions.writeValue),s.expressionRewriting=function(){function a(a){if(s.utils.arrayIndexOf(d,a)>=0)return!1;var b=a.match(e);return null!==b&&(b[1]?"Object("+b[1]+")"+b[2]:a)}function b(a){var b=s.utils.stringTrim(a);123===b.charCodeAt(0)&&(b=b.slice(1,-1));var c,d=[],e=b.match(l),f=[],g=0;if(e){e.push(",");for(var h,i=0;h=e[i];++i){var j=h.charCodeAt(0);if(44===j){if(g<=0){d.push(c&&f.length?{key:c,value:f.join("")}:{unknown:c||f.join("")}),c=g=0,f=[];continue}}else if(58===j){if(!g&&!c&&1===f.length){c=f.pop();continue}}else if(47===j&&i&&h.length>1){var k=e[i-1].match(m);k&&!n[k[0]]&&(b=b.substr(b.indexOf(h)+1),e=b.match(l),e.push(","),i=-1,h="/")}else 40===j||123===j||91===j?++g:41===j||125===j||93===j?--g:c||f.length||34!==j&&39!==j||(h=h.slice(1,-1));f.push(h)}}return d}function c(c,d){function e(b,c){function d(a){return!a||!a.preprocess||(c=a.preprocess(c,b,e))}var j;if(!i){if(!d(s.getBindingHandler(b)))return;o[b]&&(j=a(c))&&g.push("'"+b+"':function(_z){"+j+"=_z}")}h&&(c="function(){return "+c+" }"),f.push("'"+b+"':"+c)}d=d||{};var f=[],g=[],h=d.valueAccessors,i=d.bindingParams,j="string"==typeof c?b(c):c;return s.utils.arrayForEach(j,function(a){e(a.key||a.unknown,a.value)}),g.length&&e("_ko_property_writers","{"+g.join(",")+" }"),f.join(",")}var d=["true","false","null","undefined"],e=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,f='"(?:[^"\\\\]|\\\\.)*"',g="'(?:[^'\\\\]|\\\\.)*'",h="/(?:[^/\\\\]|\\\\.)*/w*",i=",\"'{}()/:[\\]",j="[^\\s:,/][^"+i+"]*[^\\s"+i+"]",k="[^\\s]",l=RegExp(f+"|"+g+"|"+h+"|"+j+"|"+k,"g"),m=/[\])"'A-Za-z0-9_$]+$/,n={"in":1,"return":1,"typeof":1},o={};return{bindingRewriteValidators:[],twoWayBindings:o,parseObjectLiteral:b,preProcessBindings:c,keyValueArrayContainsKey:function(a,b){for(var c=0;c<a.length;c++)if(a[c].key==b)return!0;return!1},writeValueToProperty:function(a,b,c,d,e){if(a&&s.isObservable(a))!s.isWriteableObservable(a)||e&&a.peek()===d||a(d);else{var f=b.get("_ko_property_writers");f&&f[c]&&f[c](d)}}}}(),s.exportSymbol("expressionRewriting",s.expressionRewriting),s.exportSymbol("expressionRewriting.bindingRewriteValidators",s.expressionRewriting.bindingRewriteValidators),s.exportSymbol("expressionRewriting.parseObjectLiteral",s.expressionRewriting.parseObjectLiteral),s.exportSymbol("expressionRewriting.preProcessBindings",s.expressionRewriting.preProcessBindings),s.exportSymbol("expressionRewriting._twoWayBindings",s.expressionRewriting.twoWayBindings),s.exportSymbol("jsonExpressionRewriting",s.expressionRewriting),s.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",s.expressionRewriting.preProcessBindings),function(){function a(a){return 8==a.nodeType&&h.test(g?a.text:a.nodeValue)}function b(a){return 8==a.nodeType&&i.test(g?a.text:a.nodeValue)}function c(c,d){for(var e=c,f=1,g=[];e=e.nextSibling;){if(b(e)&&(f--,0===f))return g;g.push(e),a(e)&&f++}if(!d)throw new Error("Cannot find closing comment tag to match: "+c.nodeValue);return null}function e(a,b){var d=c(a,b);return d?d.length>0?d[d.length-1].nextSibling:a.nextSibling:null}function f(c){var d=c.firstChild,f=null;if(d)do if(f)f.push(d);else if(a(d)){var g=e(d,!0);g?d=g:f=[d]}else b(d)&&(f=[d]);while(d=d.nextSibling);return f}var g=d&&"<!--test-->"===d.createComment("test").text,h=g?/^<!--\s*ko(?:\s+([\s\S]+))?\s*-->$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,i=g?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/,j={ul:!0,ol:!0};s.virtualElements={allowedBindings:{},childNodes:function(b){return a(b)?c(b):b.childNodes},emptyNode:function(b){if(a(b))for(var c=s.virtualElements.childNodes(b),d=0,e=c.length;d<e;d++)s.removeNode(c[d]);else s.utils.emptyDomNode(b)},setDomNodeChildren:function(b,c){if(a(b)){s.virtualElements.emptyNode(b);for(var d=b.nextSibling,e=0,f=c.length;e<f;e++)d.parentNode.insertBefore(c[e],d)}else s.utils.setDomNodeChildren(b,c)},prepend:function(b,c){a(b)?b.parentNode.insertBefore(c,b.nextSibling):b.firstChild?b.insertBefore(c,b.firstChild):b.appendChild(c)},insertAfter:function(b,c,d){d?a(b)?b.parentNode.insertBefore(c,d.nextSibling):d.nextSibling?b.insertBefore(c,d.nextSibling):b.appendChild(c):s.virtualElements.prepend(b,c)},firstChild:function(c){return a(c)?!c.nextSibling||b(c.nextSibling)?null:c.nextSibling:c.firstChild},nextSibling:function(c){return a(c)&&(c=e(c)),c.nextSibling&&b(c.nextSibling)?null:c.nextSibling},hasBindingValue:a,virtualNodeBindingValue:function(a){var b=(g?a.text:a.nodeValue).match(h);return b?b[1]:null},normaliseVirtualElementDomStructure:function(a){if(j[s.utils.tagNameLower(a)]){var b=a.firstChild;if(b)do if(1===b.nodeType){var c=f(b);if(c)for(var d=b.nextSibling,e=0;e<c.length;e++)d?a.insertBefore(c[e],d):a.appendChild(c[e])}while(b=b.nextSibling)}}}}(),s.exportSymbol("virtualElements",s.virtualElements),s.exportSymbol("virtualElements.allowedBindings",s.virtualElements.allowedBindings),s.exportSymbol("virtualElements.emptyNode",s.virtualElements.emptyNode),s.exportSymbol("virtualElements.insertAfter",s.virtualElements.insertAfter),s.exportSymbol("virtualElements.prepend",s.virtualElements.prepend),s.exportSymbol("virtualElements.setDomNodeChildren",s.virtualElements.setDomNodeChildren),function(){function a(a,c,d){var e=a+(d&&d.valueAccessors||"");return c[e]||(c[e]=b(a,d))}function b(a,b){var c=s.expressionRewriting.preProcessBindings(a,b),d="with($context){with($data||{}){return{"+c+"}}}";return new Function("$context","$element",d)}var c="data-bind";s.bindingProvider=function(){this.bindingCache={}},s.utils.extend(s.bindingProvider.prototype,{nodeHasBindings:function(a){switch(a.nodeType){case 1:return null!=a.getAttribute(c)||s.components.getComponentNameForNode(a);case 8:return s.virtualElements.hasBindingValue(a);default:return!1}},getBindings:function(a,b){var c=this.getBindingsString(a,b),d=c?this.parseBindingsString(c,b,a):null;return s.components.addBindingsForCustomElement(d,a,b,!1)},getBindingAccessors:function(a,b){var c=this.getBindingsString(a,b),d=c?this.parseBindingsString(c,b,a,{valueAccessors:!0}):null;return s.components.addBindingsForCustomElement(d,a,b,!0)},getBindingsString:function(a,b){switch(a.nodeType){case 1:return a.getAttribute(c);case 8:return s.virtualElements.virtualNodeBindingValue(a);default:return null}},parseBindingsString:function(b,c,d,e){try{var f=a(b,this.bindingCache,e);return f(c,d)}catch(g){throw g.message="Unable to parse bindings.\nBindings value: "+b+"\nMessage: "+g.message,g}}}),s.bindingProvider.instance=new s.bindingProvider}(),s.exportSymbol("bindingProvider",s.bindingProvider),function(){function a(a){return function(){return a}}function d(a){return a()}function e(a){return s.utils.objectMap(s.dependencyDetection.ignore(a),function(b,c){return function(){return a()[c]}})}function g(b,c,d){return"function"==typeof b?e(b.bind(null,c,d)):s.utils.objectMap(b,a)}function h(a,b){return e(this.getBindings.bind(this,a,b))}function i(a){var b=s.virtualElements.allowedBindings[a];if(!b)throw new Error("The binding '"+a+"' cannot be used with virtual elements")}function j(a,b,c){var d,e=s.virtualElements.firstChild(b),f=s.bindingProvider.instance,g=f.preprocessNode;if(g){for(;d=e;)e=s.virtualElements.nextSibling(d),g.call(f,d);e=s.virtualElements.firstChild(b)}for(;d=e;)e=s.virtualElements.nextSibling(d),k(a,d,c)}function k(a,b,c){var d=!0,e=1===b.nodeType;e&&s.virtualElements.normaliseVirtualElementDomStructure(b);var f=e&&c||s.bindingProvider.instance.nodeHasBindings(b);f&&(d=m(b,null,a,c).shouldBindDescendants),d&&!o[s.utils.tagNameLower(b)]&&j(a,b,!e)}function l(a){var b=[],c={},d=[];return s.utils.objectForEach(a,function e(f){if(!c[f]){var g=s.getBindingHandler(f);g&&(g.after&&(d.push(f),s.utils.arrayForEach(g.after,function(b){if(a[b]){if(s.utils.arrayIndexOf(d,b)!==-1)throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+d.join(", "));e(b)}}),d.length--),b.push({key:f,handler:g})),c[f]=!0}}),b}function m(a,c,e,f){function g(){return s.utils.objectMap(o?o():k,d)}var j=s.utils.domData.get(a,p);if(!c){if(j)throw Error("You cannot apply bindings multiple times to the same element.");s.utils.domData.set(a,p,!0)}!j&&f&&s.storedBindingContextForNode(a,e);var k;if(c&&"function"!=typeof c)k=c;else{var m=s.bindingProvider.instance,n=m.getBindingAccessors||h,o=s.dependentObservable(function(){return k=c?c(e,a):n.call(m,a,e),k&&e._subscribable&&e._subscribable(),k},null,{disposeWhenNodeIsRemoved:a});k&&o.isActive()||(o=null)}var q;if(k){var r=o?function(a){return function(){return d(o()[a])}}:function(a){return k[a]};g.get=function(a){return k[a]&&d(r(a))},g.has=function(a){return a in k};var t=l(k);s.utils.arrayForEach(t,function(c){var d=c.handler.init,f=c.handler.update,h=c.key;8===a.nodeType&&i(h);try{"function"==typeof d&&s.dependencyDetection.ignore(function(){var c=d(a,r(h),g,e.$data,e);if(c&&c.controlsDescendantBindings){if(q!==b)throw new Error("Multiple bindings ("+q+" and "+h+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");q=h}}),"function"==typeof f&&s.dependentObservable(function(){f(a,r(h),g,e.$data,e)},null,{disposeWhenNodeIsRemoved:a})}catch(j){throw j.message='Unable to process binding "'+h+": "+k[h]+'"\nMessage: '+j.message,j}})}return{shouldBindDescendants:q===b}}function n(a){return a&&a instanceof s.bindingContext?a:new s.bindingContext(a)}s.bindingHandlers={};var o={script:!0,textarea:!0,template:!0};s.getBindingHandler=function(a){return s.bindingHandlers[a]},s.bindingContext=function(a,c,d,e){function f(){var b=j?a():a,f=s.utils.unwrapObservable(b);return c?(c._subscribable&&c._subscribable(),s.utils.extend(i,c),k&&(i._subscribable=k)):(i.$parents=[],i.$root=f,i.ko=s),i.$rawData=b,i.$data=f,d&&(i[d]=f),e&&e(i,c,f),i.$data}function g(){return h&&!s.utils.anyDomNodeIsAttachedToDocument(h)}var h,i=this,j="function"==typeof a&&!s.isObservable(a),k=s.dependentObservable(f,null,{disposeWhen:g,disposeWhenNodeIsRemoved:!0});k.isActive()&&(i._subscribable=k,k.equalityComparer=null,h=[],k._addNode=function(a){h.push(a),s.utils.domNodeDisposal.addDisposeCallback(a,function(a){s.utils.arrayRemoveItem(h,a),h.length||(k.dispose(),i._subscribable=k=b)})})},s.bindingContext.prototype.createChildContext=function(a,b,c){return new s.bindingContext(a,this,b,function(a,b){a.$parentContext=b,a.$parent=b.$data,a.$parents=(b.$parents||[]).slice(0),a.$parents.unshift(a.$parent),c&&c(a)})},s.bindingContext.prototype.extend=function(a){return new s.bindingContext(this._subscribable||this.$data,this,null,function(b,c){b.$rawData=c.$rawData,s.utils.extend(b,"function"==typeof a?a():a)})};var p=s.utils.domData.nextKey(),q=s.utils.domData.nextKey();s.storedBindingContextForNode=function(a,b){return 2!=arguments.length?s.utils.domData.get(a,q):(s.utils.domData.set(a,q,b),void(b._subscribable&&b._subscribable._addNode(a)))},s.applyBindingAccessorsToNode=function(a,b,c){return 1===a.nodeType&&s.virtualElements.normaliseVirtualElementDomStructure(a),m(a,b,n(c),!0)},s.applyBindingsToNode=function(a,b,c){var d=n(c);return s.applyBindingAccessorsToNode(a,g(b,d,a),d)},s.applyBindingsToDescendants=function(a,b){1!==b.nodeType&&8!==b.nodeType||j(n(a),b,!0)},s.applyBindings=function(a,b){if(!f&&c.jQuery&&(f=c.jQuery),b&&1!==b.nodeType&&8!==b.nodeType)throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");b=b||c.document.body,k(n(a),b,!0)},s.contextFor=function(a){switch(a.nodeType){case 1:case 8:var c=s.storedBindingContextForNode(a);if(c)return c;if(a.parentNode)return s.contextFor(a.parentNode)}return b},s.dataFor=function(a){var c=s.contextFor(a);return c?c.$data:b},s.exportSymbol("bindingHandlers",s.bindingHandlers),s.exportSymbol("applyBindings",s.applyBindings),s.exportSymbol("applyBindingsToDescendants",s.applyBindingsToDescendants),s.exportSymbol("applyBindingAccessorsToNode",s.applyBindingAccessorsToNode),s.exportSymbol("applyBindingsToNode",s.applyBindingsToNode),s.exportSymbol("contextFor",s.contextFor),s.exportSymbol("dataFor",s.dataFor)}(),function(a){function b(b,c){return b.hasOwnProperty(c)?b[c]:a}function c(a,c){var e,h=b(f,a);h?h.subscribe(c):(h=f[a]=new s.subscribable,h.subscribe(c),d(a,function(b,c){var d=!(!c||!c.synchronous);g[a]={definition:b,isSynchronousComponent:d},delete f[a],e||d?h.notifySubscribers(b):s.tasks.schedule(function(){h.notifySubscribers(b)})}),e=!0)}function d(a,b){e("getConfig",[a],function(c){c?e("loadComponent",[a,c],function(a){b(a,c)}):b(null,null)})}function e(b,c,d,f){f||(f=s.components.loaders.slice(0));var g=f.shift();if(g){var h=g[b];if(h){var i=!1,j=h.apply(g,c.concat(function(a){i?d(null):null!==a?d(a):e(b,c,d,f)}));if(j!==a&&(i=!0,!g.suppressLoaderExceptions))throw new Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else e(b,c,d,f)}else d(null)}var f={},g={};s.components={get:function(a,d){var e=b(g,a);e?e.isSynchronousComponent?s.dependencyDetection.ignore(function(){d(e.definition)}):s.tasks.schedule(function(){d(e.definition)}):c(a,d)},clearCachedDefinition:function(a){delete g[a]},_getFirstResultFromLoaders:e},s.components.loaders=[],s.exportSymbol("components",s.components),s.exportSymbol("components.get",s.components.get),s.exportSymbol("components.clearCachedDefinition",s.components.clearCachedDefinition)}(),function(a){function b(a,b,c,d){var e={},f=2,g=function(){0===--f&&d(e)},h=c.template,i=c.viewModel;h?k(b,h,function(b){s.components._getFirstResultFromLoaders("loadTemplate",[a,b],function(a){e.template=a,g()})}):g(),i?k(b,i,function(b){s.components._getFirstResultFromLoaders("loadViewModel",[a,b],function(a){e[n]=a,g()})}):g()}function e(a,b,c){if("string"==typeof b)c(s.utils.parseHtmlFragment(b));else if(b instanceof Array)c(b);else if(j(b))c(s.utils.makeArray(b.childNodes));else if(b.element){var e=b.element;if(h(e))c(g(e));else if("string"==typeof e){var f=d.getElementById(e);f?c(g(f)):a("Cannot find element with ID "+e)}else a("Unknown element type: "+e)}else a("Unknown template value: "+b)}function f(a,b,c){if("function"==typeof b)c(function(a){return new b(a)});else if("function"==typeof b[n])c(b[n]);else if("instance"in b){var d=b.instance;c(function(a,b){return d})}else"viewModel"in b?f(a,b.viewModel,c):a("Unknown viewModel value: "+b)}function g(a){switch(s.utils.tagNameLower(a)){case"script":return s.utils.parseHtmlFragment(a.text);case"textarea":return s.utils.parseHtmlFragment(a.value);case"template":if(j(a.content))return s.utils.cloneNodes(a.content.childNodes)}return s.utils.cloneNodes(a.childNodes)}function h(a){return c.HTMLElement?a instanceof HTMLElement:a&&a.tagName&&1===a.nodeType}function j(a){return c.DocumentFragment?a instanceof DocumentFragment:a&&11===a.nodeType}function k(a,b,d){"string"==typeof b.require?i||c.require?(i||c.require)([b.require],d):a("Uses require, but no AMD loader is present"):d(b)}function l(a){return function(b){throw new Error("Component '"+a+"': "+b)}}var m={};s.components.register=function(a,b){if(!b)throw new Error("Invalid configuration for "+a);if(s.components.isRegistered(a))throw new Error("Component "+a+" is already registered");m[a]=b},s.components.isRegistered=function(a){return m.hasOwnProperty(a)},s.components.unregister=function(a){delete m[a],s.components.clearCachedDefinition(a)},s.components.defaultLoader={getConfig:function(a,b){var c=m.hasOwnProperty(a)?m[a]:null;b(c)},loadComponent:function(a,c,d){var e=l(a);k(e,c,function(c){b(a,e,c,d)})},loadTemplate:function(a,b,c){e(l(a),b,c)},loadViewModel:function(a,b,c){f(l(a),b,c)}};var n="createViewModel";s.exportSymbol("components.register",s.components.register),s.exportSymbol("components.isRegistered",s.components.isRegistered),s.exportSymbol("components.unregister",s.components.unregister),s.exportSymbol("components.defaultLoader",s.components.defaultLoader),s.components.loaders.push(s.components.defaultLoader),s.components._allRegisteredComponents=m}(),function(a){function b(a,b){var d=a.getAttribute("params");if(d){var e=c.parseBindingsString(d,b,a,{valueAccessors:!0,bindingParams:!0}),f=s.utils.objectMap(e,function(b,c){return s.computed(b,null,{disposeWhenNodeIsRemoved:a})}),g=s.utils.objectMap(f,function(b,c){var d=b.peek();return b.isActive()?s.computed({read:function(){return s.utils.unwrapObservable(b())},write:s.isWriteableObservable(d)&&function(a){b()(a)},disposeWhenNodeIsRemoved:a}):d});return g.hasOwnProperty("$raw")||(g.$raw=f),g}return{$raw:{}}}s.components.getComponentNameForNode=function(a){var b=s.utils.tagNameLower(a);if(s.components.isRegistered(b)&&(b.indexOf("-")!=-1||""+a=="[object HTMLUnknownElement]"||s.utils.ieVersion<=8&&a.tagName===b))return b},s.components.addBindingsForCustomElement=function(a,c,d,e){if(1===c.nodeType){var f=s.components.getComponentNameForNode(c);if(f){if(a=a||{},a.component)throw new Error('Cannot use the "component" binding on a custom element matching a component');var g={name:f,params:b(c,d)};a.component=e?function(){return g}:g}}return a};var c=new s.bindingProvider;s.utils.ieVersion<9&&(s.components.register=function(a){return function(b){return d.createElement(b),a.apply(this,arguments)}}(s.components.register),d.createDocumentFragment=function(a){return function(){var b=a(),c=s.components._allRegisteredComponents;for(var d in c)c.hasOwnProperty(d)&&b.createElement(d);return b}}(d.createDocumentFragment))}(),function(a){function b(a,b,c){var d=b.template;if(!d)throw new Error("Component '"+a+"' has no template");var e=s.utils.cloneNodes(d);s.virtualElements.setDomNodeChildren(c,e)}function c(a,b,c,d){var e=a.createViewModel;return e?e.call(a,d,{element:b,templateNodes:c}):d}var d=0;s.bindingHandlers.component={init:function(e,f,g,h,i){var j,k,l=function(){var a=j&&j.dispose;"function"==typeof a&&a.call(j),j=null,k=null},m=s.utils.makeArray(s.virtualElements.childNodes(e));return s.utils.domNodeDisposal.addDisposeCallback(e,l),s.computed(function(){var g,h,n=s.utils.unwrapObservable(f());if("string"==typeof n?g=n:(g=s.utils.unwrapObservable(n.name),h=s.utils.unwrapObservable(n.params)),!g)throw new Error("No component name specified");var o=k=++d;s.components.get(g,function(d){if(k===o){if(l(),!d)throw new Error("Unknown component '"+g+"'");b(g,d,e);var f=c(d,e,m,h),n=i.createChildContext(f,a,function(a){a.$component=f,a.$componentTemplateNodes=m});j=f,s.applyBindingsToDescendants(n,e)}})},null,{disposeWhenNodeIsRemoved:e}),{controlsDescendantBindings:!0}}},s.virtualElements.allowedBindings.component=!0}();var F={"class":"className","for":"htmlFor"};s.bindingHandlers.attr={update:function(a,c,d){var e=s.utils.unwrapObservable(c())||{};s.utils.objectForEach(e,function(c,d){d=s.utils.unwrapObservable(d);var e=d===!1||null===d||d===b;e&&a.removeAttribute(c),s.utils.ieVersion<=8&&c in F?(c=F[c],e?a.removeAttribute(c):a[c]=d):e||a.setAttribute(c,d.toString()),"name"===c&&s.utils.setElementName(a,e?"":d.toString())})}},function(){s.bindingHandlers.checked={after:["value","attr"],init:function(a,c,d){function e(){var b=a.checked,e=n?g():b;if(!s.computedContext.isInitial()&&(!i||b)){var f=s.dependencyDetection.ignore(c);if(k){var h=l?f.peek():f;m!==e?(b&&(s.utils.addOrRemoveItem(h,e,!0),s.utils.addOrRemoveItem(h,m,!1)),m=e):s.utils.addOrRemoveItem(h,e,b),l&&s.isWriteableObservable(f)&&f(h)}else s.expressionRewriting.writeValueToProperty(f,d,"checked",e,!0)}}function f(){var b=s.utils.unwrapObservable(c());k?a.checked=s.utils.arrayIndexOf(b,g())>=0:h?a.checked=b:a.checked=g()===b}var g=s.pureComputed(function(){return d.has("checkedValue")?s.utils.unwrapObservable(d.get("checkedValue")):d.has("value")?s.utils.unwrapObservable(d.get("value")):a.value}),h="checkbox"==a.type,i="radio"==a.type;if(h||i){var j=c(),k=h&&s.utils.unwrapObservable(j)instanceof Array,l=!(k&&j.push&&j.splice),m=k?g():b,n=i||k;i&&!a.name&&s.bindingHandlers.uniqueName.init(a,function(){return!0}),s.computed(e,null,{disposeWhenNodeIsRemoved:a}),s.utils.registerEventHandler(a,"click",e),s.computed(f,null,{disposeWhenNodeIsRemoved:a}),j=b}}},s.expressionRewriting.twoWayBindings.checked=!0,s.bindingHandlers.checkedValue={update:function(a,b){a.value=s.utils.unwrapObservable(b())}}}();var G="__ko__cssValue";s.bindingHandlers.css={update:function(a,b){var c=s.utils.unwrapObservable(b());null!==c&&"object"==typeof c?s.utils.objectForEach(c,function(b,c){c=s.utils.unwrapObservable(c),s.utils.toggleDomNodeCssClass(a,b,c)}):(c=s.utils.stringTrim(String(c||"")),s.utils.toggleDomNodeCssClass(a,a[G],!1),a[G]=c,s.utils.toggleDomNodeCssClass(a,c,!0))}},s.bindingHandlers.enable={update:function(a,b){var c=s.utils.unwrapObservable(b());c&&a.disabled?a.removeAttribute("disabled"):c||a.disabled||(a.disabled=!0)}},s.bindingHandlers.disable={update:function(a,b){s.bindingHandlers.enable.update(a,function(){return!s.utils.unwrapObservable(b())})}},s.bindingHandlers.event={init:function(a,b,c,d,e){var f=b()||{};s.utils.objectForEach(f,function(f){"string"==typeof f&&s.utils.registerEventHandler(a,f,function(a){var g,h=b()[f];if(h){try{var i=s.utils.makeArray(arguments);d=e.$data,i.unshift(d),g=h.apply(d,i)}finally{g!==!0&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}var j=c.get(f+"Bubble")!==!1;j||(a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation())}})})}},s.bindingHandlers.foreach={makeTemplateValueAccessor:function(a){return function(){var b=a(),c=s.utils.peekObservable(b);return c&&"number"!=typeof c.length?(s.utils.unwrapObservable(b),{foreach:c.data,as:c.as,includeDestroyed:c.includeDestroyed,afterAdd:c.afterAdd,beforeRemove:c.beforeRemove,afterRender:c.afterRender,beforeMove:c.beforeMove,afterMove:c.afterMove,templateEngine:s.nativeTemplateEngine.instance}):{foreach:b,templateEngine:s.nativeTemplateEngine.instance}}},init:function(a,b,c,d,e){return s.bindingHandlers.template.init(a,s.bindingHandlers.foreach.makeTemplateValueAccessor(b))},update:function(a,b,c,d,e){return s.bindingHandlers.template.update(a,s.bindingHandlers.foreach.makeTemplateValueAccessor(b),c,d,e)}},s.expressionRewriting.bindingRewriteValidators.foreach=!1,s.virtualElements.allowedBindings.foreach=!0;var H="__ko_hasfocusUpdating",I="__ko_hasfocusLastValue";s.bindingHandlers.hasfocus={init:function(a,b,c){var d=function(d){a[H]=!0;var e=a.ownerDocument;if("activeElement"in e){var f;try{f=e.activeElement}catch(g){f=e.body}d=f===a}var h=b();s.expressionRewriting.writeValueToProperty(h,c,"hasfocus",d,!0),a[I]=d,a[H]=!1},e=d.bind(null,!0),f=d.bind(null,!1);s.utils.registerEventHandler(a,"focus",e),s.utils.registerEventHandler(a,"focusin",e),s.utils.registerEventHandler(a,"blur",f),s.utils.registerEventHandler(a,"focusout",f)},update:function(a,b){var c=!!s.utils.unwrapObservable(b());a[H]||a[I]===c||(c?a.focus():a.blur(),!c&&a[I]&&a.ownerDocument.body.focus(),s.dependencyDetection.ignore(s.utils.triggerEvent,null,[a,c?"focusin":"focusout"]))}},s.expressionRewriting.twoWayBindings.hasfocus=!0,s.bindingHandlers.hasFocus=s.bindingHandlers.hasfocus,s.expressionRewriting.twoWayBindings.hasFocus=!0,s.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(a,b){s.utils.setHtml(a,b())}},r("if"),r("ifnot",!1,!0),r("with",!0,!1,function(a,b){return a.createChildContext(b)});var J={};s.bindingHandlers.options={init:function(a){if("select"!==s.utils.tagNameLower(a))throw new Error("options binding applies only to SELECT elements");for(;a.length>0;)a.remove(0);return{controlsDescendantBindings:!0}},update:function(a,c,d){function e(){return s.utils.arrayFilter(a.options,function(a){return a.selected})}function f(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c}function g(c,e,g){g.length&&(r=!o&&g[0].selected?[s.selectExtensions.readValue(g[0])]:[],t=!0);var h=a.ownerDocument.createElement("option");if(c===J)s.utils.setTextContent(h,d.get("optionsCaption")),s.selectExtensions.writeValue(h,b);else{var i=f(c,d.get("optionsValue"),c);s.selectExtensions.writeValue(h,s.utils.unwrapObservable(i));var j=f(c,d.get("optionsText"),i);s.utils.setTextContent(h,j)}return[h]}function h(b,c){if(t&&o)s.selectExtensions.writeValue(a,s.utils.unwrapObservable(d.get("value")),!0);else if(r.length){var e=s.utils.arrayIndexOf(r,s.selectExtensions.readValue(c[0]))>=0;s.utils.setOptionNodeSelectionState(c[0],e),t&&!e&&s.dependencyDetection.ignore(s.utils.triggerEvent,null,[a,"change"])}}var i,j,k=0==a.length,l=a.multiple,m=!k&&l?a.scrollTop:null,n=s.utils.unwrapObservable(c()),o=d.get("valueAllowUnset")&&d.has("value"),p=d.get("optionsIncludeDestroyed"),q={},r=[];o||(l?r=s.utils.arrayMap(e(),s.selectExtensions.readValue):a.selectedIndex>=0&&r.push(s.selectExtensions.readValue(a.options[a.selectedIndex]))),n&&("undefined"==typeof n.length&&(n=[n]),j=s.utils.arrayFilter(n,function(a){return p||a===b||null===a||!s.utils.unwrapObservable(a._destroy)}),d.has("optionsCaption")&&(i=s.utils.unwrapObservable(d.get("optionsCaption")),null!==i&&i!==b&&j.unshift(J)));var t=!1;q.beforeRemove=function(b){a.removeChild(b)};var u=h;d.has("optionsAfterRender")&&"function"==typeof d.get("optionsAfterRender")&&(u=function(a,c){h(a,c),s.dependencyDetection.ignore(d.get("optionsAfterRender"),null,[c[0],a!==J?a:b])}),s.utils.setDomNodeChildrenFromArrayMapping(a,j,g,q,u),s.dependencyDetection.ignore(function(){if(o)s.selectExtensions.writeValue(a,s.utils.unwrapObservable(d.get("value")),!0);else{var b;b=l?r.length&&e().length<r.length:r.length&&a.selectedIndex>=0?s.selectExtensions.readValue(a.options[a.selectedIndex])!==r[0]:r.length||a.selectedIndex>=0,b&&s.utils.triggerEvent(a,"change")}}),s.utils.ensureSelectElementIsRenderedCorrectly(a),m&&Math.abs(m-a.scrollTop)>20&&(a.scrollTop=m)}},s.bindingHandlers.options.optionValueDomDataKey=s.utils.domData.nextKey(),s.bindingHandlers.selectedOptions={after:["options","foreach"],init:function(a,b,c){s.utils.registerEventHandler(a,"change",function(){var d=b(),e=[];s.utils.arrayForEach(a.getElementsByTagName("option"),function(a){a.selected&&e.push(s.selectExtensions.readValue(a))}),s.expressionRewriting.writeValueToProperty(d,c,"selectedOptions",e)})},update:function(a,b){if("select"!=s.utils.tagNameLower(a))throw new Error("values binding applies only to SELECT elements");var c=s.utils.unwrapObservable(b()),d=a.scrollTop;c&&"number"==typeof c.length&&s.utils.arrayForEach(a.getElementsByTagName("option"),function(a){var b=s.utils.arrayIndexOf(c,s.selectExtensions.readValue(a))>=0;a.selected!=b&&s.utils.setOptionNodeSelectionState(a,b)}),a.scrollTop=d}},s.expressionRewriting.twoWayBindings.selectedOptions=!0,s.bindingHandlers.style={update:function(a,c){var d=s.utils.unwrapObservable(c()||{});s.utils.objectForEach(d,function(c,d){d=s.utils.unwrapObservable(d),null!==d&&d!==b&&d!==!1||(d=""),a.style[c]=d})}},s.bindingHandlers.submit={init:function(a,b,c,d,e){if("function"!=typeof b())throw new Error("The value for a submit binding must be a function");s.utils.registerEventHandler(a,"submit",function(c){
var d,f=b();try{d=f.call(e.$data,a)}finally{d!==!0&&(c.preventDefault?c.preventDefault():c.returnValue=!1)}})}},s.bindingHandlers.text={init:function(){return{controlsDescendantBindings:!0}},update:function(a,b){s.utils.setTextContent(a,b())}},s.virtualElements.allowedBindings.text=!0,function(){if(c&&c.navigator)var d=function(a){if(a)return parseFloat(a[1])},e=c.opera&&c.opera.version&&parseInt(c.opera.version()),f=c.navigator.userAgent,g=d(f.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),h=d(f.match(/Firefox\/([^ ]*)/));if(s.utils.ieVersion<10)var i=s.utils.domData.nextKey(),j=s.utils.domData.nextKey(),k=function(a){var b=this.activeElement,c=b&&s.utils.domData.get(b,j);c&&c(a)},l=function(a,b){var c=a.ownerDocument;s.utils.domData.get(c,i)||(s.utils.domData.set(c,i,!0),s.utils.registerEventHandler(c,"selectionchange",k)),s.utils.domData.set(a,j,b)};s.bindingHandlers.textInput={init:function(c,d,f){var i,j,k=c.value,m=function(e){clearTimeout(i),j=i=b;var g=c.value;k!==g&&(a&&e&&(c._ko_textInputProcessedEvent=e.type),k=g,s.expressionRewriting.writeValueToProperty(d(),f,"textInput",g))},n=function(b){if(!i){j=c.value;var d=a?m.bind(c,{type:b.type}):m;i=s.utils.setTimeout(d,4)}},o=9==s.utils.ieVersion?n:m,p=function(){var a=s.utils.unwrapObservable(d());return null!==a&&a!==b||(a=""),j!==b&&a===j?void s.utils.setTimeout(p,4):void(c.value!==a&&(k=a,c.value=a))},q=function(a,b){s.utils.registerEventHandler(c,a,b)};a&&s.bindingHandlers.textInput._forceUpdateOn?s.utils.arrayForEach(s.bindingHandlers.textInput._forceUpdateOn,function(a){"after"==a.slice(0,5)?q(a.slice(5),n):q(a,m)}):s.utils.ieVersion<10?(q("propertychange",function(a){"value"===a.propertyName&&o(a)}),8==s.utils.ieVersion&&(q("keyup",m),q("keydown",m)),s.utils.ieVersion>=8&&(l(c,o),q("dragend",n))):(q("input",m),g<5&&"textarea"===s.utils.tagNameLower(c)?(q("keydown",n),q("paste",n),q("cut",n)):e<11?q("keydown",n):h<4&&(q("DOMAutoComplete",m),q("dragdrop",m),q("drop",m))),q("change",m),s.computed(p,null,{disposeWhenNodeIsRemoved:c})}},s.expressionRewriting.twoWayBindings.textInput=!0,s.bindingHandlers.textinput={preprocess:function(a,b,c){c("textInput",a)}}}(),s.bindingHandlers.uniqueName={init:function(a,b){if(b()){var c="ko_unique_"+ ++s.bindingHandlers.uniqueName.currentIndex;s.utils.setElementName(a,c)}}},s.bindingHandlers.uniqueName.currentIndex=0,s.bindingHandlers.value={after:["options","foreach"],init:function(a,b,c){if("input"==a.tagName.toLowerCase()&&("checkbox"==a.type||"radio"==a.type))return void s.applyBindingAccessorsToNode(a,{checkedValue:b});var d=["change"],e=c.get("valueUpdate"),f=!1,g=null;e&&("string"==typeof e&&(e=[e]),s.utils.arrayPushAll(d,e),d=s.utils.arrayGetDistinctValues(d));var h=function(){g=null,f=!1;var d=b(),e=s.selectExtensions.readValue(a);s.expressionRewriting.writeValueToProperty(d,c,"value",e)},i=s.utils.ieVersion&&"input"==a.tagName.toLowerCase()&&"text"==a.type&&"off"!=a.autocomplete&&(!a.form||"off"!=a.form.autocomplete);i&&s.utils.arrayIndexOf(d,"propertychange")==-1&&(s.utils.registerEventHandler(a,"propertychange",function(){f=!0}),s.utils.registerEventHandler(a,"focus",function(){f=!1}),s.utils.registerEventHandler(a,"blur",function(){f&&h()})),s.utils.arrayForEach(d,function(b){var c=h;s.utils.stringStartsWith(b,"after")&&(c=function(){g=s.selectExtensions.readValue(a),s.utils.setTimeout(h,0)},b=b.substring("after".length)),s.utils.registerEventHandler(a,b,c)});var j=function(){var d=s.utils.unwrapObservable(b()),e=s.selectExtensions.readValue(a);if(null!==g&&d===g)return void s.utils.setTimeout(j,0);var f=d!==e;if(f)if("select"===s.utils.tagNameLower(a)){var h=c.get("valueAllowUnset"),i=function(){s.selectExtensions.writeValue(a,d,h)};i(),h||d===s.selectExtensions.readValue(a)?s.utils.setTimeout(i,0):s.dependencyDetection.ignore(s.utils.triggerEvent,null,[a,"change"])}else s.selectExtensions.writeValue(a,d)};s.computed(j,null,{disposeWhenNodeIsRemoved:a})},update:function(){}},s.expressionRewriting.twoWayBindings.value=!0,s.bindingHandlers.visible={update:function(a,b){var c=s.utils.unwrapObservable(b()),d=!("none"==a.style.display);c&&!d?a.style.display="":!c&&d&&(a.style.display="none")}},q("click"),s.templateEngine=function(){},s.templateEngine.prototype.renderTemplateSource=function(a,b,c,d){throw new Error("Override renderTemplateSource")},s.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(a){throw new Error("Override createJavaScriptEvaluatorBlock")},s.templateEngine.prototype.makeTemplateSource=function(a,b){if("string"==typeof a){b=b||d;var c=b.getElementById(a);if(!c)throw new Error("Cannot find template with ID "+a);return new s.templateSources.domElement(c)}if(1==a.nodeType||8==a.nodeType)return new s.templateSources.anonymousTemplate(a);throw new Error("Unknown template type: "+a)},s.templateEngine.prototype.renderTemplate=function(a,b,c,d){var e=this.makeTemplateSource(a,d);return this.renderTemplateSource(e,b,c,d)},s.templateEngine.prototype.isTemplateRewritten=function(a,b){return this.allowTemplateRewriting===!1||this.makeTemplateSource(a,b).data("isRewritten")},s.templateEngine.prototype.rewriteTemplate=function(a,b,c){var d=this.makeTemplateSource(a,c),e=b(d.text());d.text(e),d.data("isRewritten",!0)},s.exportSymbol("templateEngine",s.templateEngine),s.templateRewriting=function(){function a(a){for(var b=s.expressionRewriting.bindingRewriteValidators,c=0;c<a.length;c++){var d=a[c].key;if(b.hasOwnProperty(d)){var e=b[d];if("function"==typeof e){var f=e(a[c].value);if(f)throw new Error(f)}else if(!e)throw new Error("This template engine does not support the '"+d+"' binding within its templates")}}}function b(b,c,d,e){var f=s.expressionRewriting.parseObjectLiteral(b);a(f);var g=s.expressionRewriting.preProcessBindings(f,{valueAccessors:!0}),h="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+g+" } })()},'"+d.toLowerCase()+"')";return e.createJavaScriptEvaluatorBlock(h)+c}var c=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,d=/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g;return{ensureTemplateIsRewritten:function(a,b,c){b.isTemplateRewritten(a,c)||b.rewriteTemplate(a,function(a){return s.templateRewriting.memoizeBindingAttributeSyntax(a,b)},c)},memoizeBindingAttributeSyntax:function(a,e){return a.replace(c,function(){return b(arguments[4],arguments[1],arguments[2],e)}).replace(d,function(){return b(arguments[1],"<!-- ko -->","#comment",e)})},applyMemoizedBindingsToNextSibling:function(a,b){return s.memoization.memoize(function(c,d){var e=c.nextSibling;e&&e.nodeName.toLowerCase()===b&&s.applyBindingAccessorsToNode(e,a,d)})}}}(),s.exportSymbol("__tr_ambtns",s.templateRewriting.applyMemoizedBindingsToNextSibling),function(){function a(a){return s.utils.domData.get(a,i)||{}}function c(a,b){s.utils.domData.set(a,i,b)}s.templateSources={};var d=1,e=2,f=3,g=4;s.templateSources.domElement=function(a){if(this.domElement=a,a){var b=s.utils.tagNameLower(a);this.templateType="script"===b?d:"textarea"===b?e:"template"==b&&a.content&&11===a.content.nodeType?f:g}},s.templateSources.domElement.prototype.text=function(){var a=this.templateType===d?"text":this.templateType===e?"value":"innerHTML";if(0==arguments.length)return this.domElement[a];var b=arguments[0];"innerHTML"===a?s.utils.setHtml(this.domElement,b):this.domElement[a]=b};var h=s.utils.domData.nextKey()+"_";s.templateSources.domElement.prototype.data=function(a){return 1===arguments.length?s.utils.domData.get(this.domElement,h+a):void s.utils.domData.set(this.domElement,h+a,arguments[1])};var i=s.utils.domData.nextKey();s.templateSources.domElement.prototype.nodes=function(){var d=this.domElement;if(0==arguments.length){var e=a(d),h=e.containerData;return h||(this.templateType===f?d.content:this.templateType===g?d:b)}var i=arguments[0];c(d,{containerData:i})},s.templateSources.anonymousTemplate=function(a){this.domElement=a},s.templateSources.anonymousTemplate.prototype=new s.templateSources.domElement,s.templateSources.anonymousTemplate.prototype.constructor=s.templateSources.anonymousTemplate,s.templateSources.anonymousTemplate.prototype.text=function(){if(0==arguments.length){var d=a(this.domElement);return d.textData===b&&d.containerData&&(d.textData=d.containerData.innerHTML),d.textData}var e=arguments[0];c(this.domElement,{textData:e})},s.exportSymbol("templateSources",s.templateSources),s.exportSymbol("templateSources.domElement",s.templateSources.domElement),s.exportSymbol("templateSources.anonymousTemplate",s.templateSources.anonymousTemplate)}(),function(){function a(a,b,c){for(var d,e=a,f=s.virtualElements.nextSibling(b);e&&(d=e)!==f;)e=s.virtualElements.nextSibling(d),c(d,e)}function c(b,c){if(b.length){var d=b[0],e=b[b.length-1],f=d.parentNode,g=s.bindingProvider.instance,h=g.preprocessNode;if(h){if(a(d,e,function(a,b){var c=a.previousSibling,f=h.call(g,a);f&&(a===d&&(d=f[0]||b),a===e&&(e=f[f.length-1]||c))}),b.length=0,!d)return;d===e?b.push(d):(b.push(d,e),s.utils.fixUpContinuousNodeArray(b,f))}a(d,e,function(a){1!==a.nodeType&&8!==a.nodeType||s.applyBindings(c,a)}),a(d,e,function(a){1!==a.nodeType&&8!==a.nodeType||s.memoization.unmemoizeDomNodeAndDescendants(a,[c])}),s.utils.fixUpContinuousNodeArray(b,f)}}function d(a){return a.nodeType?a:a.length>0?a[0]:null}function e(a,b,e,f,g){g=g||{};var i=a&&d(a),j=(i||e||{}).ownerDocument,k=g.templateEngine||h;s.templateRewriting.ensureTemplateIsRewritten(e,k,j);var l=k.renderTemplate(e,f,g,j);if("number"!=typeof l.length||l.length>0&&"number"!=typeof l[0].nodeType)throw new Error("Template engine must return an array of DOM nodes");var m=!1;switch(b){case"replaceChildren":s.virtualElements.setDomNodeChildren(a,l),m=!0;break;case"replaceNode":s.utils.replaceDomNodes(a,l),m=!0;break;case"ignoreTargetNode":break;default:throw new Error("Unknown renderMode: "+b)}return m&&(c(l,f),g.afterRender&&s.dependencyDetection.ignore(g.afterRender,null,[l,f.$data])),l}function f(a,b,c){return s.isObservable(a)?a():"function"==typeof a?a(b,c):a}function g(a,c){var d=s.utils.domData.get(a,i);d&&"function"==typeof d.dispose&&d.dispose(),s.utils.domData.set(a,i,c&&c.isActive()?c:b)}var h;s.setTemplateEngine=function(a){if(a!=b&&!(a instanceof s.templateEngine))throw new Error("templateEngine must inherit from ko.templateEngine");h=a},s.renderTemplate=function(a,c,g,i,j){if(g=g||{},(g.templateEngine||h)==b)throw new Error("Set a template engine before calling renderTemplate");if(j=j||"replaceChildren",i){var k=d(i),l=function(){return!k||!s.utils.domNodeIsAttachedToDocument(k)},m=k&&"replaceNode"==j?k.parentNode:k;return s.dependentObservable(function(){var b=c&&c instanceof s.bindingContext?c:new s.bindingContext(s.utils.unwrapObservable(c)),h=f(a,b.$data,b),l=e(i,j,h,b,g);"replaceNode"==j&&(i=l,k=d(i))},null,{disposeWhen:l,disposeWhenNodeIsRemoved:m})}return s.memoization.memoize(function(b){s.renderTemplate(a,c,g,b,"replaceNode")})},s.renderTemplateForEach=function(a,d,g,h,i){var j,k=function(b,c){j=i.createChildContext(b,g.as,function(a){a.$index=c});var d=f(a,b,j);return e(null,"ignoreTargetNode",d,j,g)},l=function(a,b,d){c(b,j),g.afterRender&&g.afterRender(b,a),j=null};return s.dependentObservable(function(){var a=s.utils.unwrapObservable(d)||[];"undefined"==typeof a.length&&(a=[a]);var c=s.utils.arrayFilter(a,function(a){return g.includeDestroyed||a===b||null===a||!s.utils.unwrapObservable(a._destroy)});s.dependencyDetection.ignore(s.utils.setDomNodeChildrenFromArrayMapping,null,[h,c,k,g,l])},null,{disposeWhenNodeIsRemoved:h})};var i=s.utils.domData.nextKey();s.bindingHandlers.template={init:function(a,b){var c=s.utils.unwrapObservable(b());if("string"==typeof c||c.name)s.virtualElements.emptyNode(a);else if("nodes"in c){var d=c.nodes||[];if(s.isObservable(d))throw new Error('The "nodes" option must be a plain, non-observable array.');var e=s.utils.moveCleanedNodesToContainerElement(d);new s.templateSources.anonymousTemplate(a).nodes(e)}else{var f=s.virtualElements.childNodes(a),e=s.utils.moveCleanedNodesToContainerElement(f);new s.templateSources.anonymousTemplate(a).nodes(e)}return{controlsDescendantBindings:!0}},update:function(a,b,c,d,e){var f,h,i=b(),j=s.utils.unwrapObservable(i),k=!0,l=null;if("string"==typeof j?(h=i,j={}):(h=j.name,"if"in j&&(k=s.utils.unwrapObservable(j["if"])),k&&"ifnot"in j&&(k=!s.utils.unwrapObservable(j.ifnot)),f=s.utils.unwrapObservable(j.data)),"foreach"in j){var m=k&&j.foreach||[];l=s.renderTemplateForEach(h||a,m,j,a,e)}else if(k){var n="data"in j?e.createChildContext(f,j.as):e;l=s.renderTemplate(h||a,n,j,a)}else s.virtualElements.emptyNode(a);g(a,l)}},s.expressionRewriting.bindingRewriteValidators.template=function(a){var b=s.expressionRewriting.parseObjectLiteral(a);return 1==b.length&&b[0].unknown?null:s.expressionRewriting.keyValueArrayContainsKey(b,"name")?null:"This template engine does not support anonymous templates nested within its templates"},s.virtualElements.allowedBindings.template=!0}(),s.exportSymbol("setTemplateEngine",s.setTemplateEngine),s.exportSymbol("renderTemplate",s.renderTemplate),s.utils.findMovesInArrayComparison=function(a,b,c){if(a.length&&b.length){var d,e,f,g,h;for(d=e=0;(!c||d<c)&&(g=a[e]);++e){for(f=0;h=b[f];++f)if(g.value===h.value){g.moved=h.index,h.moved=g.index,b.splice(f,1),d=f=0;break}d+=f}}},s.utils.compareArrays=function(){function a(a,e,f){return f="boolean"==typeof f?{dontLimitMoves:f}:f||{},a=a||[],e=e||[],a.length<e.length?b(a,e,c,d,f):b(e,a,d,c,f)}function b(a,b,c,d,e){var f,g,h,i,j,k,l=Math.min,m=Math.max,n=[],o=a.length,p=b.length,q=p-o||1,r=o+p+1;for(f=0;f<=o;f++)for(i=h,n.push(h=[]),j=l(p,f+q),k=m(0,f-1),g=k;g<=j;g++)if(g)if(f)if(a[f-1]===b[g-1])h[g]=i[g-1];else{var t=i[g]||r,u=h[g-1]||r;h[g]=l(t,u)+1}else h[g]=g+1;else h[g]=f+1;var v,w=[],x=[],y=[];for(f=o,g=p;f||g;)v=n[f][g]-1,g&&v===n[f][g-1]?x.push(w[w.length]={status:c,value:b[--g],index:g}):f&&v===n[f-1][g]?y.push(w[w.length]={status:d,value:a[--f],index:f}):(--g,--f,e.sparse||w.push({status:"retained",value:b[g]}));return s.utils.findMovesInArrayComparison(y,x,!e.dontLimitMoves&&10*o),w.reverse()}var c="added",d="deleted";return a}(),s.exportSymbol("utils.compareArrays",s.utils.compareArrays),function(){function a(a,c,d,e,f){var g=[],h=s.dependentObservable(function(){var b=c(d,f,s.utils.fixUpContinuousNodeArray(g,a))||[];g.length>0&&(s.utils.replaceDomNodes(g,b),e&&s.dependencyDetection.ignore(e,null,[d,b,f])),g.length=0,s.utils.arrayPushAll(g,b)},null,{disposeWhenNodeIsRemoved:a,disposeWhen:function(){return!s.utils.anyDomNodeIsAttachedToDocument(g)}});return{mappedNodes:g,dependentObservable:h.isActive()?h:b}}var c=s.utils.domData.nextKey(),d=s.utils.domData.nextKey();s.utils.setDomNodeChildrenFromArrayMapping=function(e,f,g,h,i){function j(a,b){l=p[b],v!==b&&(z[a]=l),l.indexObservable(v++),s.utils.fixUpContinuousNodeArray(l.mappedNodes,e),t.push(l),x.push(l)}function k(a,b){if(a)for(var c=0,d=b.length;c<d;c++)b[c]&&s.utils.arrayForEach(b[c].mappedNodes,function(d){a(d,c,b[c].arrayEntry)})}f=f||[],h=h||{};for(var l,m,n,o=s.utils.domData.get(e,c)===b,p=s.utils.domData.get(e,c)||[],q=s.utils.arrayMap(p,function(a){return a.arrayEntry}),r=s.utils.compareArrays(q,f,h.dontLimitMoves),t=[],u=0,v=0,w=[],x=[],y=[],z=[],A=[],B=0;m=r[B];B++)switch(n=m.moved,m.status){case"deleted":n===b&&(l=p[u],l.dependentObservable&&(l.dependentObservable.dispose(),l.dependentObservable=b),s.utils.fixUpContinuousNodeArray(l.mappedNodes,e).length&&(h.beforeRemove&&(t.push(l),x.push(l),l.arrayEntry===d?l=null:y[B]=l),l&&w.push.apply(w,l.mappedNodes))),u++;break;case"retained":j(B,u++);break;case"added":n!==b?j(B,n):(l={arrayEntry:m.value,indexObservable:s.observable(v++)},t.push(l),x.push(l),o||(A[B]=l))}s.utils.domData.set(e,c,t),k(h.beforeMove,z),s.utils.arrayForEach(w,h.beforeRemove?s.cleanNode:s.removeNode);for(var C,D,B=0,E=s.virtualElements.firstChild(e);l=x[B];B++){l.mappedNodes||s.utils.extend(l,a(e,g,l.arrayEntry,i,l.indexObservable));for(var F=0;D=l.mappedNodes[F];E=D.nextSibling,C=D,F++)D!==E&&s.virtualElements.insertAfter(e,D,C);!l.initialized&&i&&(i(l.arrayEntry,l.mappedNodes,l.indexObservable),l.initialized=!0)}for(k(h.beforeRemove,y),B=0;B<y.length;++B)y[B]&&(y[B].arrayEntry=d);k(h.afterMove,z),k(h.afterAdd,A)}}(),s.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",s.utils.setDomNodeChildrenFromArrayMapping),s.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1},s.nativeTemplateEngine.prototype=new s.templateEngine,s.nativeTemplateEngine.prototype.constructor=s.nativeTemplateEngine,s.nativeTemplateEngine.prototype.renderTemplateSource=function(a,b,c,d){var e=!(s.utils.ieVersion<9),f=e?a.nodes:null,g=f?a.nodes():null;if(g)return s.utils.makeArray(g.cloneNode(!0).childNodes);var h=a.text();return s.utils.parseHtmlFragment(h,d)},s.nativeTemplateEngine.instance=new s.nativeTemplateEngine,s.setTemplateEngine(s.nativeTemplateEngine.instance),s.exportSymbol("nativeTemplateEngine",s.nativeTemplateEngine),function(){s.jqueryTmplTemplateEngine=function(){function a(){if(c<2)throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.")}function b(a,b,c){return f.tmpl(a,b,c)}var c=this.jQueryTmplVersion=function(){if(!f||!f.tmpl)return 0;try{if(f.tmpl.tag.tmpl.open.toString().indexOf("__")>=0)return 2}catch(a){}return 1}();this.renderTemplateSource=function(c,e,g,h){h=h||d,g=g||{},a();var i=c.data("precompiled");if(!i){var j=c.text()||"";j="{{ko_with $item.koBindingContext}}"+j+"{{/ko_with}}",i=f.template(null,j),c.data("precompiled",i)}var k=[e.$data],l=f.extend({koBindingContext:e},g.templateOptions),m=b(i,k,l);return m.appendTo(h.createElement("div")),f.fragments={},m},this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"},this.addTemplate=function(a,b){d.write("<script type='text/html' id='"+a+"'>"+b+"</script>")},c>0&&(f.tmpl.tag.ko_code={open:"__.push($1 || '');"},f.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},s.jqueryTmplTemplateEngine.prototype=new s.templateEngine,s.jqueryTmplTemplateEngine.prototype.constructor=s.jqueryTmplTemplateEngine;var a=new s.jqueryTmplTemplateEngine;a.jQueryTmplVersion>0&&s.setTemplateEngine(a),s.exportSymbol("jqueryTmplTemplateEngine",s.jqueryTmplTemplateEngine)}()})}()}();