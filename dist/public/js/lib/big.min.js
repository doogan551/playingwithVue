!function(a){"use strict";function b(a){var c,e,f,g=this;if(!(g instanceof b))return new b(a);if(a instanceof b)return g.s=a.s,g.e=a.e,void(g.c=a.c.slice());for(0===a&&1/a<0?a="-0":k.test(a+="")||d(NaN),g.s="-"==a.charAt(0)?(a=a.slice(1),-1):1,(c=a.indexOf("."))>-1&&(a=a.replace(".","")),(e=a.search(/e/i))>0?(c<0&&(c=e),c+=+a.slice(e+1),a=a.substring(0,e)):c<0&&(c=a.length),e=0;"0"==a.charAt(e);e++);if(e==(f=a.length))g.c=[g.e=0];else{for(;"0"==a.charAt(--f););for(g.e=c-e-1,g.c=[],c=0;e<=f;g.c[c++]=+a.charAt(e++));}}function c(a,b,c,e){var f=a.c,g=a.e+b+1;if(1===c?e=f[g]>=5:2===c?e=f[g]>5||5==f[g]&&(e||g<0||null!=f[g+1]||1&f[g-1]):3===c?e=e||null!=f[g]||g<0:(e=!1,0!==c&&d("!Big.RM!")),g<1||!f[0])a.c=e?(a.e=-b,[1]):[a.e=0];else{if(f.length=g--,e)for(;++f[g]>9;)f[g]=0,g--||(++a.e,f.unshift(1));for(g=f.length;!f[--g];f.pop());}return a}function d(a){var b=new Error(a);throw b.name="BigError",b}function e(a,d,e){var f=d-(a=new b(a)).e,g=a.c;for(g.length>++d&&c(a,f,b.RM),f=g[0]?e?d:(g=a.c,a.e+f+1):f+1;g.length<f;g.push(0));return f=a.e,1==e||2==e&&(d<=f||f<=h)?(a.s<0&&g[0]?"-":"")+(g.length>1?(g.splice(1,0,"."),g.join("")):g[0])+(f<0?"e":"e+")+f:a.toString()}b.DP=20,b.RM=1;var f=1e6,g=1e6,h=-7,i=21,j=b.prototype,k=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,l=new b(1);j.abs=function(){var a=new b(this);return a.s=1,a},j.cmp=function(a){var c,d=this,e=d.c,f=(a=new b(a)).c,g=d.s,h=a.s,i=d.e,j=a.e;if(!e[0]||!f[0])return e[0]?g:f[0]?-h:0;if(g!=h)return g;if(c=g<0,i!=j)return i>j^c?1:-1;for(g=-1,h=(i=e.length)<(j=f.length)?i:j;++g<h;)if(e[g]!=f[g])return e[g]>f[g]^c?1:-1;return i==j?0:i>j^c?1:-1},j.div=function(a){var e=this,g=e.c,h=(a=new b(a)).c,i=e.s==a.s?1:-1,j=b.DP;if((j!==~~j||j<0||j>f)&&d("!Big.DP!"),!g[0]||!h[0])return g[0]==h[0]&&d(NaN),h[0]||d(i/0),new b(0*i);var k,m,n,o,p,q=h.slice(),r=k=h.length,s=g.length,t=g.slice(0,k),u=t.length,v=new b(l),w=v.c=[],x=0,y=j+(v.e=e.e-a.e)+1;for(v.s=i,i=y<0?0:y,q.unshift(0);u++<k;t.push(0));do{for(n=0;n<10;n++){if(k!=(u=t.length))o=k>u?1:-1;else for(p=-1,o=0;++p<k;)if(h[p]!=t[p]){o=h[p]>t[p]?1:-1;break}if(!(o<0))break;for(m=u==k?h:q;u;){if(t[--u]<m[u]){for(p=u;p&&!t[--p];t[p]=9);--t[p],t[u]+=10}t[u]-=m[u]}for(;!t[0];t.shift());}w[x++]=o?n:++n,t[0]&&o?t[u]=g[r]||0:t=[g[r]]}while((r++<s||null!=t[0])&&i--);return w[0]||1==x||(w.shift(),v.e--),x>y&&c(v,j,b.RM,null!=t[0]),v},j.eq=function(a){return!this.cmp(a)},j.gt=function(a){return this.cmp(a)>0},j.gte=function(a){return this.cmp(a)>-1},j.lt=function(a){return this.cmp(a)<0},j.lte=function(a){return this.cmp(a)<1},j.minus=function(a){var c,d,e,f,g=this,h=g.s,i=(a=new b(a)).s;if(h!=i)return a.s=-i,g.plus(a);var j=g.c.slice(),k=g.e,l=a.c,m=a.e;if(!j[0]||!l[0])return l[0]?(a.s=-i,a):new b(j[0]?g:0);if(h=k-m){for(c=(f=h<0)?(h=-h,j):(m=k,l),c.reverse(),i=h;i--;c.push(0));c.reverse()}else for(e=((f=j.length<l.length)?j:l).length,h=i=0;i<e;i++)if(j[i]!=l[i]){f=j[i]<l[i];break}if(f&&(c=j,j=l,l=c,a.s=-a.s),(i=-((e=j.length)-l.length))>0)for(;i--;j[e++]=0);for(i=l.length;i>h;){if(j[--i]<l[i]){for(d=i;d&&!j[--d];j[d]=9);--j[d],j[i]+=10}j[i]-=l[i]}for(;0==j[--e];j.pop());for(;0==j[0];j.shift(),--m);return j[0]||(a.s=1,j=[m=0]),a.c=j,a.e=m,a},j.mod=function(a){a=new b(a);var c,e=this,f=e.s,g=a.s;return a.c[0]||d(NaN),e.s=a.s=1,c=1==a.cmp(e),e.s=f,a.s=g,c?new b(e):(f=b.DP,g=b.RM,b.DP=b.RM=0,e=e.div(a),b.DP=f,b.RM=g,this.minus(e.times(a)))},j.plus=function(a){var c,d=this,e=d.s,f=(a=new b(a)).s;if(e!=f)return a.s=-f,d.minus(a);var g=d.e,h=d.c,i=a.e,j=a.c;if(!h[0]||!j[0])return j[0]?a:new b(h[0]?d:0*e);if(h=h.slice(),e=g-i){for(c=e>0?(i=g,j):(e=-e,h),c.reverse();e--;c.push(0));c.reverse()}for(h.length-j.length<0&&(c=j,j=h,h=c),e=j.length,f=0;e;f=(h[--e]=h[e]+j[e]+f)/10^0,h[e]%=10);for(f&&(h.unshift(f),++i),e=h.length;0==h[--e];h.pop());return a.c=h,a.e=i,a},j.pow=function(a){var c=a<0,e=new b(this),f=l;for((a!==~~a||a<-g||a>g)&&d("!pow!"),a=c?-a:a;1&a&&(f=f.times(e)),a>>=1,a;)e=e.times(e);return c?l.div(f):f},j.round=function(a,e){var g=new b(this);return null==a?a=0:(a!==~~a||a<0||a>f)&&d("!round!"),c(g,a,null==e?b.RM:e),g},j.sqrt=function(){var a,e,f,g=this,h=g.c,i=g.s,j=g.e,k=new b("0.5");if(!h[0])return new b(g);i<0&&d(NaN),i=Math.sqrt(g.toString()),0==i||i==1/0?(a=h.join(""),a.length+j&1||(a+="0"),e=new b(Math.sqrt(a).toString()),e.e=((j+1)/2|0)-(j<0||1&j)):e=new b(i.toString()),i=e.e+(b.DP+=4);do f=e,e=k.times(f.plus(g.div(f)));while(f.c.slice(0,i).join("")!==e.c.slice(0,i).join(""));return c(e,b.DP-=4,b.RM),e},j.times=function(a){var c,d=this,e=d.c,f=(a=new b(a)).c,g=e.length,h=f.length,i=d.e,j=a.e;if(a.s=d.s==a.s?1:-1,!e[0]||!f[0])return new b(0*a.s);for(a.e=i+j,g<h&&(c=e,e=f,f=c,j=g,g=h,h=j),j=g+h,c=[];j--;c.push(0));for(i=h-1;i>-1;i--){for(h=0,j=g+i;j>i;h=c[j]+f[i]*e[j-i-1]+h,c[j--]=h%10|0,h=h/10|0);h&&(c[j]=(c[j]+h)%10)}for(h&&++a.e,c[0]||c.shift(),j=c.length;!c[--j];c.pop());return a.c=c,a},j.toString=j.valueOf=j.toJSON=function(){var a=this,b=a.e,c=a.c.join(""),d=c.length;if(b<=h||b>=i)c=c.charAt(0)+(d>1?"."+c.slice(1):"")+(b<0?"e":"e+")+b;else if(b<0){for(;++b;c="0"+c);c="0."+c}else if(b>0)if(++b>d)for(b-=d;b--;c+="0");else b<d&&(c=c.slice(0,b)+"."+c.slice(b));else d>1&&(c=c.charAt(0)+"."+c.slice(1));return a.s<0&&a.c[0]?"-"+c:c},j.toExponential=function(a){return null==a?a=this.c.length-1:(a!==~~a||a<0||a>f)&&d("!toExp!"),e(this,a,1)},j.toFixed=function(a){var b,c=this,g=h,j=i;return h=-(i=1/0),null==a?b=c.toString():a===~~a&&a>=0&&a<=f&&(b=e(c,c.e+a),c.s<0&&c.c[0]&&b.indexOf("-")<0&&(b="-"+b)),h=g,i=j,b||d("!toFix!"),b},j.toPrecision=function(a){return null==a?this.toString():((a!==~~a||a<1||a>f)&&d("!toPre!"),e(this,a-1,2))},"undefined"!=typeof module&&module.exports?module.exports=b:"function"==typeof define&&define.amd?define(function(){return b}):a.Big=b}(this);