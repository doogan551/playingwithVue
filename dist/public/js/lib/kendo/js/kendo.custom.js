!function(a,b){b([],a)}(function(){return function(a,b,c){function d(){}function e(a,b){if(b)return"'"+a.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var c=a.charAt(0),d=a.substring(1);return"="===c?"+("+d+")+":":"===c?"+$kendoHtmlEncode("+d+")+":";"+a+";$kendoOutput+="}function f(a,b,c){return a+="",b=b||2,c=b-a.length,c?ka[b].substring(0,c)+a:a}function g(a){var b=a.css(E.support.transitions.css+"box-shadow")||a.css("box-shadow"),c=b?b.match(P)||[0,0,0,0,0]:[0,0,0,0,0],d=K.max(+c[3],+(c[4]||0));return{left:-c[1]+d,right:+c[1]+d,bottom:+c[2]+d}}function h(b,c){var d,e=M.browser,f="rtl"==b.css("direction");if(b.parent().hasClass("k-animation-container")){var h=b.parent(".k-animation-container"),i=h[0].style;h.is(":hidden")&&h.show(),d=N.test(i.width)||N.test(i.height),d||h.css({width:b.outerWidth(),height:b.outerHeight(),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})}else{var j=g(b),k=b[0].style.width,l=b[0].style.height,m=N.test(k),n=N.test(l);e.opera&&(j.left=j.right=j.bottom=5),d=m||n,!m&&(!c||c&&k)&&(k=b.outerWidth()),!n&&(!c||c&&l)&&(l=b.outerHeight()),b.wrap(a("<div/>").addClass("k-animation-container").css({width:k,height:l,marginLeft:j.left*(f?1:-1),paddingLeft:j.left,paddingRight:j.right,paddingBottom:j.bottom})),d&&b.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})}return e.msie&&K.floor(e.version)<=7&&(b.css({zoom:1}),b.children(".k-menu").width(b.width())),b.parent()}function i(a){var b=1,c=arguments.length;for(b=1;b<c;b++)j(a,arguments[b]);return a}function j(a,b){var c,d,e,f,g,h=E.data.ObservableArray,i=E.data.LazyObservableArray,k=E.data.DataSource,l=E.data.HierarchicalDataSource;for(c in b)d=b[c],e=typeof d,f=e===U&&null!==d?d.constructor:null,f&&f!==Array&&f!==h&&f!==i&&f!==k&&f!==l?d instanceof Date?a[c]=new Date(d.getTime()):aa(d.clone)?a[c]=d.clone():(g=a[c],typeof g===U?a[c]=g||{}:a[c]={},j(a[c],d)):e!==X&&(a[c]=d);return a}function k(a,b,d){for(var e in b)if(b.hasOwnProperty(e)&&b[e].test(a))return e;return d!==c?d:a}function l(a){return a.replace(/([a-z][A-Z])/g,function(a){return a.charAt(0)+"-"+a.charAt(1).toLowerCase()})}function m(a){return a.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()})}function n(b,c){var d,e={};return document.defaultView&&document.defaultView.getComputedStyle?(d=document.defaultView.getComputedStyle(b,""),c&&a.each(c,function(a,b){e[b]=d.getPropertyValue(b)})):(d=b.currentStyle,c&&a.each(c,function(a,b){e[b]=d[m(b)]})),E.size(e)||(e=d),e}function o(a){var b,c=0;for(b in a)a.hasOwnProperty(b)&&"toJSON"!=b&&c++;return c}function p(a,c,d){c||(c="offset");var e=a[c]();M.mobileOS;return M.browser.msie&&(M.pointers||M.msPointers)&&!d&&(e.top-=b.pageYOffset-document.documentElement.scrollTop,e.left-=b.pageXOffset-document.documentElement.scrollLeft),e}function q(a){var b={};return G("string"==typeof a?a.split(" "):a,function(a){b[a]=this}),b}function r(a){return new E.effects.Element(a)}function s(a,b,c,d){return typeof a===S&&(aa(b)&&(d=b,b=400,c=!1),aa(c)&&(d=c,c=!1),typeof b===W&&(c=b,b=400),a={effects:a,duration:b,reverse:c,complete:d}),F({effects:{},duration:400,reverse:!1,init:J,teardown:J,hide:!1},a,{completeCallback:a.complete,complete:J})}function t(b,c,d,e,f){for(var g,h=0,i=b.length;h<i;h++)g=a(b[h]),g.queue(function(){ma.promise(g,s(c,d,e,f))});return b}function u(a,b,c,d){return b&&(b=b.split(" "),G(b,function(b,c){a.toggleClass(c,d)})),a}function v(a){return(""+a).replace(na,"&amp;").replace(oa,"&lt;").replace(ra,"&gt;").replace(pa,"&quot;").replace(qa,"&#39;")}function w(a,b){var d;return 0===b.indexOf("data")&&(b=b.substring(4),b=b.charAt(0).toLowerCase()+b.substring(1)),b=b.replace(Aa,"-$1"),d=a.getAttribute("data-"+E.ns+b),null===d?d=c:"null"===d?d=null:"true"===d?d=!0:"false"===d?d=!1:Q.test(d)?d=parseFloat(d):ya.test(d)&&!za.test(d)&&(d=new Function("return ("+d+")")()),d}function x(b,d){var e,f,g={};for(e in d)f=w(b,e),f!==c&&(xa.test(e)&&(f=E.template(a("#"+f).html())),g[e]=f);return g}function y(b,c){return a.contains(b,c)?-1:1}function z(){var b=a(this);return a.inArray(b.attr("data-"+E.ns+"role"),["slider","rangeslider"])>-1||b.is(":visible")}function A(a,b){var c=a.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(c)?!a.disabled:"a"===c?a.href||b:b)&&B(a)}function B(b){return!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")||a.expr.filters.hidden(this)}).length}function C(a,b){return new C.fn.init(a,b)}var D,E=b.kendo=b.kendo||{cultures:{}},F=a.extend,G=a.each,H=a.isArray,I=a.proxy,J=a.noop,K=Math,L=b.JSON||{},M={},N=/%/,O=/\{(\d+)(:[^\}]+)?\}/g,P=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,Q=/^(\+|-?)\d+(\.?)\d*$/,R="function",S="string",T="number",U="object",V="null",W="boolean",X="undefined",Y={},Z={},$=[].slice,_=b.Globalize;E.version="2015.1.521",d.extend=function(a){var b,c,d=function(){},e=this,f=a&&a.init?a.init:function(){e.apply(this,arguments)};d.prototype=e.prototype,c=f.fn=f.prototype=new d;for(b in a)null!=a[b]&&a[b].constructor===Object?c[b]=F(!0,{},d.prototype[b],a[b]):c[b]=a[b];return c.constructor=f,f.extend=e.extend,f},d.prototype._initOptions=function(a){this.options=i({},this.options,a)};var aa=E.isFunction=function(a){return"function"==typeof a},ba=function(){this._defaultPrevented=!0},ca=function(){return this._defaultPrevented===!0},da=d.extend({init:function(){this._events={}},bind:function(a,b,d){var e,f,g,h,i,j=this,k=typeof a===S?[a]:a,l=typeof b===R;if(b===c){for(e in a)j.bind(e,a[e]);return j}for(e=0,f=k.length;e<f;e++)a=k[e],h=l?b:b[a],h&&(d&&(g=h,h=function(){j.unbind(a,h),g.apply(j,arguments)},h.original=g),i=j._events[a]=j._events[a]||[],i.push(h));return j},one:function(a,b){return this.bind(a,b,!0)},first:function(a,b){var c,d,e,f,g=this,h=typeof a===S?[a]:a,i=typeof b===R;for(c=0,d=h.length;c<d;c++)a=h[c],e=i?b:b[a],e&&(f=g._events[a]=g._events[a]||[],f.unshift(e));return g},trigger:function(a,b){var c,d,e=this,f=e._events[a];if(f){for(b=b||{},b.sender=e,b._defaultPrevented=!1,b.preventDefault=ba,b.isDefaultPrevented=ca,f=f.slice(),c=0,d=f.length;c<d;c++)f[c].call(e,b);return b._defaultPrevented===!0}return!1},unbind:function(a,b){var d,e=this,f=e._events[a];if(a===c)e._events={};else if(f)if(b)for(d=f.length-1;d>=0;d--)f[d]!==b&&f[d].original!==b||f.splice(d,1);else e._events[a]=[];return e}}),ea=/^\w+/,fa=/\$\{([^}]*)\}/g,ga=/\\\}/g,ha=/__CURLY__/g,ia=/\\#/g,ja=/__SHARP__/g,ka=["","0","00","000","0000"];D={paramName:"data",useWithBlock:!0,render:function(a,b){var c,d,e="";for(c=0,d=b.length;c<d;c++)e+=a(b[c]);return e},compile:function(a,b){var c,d,f,g=F({},this,b),h=g.paramName,i=h.match(ea)[0],j=g.useWithBlock,k="var $kendoOutput, $kendoHtmlEncode = kendo.htmlEncode;";if(aa(a))return a;for(k+=j?"with("+h+"){":"",k+="$kendoOutput=",d=a.replace(ga,"__CURLY__").replace(fa,"#=$kendoHtmlEncode($1)#").replace(ha,"}").replace(ia,"__SHARP__").split("#"),f=0;f<d.length;f++)k+=e(d[f],f%2===0);k+=j?";}":";",k+="return $kendoOutput;",k=k.replace(ja,"#");try{return c=new Function(i,k),c._slotCount=Math.floor(d.length/2),c}catch(l){throw new Error(E.format("Invalid template:'{0}' Generated code:'{1}'",a,k))}}},function(){function a(a){return g.lastIndex=0,g.test(a)?'"'+a.replace(g,function(a){var b=h[a];return typeof b===S?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function b(f,g){var h,j,k,l,m,n,o=c,p=g[f];if(p&&typeof p===U&&typeof p.toJSON===R&&(p=p.toJSON(f)),typeof e===R&&(p=e.call(g,f,p)),n=typeof p,n===S)return a(p);if(n===T)return isFinite(p)?String(p):V;if(n===W||n===V)return String(p);if(n===U){if(!p)return V;if(c+=d,m=[],"[object Array]"===i.apply(p)){for(l=p.length,h=0;h<l;h++)m[h]=b(h,p)||V;return k=0===m.length?"[]":c?"[\n"+c+m.join(",\n"+c)+"\n"+o+"]":"["+m.join(",")+"]",c=o,k}if(e&&typeof e===U)for(l=e.length,h=0;h<l;h++)typeof e[h]===S&&(j=e[h],k=b(j,p),k&&m.push(a(j)+(c?": ":":")+k));else for(j in p)Object.hasOwnProperty.call(p,j)&&(k=b(j,p),k&&m.push(a(j)+(c?": ":":")+k));return k=0===m.length?"{}":c?"{\n"+c+m.join(",\n"+c)+"\n"+o+"}":"{"+m.join(",")+"}",c=o,k}}var c,d,e,g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},i={}.toString;typeof Date.prototype.toJSON!==R&&(Date.prototype.toJSON=function(){var a=this;return isFinite(a.valueOf())?f(a.getUTCFullYear(),4)+"-"+f(a.getUTCMonth()+1)+"-"+f(a.getUTCDate())+"T"+f(a.getUTCHours())+":"+f(a.getUTCMinutes())+":"+f(a.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),typeof L.stringify!==R&&(L.stringify=function(a,f,g){var h;if(c="",d="",typeof g===T)for(h=0;h<g;h+=1)d+=" ";else typeof g===S&&(d=g);if(e=f,f&&typeof f!==R&&(typeof f!==U||typeof f.length!==T))throw new Error("JSON.stringify");return b("",{"":a})})}(),function(){function b(a){if(a){if(a.numberFormat)return a;if(typeof a===S){var b=E.cultures;return b[a]||b[a.split("-")[0]]||null}return null}return null}function d(a){return a&&(a=b(a)),a||E.cultures.current}function e(a){a.groupSizes=a.groupSize,a.percent.groupSizes=a.percent.groupSize,a.currency.groupSizes=a.currency.groupSize}function g(a,b,e){e=d(e);var g=e.calendars.standard,h=g.days,j=g.months;return b=g.patterns[b]||b,b.replace(i,function(b){var d,e,i;return"d"===b?e=a.getDate():"dd"===b?e=f(a.getDate()):"ddd"===b?e=h.namesAbbr[a.getDay()]:"dddd"===b?e=h.names[a.getDay()]:"M"===b?e=a.getMonth()+1:"MM"===b?e=f(a.getMonth()+1):"MMM"===b?e=j.namesAbbr[a.getMonth()]:"MMMM"===b?e=j.names[a.getMonth()]:"yy"===b?e=f(a.getFullYear()%100):"yyyy"===b?e=f(a.getFullYear(),4):"h"===b?e=a.getHours()%12||12:"hh"===b?e=f(a.getHours()%12||12):"H"===b?e=a.getHours():"HH"===b?e=f(a.getHours()):"m"===b?e=a.getMinutes():"mm"===b?e=f(a.getMinutes()):"s"===b?e=a.getSeconds():"ss"===b?e=f(a.getSeconds()):"f"===b?e=K.floor(a.getMilliseconds()/100):"ff"===b?(e=a.getMilliseconds(),e>99&&(e=K.floor(e/10)),e=f(e)):"fff"===b?e=f(a.getMilliseconds(),3):"tt"===b?e=a.getHours()<12?g.AM[0]:g.PM[0]:"zzz"===b?(d=a.getTimezoneOffset(),i=d<0,e=K.abs(d/60).toString().split(".")[0],d=K.abs(d)-60*e,e=(i?"+":"-")+f(e),e+=":"+f(d)):"zz"!==b&&"z"!==b||(e=a.getTimezoneOffset()/60,i=e<0,e=K.abs(e).toString().split(".")[0],e=(i?"+":"-")+("zz"===b?f(e):e)),e!==c?e:b.slice(1,b.length-1)})}function h(a,b,e){e=d(e);var f,g,h,i,s,t,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M=e.numberFormat,N=M.groupSize[0],O=M[o],P=M[n],Q=M.decimals,R=M.pattern[0],S=[],T=a<0,U=m,V=m,W=-1;if(a===c)return m;if(!isFinite(a))return a;if(!b)return e.name.length?a.toLocaleString():a.toString();if(s=j.exec(b)){if(b=s[1].toLowerCase(),g="c"===b,h="p"===b,(g||h)&&(M=g?M.currency:M.percent,N=M.groupSize[0],O=M[o],P=M[n],Q=M.decimals,f=M.symbol,R=M.pattern[T?0:1]),i=s[2],i&&(Q=+i),"e"===b)return i?a.toExponential(Q):a.toExponential();if(h&&(a*=100),a=u(a,Q),T=a<0,a=a.split(n),t=a[0],v=a[1],T&&(t=t.substring(1)),V=t,w=t.length,w>=N)for(V=m,y=0;y<w;y++)y>0&&(w-y)%N===0&&(V+=O),V+=t.charAt(y);if(v&&(V+=P+v),"n"===b&&!T)return V;for(a=m,y=0,z=R.length;y<z;y++)A=R.charAt(y),a+="n"===A?V:"$"===A||"%"===A?f:A;return a}if(T&&(a=-a),(b.indexOf("'")>-1||b.indexOf('"')>-1||b.indexOf("\\")>-1)&&(b=b.replace(k,function(a){var b=a.charAt(0).replace("\\",""),c=a.slice(1).replace(b,"");return S.push(c),r})),b=b.split(";"),T&&b[1])b=b[1],C=!0;else if(0===a){if(b=b[2]||b[0],b.indexOf(p)==-1&&b.indexOf(q)==-1)return b}else b=b[0];if(I=b.indexOf("%"),J=b.indexOf("$"),h=I!=-1,g=J!=-1,h&&(a*=100),g&&"\\"===b[J-1]&&(b=b.split("\\").join(""),g=!1),(g||h)&&(M=g?M.currency:M.percent,N=M.groupSize[0],O=M[o],P=M[n],Q=M.decimals,f=M.symbol),B=b.indexOf(o)>-1,B&&(b=b.replace(l,m)),D=b.indexOf(n),z=b.length,D!=-1?(v=a.toString().split("e"),v=v[1]?u(a,Math.abs(v[1])):v[0],v=v.split(n)[1]||m,F=b.lastIndexOf(q)-D,E=b.lastIndexOf(p)-D,G=F>-1,H=E>-1,y=v.length,G||H||(b=b.substring(0,D)+b.substring(D+1),z=b.length,D=-1,y=0),G&&F>E?y=F:E>F&&(H&&y>E?y=E:G&&y<F&&(y=F)),y>-1&&(a=u(a,y))):a=u(a),E=b.indexOf(p),K=F=b.indexOf(q),W=E==-1&&F!=-1?F:E!=-1&&F==-1?E:E>F?F:E,E=b.lastIndexOf(p),F=b.lastIndexOf(q),L=E==-1&&F!=-1?F:E!=-1&&F==-1?E:E>F?E:F,W==z&&(L=W),W!=-1){if(V=a.toString().split(n),t=V[0],v=V[1]||m,w=t.length,x=v.length,T&&a*-1>=0&&(T=!1),B)if(w===N&&w<D-K)t=O+t;else if(w>N){for(V=m,y=0;y<w;y++)y>0&&(w-y)%N===0&&(V+=O),V+=t.charAt(y);t=V}for(a=b.substring(0,W),T&&!C&&(a+="-"),y=W;y<z;y++){if(A=b.charAt(y),D==-1){if(L-y<w){a+=t;break}}else if(F!=-1&&F<y&&(U=m),D-y<=w&&D-y>-1&&(a+=t,y=D),D===y){a+=(v?P:m)+v,y+=L-D+1;continue}A===q?(a+=A,U=A):A===p&&(a+=U)}if(L>=W&&(a+=b.substring(L+1)),g||h){for(V=m,y=0,z=a.length;y<z;y++)A=a.charAt(y),V+="$"===A||"%"===A?f:A;a=V}if(z=S.length)for(y=0;y<z;y++)a=a.replace(r,S[y])}return a}var i=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,j=/^(n|c|p|e)(\d*)$/i,k=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,l=/\,/g,m="",n=".",o=",",p="#",q="0",r="??",s="en-US",t={}.toString;E.cultures["en-US"]={name:s,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}},E.culture=function(a){var d,f=E.cultures;return a===c?f.current:(d=b(a)||f[s],d.calendar=d.calendars.standard,f.current=d,_&&!_.load&&e(d.numberFormat),void 0)},E.findCulture=b,E.getCulture=d,E.culture(s);var u=function(a,b){return b=b||0,a=a.toString().split("e"),a=Math.round(+(a[0]+"e"+(a[1]?+a[1]+b:b))),a=a.toString().split("e"),a=+(a[0]+"e"+(a[1]?+a[1]-b:-b)),a.toFixed(b)},v=function(a,b,d){if(b){if("[object Date]"===t.call(a))return g(a,b,d);if(typeof a===T)return h(a,b,d)}return a!==c?a:""};_&&!_.load&&(v=function(b,c,d){return a.isPlainObject(d)&&(d=d.name),_.format(b,c,d)}),E.format=function(a){var b=arguments;return a.replace(O,function(a,c,d){var e=b[parseInt(c,10)+1];return v(e,d?d.substring(1):"")})},E._extractFormat=function(a){return"{0:"===a.slice(0,3)&&(a=a.slice(3,a.length-1)),a},E._activeElement=function(){try{return document.activeElement}catch(a){return document.documentElement.activeElement}},E._round=u,E.toString=v}(),function(){function b(a,b,c){return!(a>=b&&a<=c)}function d(a){return a.charAt(0)}function e(b){return a.map(b,d)}function f(a,b){b||23!==a.getHours()||a.setHours(a.getHours()+2)}function g(a){for(var b=0,c=a.length,d=[];b<c;b++)d[b]=(a[b]+"").toLowerCase();return d}function h(a){var b,c={};for(b in a)c[b]=g(a[b]);return c}function i(a,d,g){if(!a)return null;var i,j,k,l,o,p,q,s,t,u,v,w,x,y=function(a){for(var b=0;d[K]===a;)b++,K++;return b>0&&(K-=1),b},z=function(b){var c=r[b]||new RegExp("^\\d{1,"+b+"}"),d=a.substr(L,b).match(c);return d?(d=d[0],L+=d.length,parseInt(d,10)):null},A=function(b,c){for(var d,e,f,g=0,h=b.length;g<h;g++)if(d=b[g],e=d.length,f=a.substr(L,e),c&&(f=f.toLowerCase()),f==d)return L+=e,g+1;return null},B=function(){var b=!1;return a.charAt(L)===d[K]&&(L++,b=!0),b},C=g.calendars.standard,D=null,E=null,F=null,G=null,H=null,I=null,J=null,K=0,L=0,M=!1,N=new Date,O=C.twoDigitYearMax||2029,P=N.getFullYear();for(d||(d="d"),l=C.patterns[d],l&&(d=l),d=d.split(""),k=d.length;K<k;K++)if(i=d[K],M)"'"===i?M=!1:B();else if("d"===i){if(j=y("d"),C._lowerDays||(C._lowerDays=h(C.days)),F=j<3?z(2):A(C._lowerDays[3==j?"namesAbbr":"names"],!0),null===F||b(F,1,31))return null}else if("M"===i){if(j=y("M"),C._lowerMonths||(C._lowerMonths=h(C.months)),E=j<3?z(2):A(C._lowerMonths[3==j?"namesAbbr":"names"],!0),null===E||b(E,1,12))return null;E-=1}else if("y"===i){if(j=y("y"),D=z(j),null===D)return null;2==j&&("string"==typeof O&&(O=P+parseInt(O,10)),D=P-P%100+D,D>O&&(D-=100))}else if("h"===i){if(y("h"),G=z(2),12==G&&(G=0),null===G||b(G,0,11))return null}else if("H"===i){if(y("H"),G=z(2),null===G||b(G,0,23))return null}else if("m"===i){if(y("m"),H=z(2),null===H||b(H,0,59))return null}else if("s"===i){if(y("s"),I=z(2),null===I||b(I,0,59))return null}else if("f"===i){if(j=y("f"),x=a.substr(L,j).match(r[3]),J=z(j),null!==J&&(x=x[0].length,x<3&&(J*=Math.pow(10,3-x)),j>3&&(J=parseInt(J.toString().substring(0,3),10))),null===J||b(J,0,999))return null}else if("t"===i){if(j=y("t"),s=C.AM,t=C.PM,1===j&&(s=e(s),t=e(t)),o=A(t),!o&&!A(s))return null}else if("z"===i){if(p=!0,j=y("z"),"Z"===a.substr(L,1)){B();continue}if(q=a.substr(L,6).match(j>2?n:m),!q)return null;if(q=q[0].split(":"),u=q[0],v=q[1],!v&&u.length>3&&(L=u.length-2,v=u.substring(L),u=u.substring(0,L)),u=parseInt(u,10),b(u,-12,13))return null;if(j>2&&(v=parseInt(v,10),isNaN(v)||b(v,0,59)))return null}else if("'"===i)M=!0,B();else if(!B())return null;return w=null!==G||null!==H||I||null,null===D&&null===E&&null===F&&w?(D=P,E=N.getMonth(),F=N.getDate()):(null===D&&(D=P),null===F&&(F=1)),o&&G<12&&(G+=12),p?(u&&(G+=-u),v&&(H+=-v),a=new Date(Date.UTC(D,E,F,G,H,I,J))):(a=new Date(D,E,F,G,H,I,J),f(a,G)),D<100&&a.setFullYear(D),a.getDate()!==F&&p===c?null:a}function j(a){var b="-"===a.substr(0,1)?-1:1;return a=a.substring(1),a=60*parseInt(a.substr(0,2),10)+parseInt(a.substring(2),10),b*a}var k=/\u00A0/g,l=/[eE][\-+]?[0-9]+/,m=/[+|\-]\d{1,2}/,n=/[+|\-]\d{1,2}:?\d{2}/,o=/^\/Date\((.*?)\)\/$/,p=/[+-]\d*/,q=["G","g","d","F","D","y","m","T","t"],r={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},s={}.toString;E.parseDate=function(a,b,c){if("[object Date]"===s.call(a))return a;var d,e,f,g=0,h=null;if(a&&0===a.indexOf("/D")&&(h=o.exec(a)))return h=h[1],f=p.exec(h.substring(1)),h=new Date(parseInt(h,10)),f&&(f=j(f[0]),h=E.timezone.apply(h,0),h=E.timezone.convert(h,0,-1*f)),h;if(c=E.getCulture(c),!b){for(b=[],e=c.calendar.patterns,d=q.length;g<d;g++)b[g]=e[q[g]];g=0,b=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mm:ss.fffffff","yyyy-MM-ddTHH:mm:ss.fff","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"].concat(b)}for(b=H(b)?b:[b],d=b.length;g<d;g++)if(h=i(a,b[g],c))return h;return h},E.parseInt=function(a,b){var c=E.parseFloat(a,b);return c&&(c=0|c),c},E.parseFloat=function(a,b,c){if(!a&&0!==a)return null;if(typeof a===T)return a;a=a.toString(),b=E.getCulture(b);var d,e,f=b.numberFormat,g=f.percent,h=f.currency,i=h.symbol,j=g.symbol,m=a.indexOf("-");return l.test(a)?(a=parseFloat(a.replace(f["."],".")),isNaN(a)&&(a=null),a):m>0?null:(m=m>-1,a.indexOf(i)>-1||c&&c.toLowerCase().indexOf("c")>-1?(f=h,d=f.pattern[0].replace("$",i).split("n"),a.indexOf(d[0])>-1&&a.indexOf(d[1])>-1&&(a=a.replace(d[0],"").replace(d[1],""),m=!0)):a.indexOf(j)>-1&&(e=!0,f=g,i=j),a=a.replace("-","").replace(i,"").replace(k," ").split(f[","].replace(k," ")).join("").replace(f["."],"."),a=parseFloat(a),isNaN(a)?a=null:m&&(a*=-1),a&&e&&(a/=100),a)},_&&!_.load&&(E.parseDate=function(a,b,c){return"[object Date]"===s.call(a)?a:_.parseDate(a,b,c)},E.parseFloat=function(b,d){return typeof b===T?b:b===c||null===b?null:(a.isPlainObject(d)&&(d=d.name),b=_.parseFloat(b,d),isNaN(b)?null:b)})}(),function(){M._scrollbar=c,M.scrollbar=function(a){if(isNaN(M._scrollbar)||a){var b,c=document.createElement("div");return c.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",c.innerHTML="&nbsp;",document.body.appendChild(c),M._scrollbar=b=c.offsetWidth-c.scrollWidth,document.body.removeChild(c),b}return M._scrollbar},M.isRtl=function(b){return a(b).closest(".k-rtl").length>0};var d=document.createElement("table");try{d.innerHTML="<tr><td></td></tr>",M.tbodyInnerHtml=!0}catch(e){M.tbodyInnerHtml=!1}M.touch="ontouchstart"in b,M.msPointers=b.MSPointerEvent,M.pointers=b.PointerEvent;var f=M.transitions=!1,g=M.transforms=!1,h="HTMLElement"in b?HTMLElement.prototype:[];M.hasHW3D="WebKitCSSMatrix"in b&&"m11"in new b.WebKitCSSMatrix||"MozPerspective"in document.documentElement.style||"msPerspective"in document.documentElement.style,G(["Moz","webkit","O","ms"],function(){var a=this.toString(),b=typeof d.style[a+"Transition"]===S;if(b||typeof d.style[a+"Transform"]===S){var c=a.toLowerCase();return g={css:"ms"!=c?"-"+c+"-":"",prefix:a,event:"o"===c||"webkit"===c?c:""},b&&(f=g,f.event=f.event?f.event+"TransitionEnd":"transitionend"),!1}}),d=null,M.transforms=g,M.transitions=f,M.devicePixelRatio=b.devicePixelRatio===c?1:b.devicePixelRatio;try{M.screenWidth=b.outerWidth||b.screen?b.screen.availWidth:b.innerWidth,M.screenHeight=b.outerHeight||b.screen?b.screen.availHeight:b.innerHeight}catch(e){M.screenWidth=b.screen.availWidth,M.screenHeight=b.screen.availHeight}M.detectOS=function(a){var c,d=!1,e=[],f=!/mobile safari/i.test(a),g={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},h={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},i={tablet:/playbook|ipad|fire/i},j={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(var l in g)if(g.hasOwnProperty(l)&&(e=a.match(g[l]))){if("windows"==l&&"plugins"in navigator)return!1;d={},d.device=l,d.tablet=k(l,i,!1),d.browser=k(a,j,"default"),d.name=k(l,h),d[d.name]=!0,d.majorVersion=e[2],d.minorVersion=e[3].replace("_","."),c=d.minorVersion.replace(".","").substr(0,2),d.flatVersion=d.majorVersion+c+new Array(3-(c.length<3?c.length:2)).join("0"),d.cordova=typeof b.PhoneGap!==X||typeof b.cordova!==X,d.appMode=b.navigator.standalone||/file|local|wmapp/.test(b.location.protocol)||d.cordova,d.android&&(M.devicePixelRatio<1.5&&d.flatVersion<400||f)&&(M.screenWidth>800||M.screenHeight>800)&&(d.tablet=l);break}return d};var i=M.mobileOS=M.detectOS(navigator.userAgent);M.wpDevicePixelRatio=i.wp?screen.width/320:0,M.kineticScrollNeeded=i&&(M.touch||M.msPointers||M.pointers),M.hasNativeScrolling=!1,(i.ios||i.android&&i.majorVersion>2||i.wp)&&(M.hasNativeScrolling=i),M.mouseAndTouchPresent=M.touch&&!(M.mobileOS.ios||M.mobileOS.android),M.detectBrowser=function(a){var b=!1,c=[],d={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var e in d)if(d.hasOwnProperty(e)&&(c=a.match(d[e]))){b={},b[e]=!0,b[c[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,b.version=parseInt(document.documentMode||c[2],10);break}return b},M.browser=M.detectBrowser(navigator.userAgent),M.zoomLevel=function(){try{var a=M.browser,c=0,d=document.documentElement;return a.msie&&11==a.version&&d.scrollHeight>d.clientHeight&&!M.touch&&(c=M.scrollbar()),M.touch?d.clientWidth/b.innerWidth:a.msie&&a.version>=10?((top||b).document.documentElement.offsetWidth+c)/(top||b).innerWidth:1}catch(e){return 1}},M.cssBorderSpacing="undefined"!=typeof document.documentElement.style.borderSpacing&&!(M.browser.msie&&M.browser.version<8),function(b){var c="",d=a(document.documentElement),e=parseInt(b.version,10);b.msie?c="ie":b.mozilla?c="ff":b.safari?c="safari":b.webkit?c="webkit":b.opera&&(c="opera"),c&&(c="k-"+c+" k-"+c+e),M.mobileOS&&(c+=" k-mobile"),d.addClass(c)}(M.browser),M.eventCapture=document.documentElement.addEventListener;var j=document.createElement("input");M.placeholder="placeholder"in j,M.propertyChangeEvent="onpropertychange"in j,M.input=function(){for(var a,b=["number","date","time","month","week","datetime","datetime-local"],c=b.length,d="test",e={},f=0;f<c;f++)a=b[f],j.setAttribute("type",a),j.value=d,e[a.replace("-","")]="text"!==j.type&&j.value!==d;return e}(),j.style.cssText="float:left;",M.cssFloat=!!j.style.cssFloat,j=null,M.stableSort=function(){for(var a=513,b=[{index:0,field:"b"}],c=1;c<a;c++)b.push({index:c,field:"a"});return b.sort(function(a,b){return a.field>b.field?1:a.field<b.field?-1:0}),1===b[0].index}(),M.matchesSelector=h.webkitMatchesSelector||h.mozMatchesSelector||h.msMatchesSelector||h.oMatchesSelector||h.matchesSelector||h.matches||function(b){for(var c=document.querySelectorAll?(this.parentNode||document).querySelectorAll(b)||[]:a(b),d=c.length;d--;)if(c[d]==this)return!0;return!1},M.pushState=b.history&&b.history.pushState;var l=document.documentMode;M.hashChange="onhashchange"in b&&!(M.browser.msie&&(!l||l<=8))}();var la={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}},ma={};a.extend(ma,{enabled:!0,Element:function(b){this.element=a(b)},promise:function(a,b){a.is(":visible")||a.css({display:a.data("olddisplay")||"block"}).css("display"),b.hide&&a.data("olddisplay",a.css("display")).hide(),b.init&&b.init(),b.completeCallback&&b.completeCallback(a),a.dequeue()},disable:function(){this.enabled=!1,this.promise=this.promiseShim},enable:function(){this.enabled=!0,this.promise=this.animatedPromise}}),ma.promiseShim=ma.promise,"kendoAnimate"in a.fn||F(a.fn,{kendoStop:function(a,b){return this.stop(a,b)},kendoAnimate:function(a,b,c,d){return t(this,a,b,c,d)},kendoAddClass:function(a,b){return E.toggleClass(this,a,b,!0)},kendoRemoveClass:function(a,b){return E.toggleClass(this,a,b,!1)},kendoToggleClass:function(a,b,c){return E.toggleClass(this,a,b,c)}});var na=/&/g,oa=/</g,pa=/"/g,qa=/'/g,ra=/>/g,sa=function(a){return a.target};M.touch&&(sa=function(a){var b="originalEvent"in a?a.originalEvent.changedTouches:"changedTouches"in a?a.changedTouches:null;return b?document.elementFromPoint(b[0].clientX,b[0].clientY):a.target},G(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(b,c){a.fn[c]=function(a){return this.bind(c,a)}})),M.touch?M.mobileOS?(M.mousedown="touchstart",M.mouseup="touchend",M.mousemove="touchmove",M.mousecancel="touchcancel",M.click="touchend",M.resize="orientationchange"):(M.mousedown="mousedown touchstart",M.mouseup="mouseup touchend",M.mousemove="mousemove touchmove",M.mousecancel="mouseleave touchcancel",M.click="click",M.resize="resize"):M.pointers?(M.mousemove="pointermove",M.mousedown="pointerdown",M.mouseup="pointerup",M.mousecancel="pointercancel",M.click="pointerup",M.resize="orientationchange resize"):M.msPointers?(M.mousemove="MSPointerMove",M.mousedown="MSPointerDown",M.mouseup="MSPointerUp",M.mousecancel="MSPointerCancel",M.click="MSPointerUp",M.resize="orientationchange resize"):(M.mousemove="mousemove",M.mousedown="mousedown",M.mouseup="mouseup",M.mousecancel="mouseleave",M.click="click",M.resize="resize");var ta=function(a,b){var c,d,e,f,g=b||"d",h=1;for(d=0,e=a.length;d<e;d++)f=a[d],""!==f&&(c=f.indexOf("["),0!==c&&(c==-1?f="."+f:(h++,f="."+f.substring(0,c)+" || {})"+f.substring(c))),h++,g+=f+(d<e-1?" || {})":")"));return new Array(h).join("(")+g},ua=/^([a-z]+:)?\/\//i;F(E,{ui:E.ui||{},fx:E.fx||r,effects:E.effects||ma,mobile:E.mobile||{},data:E.data||{},dataviz:E.dataviz||{},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:E.support||M,animate:E.animate||t,ns:"",attr:function(a){return"data-"+E.ns+a},getShadows:g,wrap:h,deepExtend:i,getComputedStyles:n,size:o,toCamelCase:m,toHyphens:l,getOffset:E.getOffset||p,parseEffects:E.parseEffects||q,toggleClass:E.toggleClass||u,directions:E.directions||la,Observable:da,Class:d,Template:D,template:I(D.compile,D),render:I(D.render,D),stringify:I(L.stringify,L),eventTarget:sa,htmlEncode:v,isLocalUrl:function(a){return a&&!ua.test(a)},expr:function(a,b,c){return a=a||"",typeof b==S&&(c=b,b=!1),c=c||"d",a&&"["!==a.charAt(0)&&(a="."+a),b?(a=a.replace(/"([^.]*)\.([^"]*)"/g,'"$1_$DOT$_$2"'),a=a.replace(/'([^.]*)\.([^']*)'/g,"'$1_$DOT$_$2'"),a=ta(a.split("."),c),a=a.replace(/_\$DOT\$_/g,".")):a=c+a,a},getter:function(a,b){var c=a+b;return Y[c]=Y[c]||new Function("d","return "+E.expr(a,b))},setter:function(a){return Z[a]=Z[a]||new Function("d,value",E.expr(a)+"=value")},accessor:function(a){return{get:E.getter(a),set:E.setter(a)}},guid:function(){var a,b,c="";for(a=0;a<32;a++)b=16*K.random()|0,8!=a&&12!=a&&16!=a&&20!=a||(c+="-"),c+=(12==a?4:16==a?3&b|8:b).toString(16);return c},roleSelector:function(a){return a.replace(/(\S+)/g,"["+E.attr("role")+"=$1],").slice(0,-1)},directiveSelector:function(a){var b=a.split(" ");if(b)for(var c=0;c<b.length;c++)"view"!=b[c]&&(b[c]=b[c].replace(/(\w*)(view|bar|strip|over)$/,"$1-$2"));return b.join(" ").replace(/(\S+)/g,"kendo-mobile-$1,").slice(0,-1)},triggeredByInput:function(a){return/^(label|input|textarea|select)$/i.test(a.target.tagName)},logToConsole:function(a){var c=b.console;!E.suppressLog&&"undefined"!=typeof c&&c.log&&c.log(a)}});var va=da.extend({init:function(a,b){var c=this;c.element=E.jQuery(a).handler(c),c.angular("init",b),da.fn.init.call(c);var d=b?b.dataSource:null;d&&(b=F({},b,{dataSource:{}})),b=c.options=F(!0,{},c.options,b),d&&(b.dataSource=d),c.element.attr(E.attr("role"))||c.element.attr(E.attr("role"),(b.name||"").toLowerCase()),c.element.data("kendo"+b.prefix+b.name,c),c.bind(c.events,b)},events:[],options:{prefix:""},_hasBindingTarget:function(){return!!this.element[0].kendoBindingTarget},_tabindex:function(a){a=a||this.wrapper;var b=this.element,c="tabindex",d=a.attr(c)||b.attr(c);b.removeAttr(c),a.attr(c,isNaN(d)?0:d)},setOptions:function(b){this._setEvents(b),a.extend(this.options,b)},_setEvents:function(a){for(var b,c=this,d=0,e=c.events.length;d<e;d++)b=c.events[d],c.options[b]&&a[b]&&c.unbind(b,c.options[b]);c.bind(c.events,a)},resize:function(a){var b=this.getSize(),c=this._size;(a||(b.width>0||b.height>0)&&(!c||b.width!==c.width||b.height!==c.height))&&(this._size=b,this._resize(b,a),this.trigger("resize",b))},getSize:function(){return E.dimensions(this.element)},size:function(a){return a?void this.setSize(a):this.getSize()},setSize:a.noop,_resize:a.noop,destroy:function(){var a=this;a.element.removeData("kendo"+a.options.prefix+a.options.name),a.element.removeData("handler"),a.unbind()},angular:function(){}}),wa=va.extend({dataItems:function(){return this.dataSource.flatView()},_angularItems:function(b){var c=this;c.angular(b,function(){return{elements:c.items(),data:a.map(c.dataItems(),function(a){return{dataItem:a}})}})}});E.dimensions=function(a,b){var c=a[0];return b&&a.css(b),{width:c.offsetWidth,height:c.offsetHeight}},E.notify=J;
var xa=/template$/i,ya=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,za=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]*\]$/,Aa=/([A-Z])/g;E.initWidget=function(d,e,f){var g,h,i,j,k,l,m,n,o,p;if(f?f.roles&&(f=f.roles):f=E.ui.roles,d=d.nodeType?d:d[0],l=d.getAttribute("data-"+E.ns+"role")){o=l.indexOf(".")===-1,i=o?f[l]:E.getter(l)(b);var q=a(d).data(),r=i?"kendo"+i.fn.options.prefix+i.fn.options.name:"";p=o?new RegExp("^kendo.*"+l+"$","i"):new RegExp("^"+r+"$","i");for(var s in q)if(s.match(p)){if(s!==r)return q[s];g=q[s]}if(i){for(n=w(d,"dataSource"),e=a.extend({},x(d,i.fn.options),e),n&&(typeof n===S?e.dataSource=E.getter(n)(b):e.dataSource=n),j=0,k=i.fn.events.length;j<k;j++)h=i.fn.events[j],m=w(d,h),m!==c&&(e[h]=E.getter(m)(b));return g?a.isEmptyObject(e)||g.setOptions(e):g=new i(d,e),g}}},E.rolesFromNamespaces=function(a){var b,c,d=[];for(a[0]||(a=[E.ui,E.dataviz.ui]),b=0,c=a.length;b<c;b++)d[b]=a[b].roles;return F.apply(null,[{}].concat(d.reverse()))},E.init=function(b){var c=E.rolesFromNamespaces($.call(arguments,1));a(b).find("[data-"+E.ns+"role]").addBack().each(function(){E.initWidget(this,{},c)})},E.destroy=function(b){a(b).find("[data-"+E.ns+"role]").addBack().each(function(){var b=a(this).data();for(var c in b)0===c.indexOf("kendo")&&typeof b[c].destroy===R&&b[c].destroy()})},E.resize=function(b,c){var d=a(b).find("[data-"+E.ns+"role]").addBack().filter(z);if(d.length){var e=a.makeArray(d);e.sort(y),a.each(e,function(){var b=E.widgetInstance(a(this));b&&b.resize(c)})}},E.parseOptions=x,F(E.ui,{Widget:va,DataBoundWidget:wa,roles:{},progress:function(b,c){var d,e,f,g,h=b.find(".k-loading-mask"),i=E.support,j=i.browser;c?h.length||(d=i.isRtl(b),e=d?"right":"left",g=b.scrollLeft(),f=j.webkit&&d?b[0].scrollWidth-b.width()-2*g:0,h=a("<div class='k-loading-mask'><span class='k-loading-text'>Loading...</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("100%").height("100%").css("top",b.scrollTop()).css(e,Math.abs(g)+f).prependTo(b)):h&&h.remove()},plugin:function(b,d,e){var f,g=b.fn.options.name;d=d||E.ui,e=e||"",d[g]=b,d.roles[g.toLowerCase()]=b,f="getKendo"+e+g,g="kendo"+e+g,a.fn[g]=function(d){var e,f=this;return typeof d===S?(e=$.call(arguments,1),this.each(function(){var b,h,i=a.data(this,g);if(!i)throw new Error(E.format("Cannot call method '{0}' of {1} before it is initialized",d,g));if(b=i[d],typeof b!==R)throw new Error(E.format("Cannot find method '{0}' of {1}",d,g));if(h=b.apply(i,e),h!==c)return f=h,!1})):this.each(function(){new b(this,d)}),f},a.fn[g].widget=b,a.fn[f]=function(){return this.data(g)}}});var Ba={bind:function(){return this},nullObject:!0,options:{}},Ca=va.extend({init:function(a,b){va.fn.init.call(this,a,b),this.element.autoApplyNS(),this.wrapper=this.element,this.element.addClass("km-widget")},destroy:function(){va.fn.destroy.call(this),this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var a=this.element.closest(E.roleSelector("view splitview modalview drawer"));return E.widgetInstance(a,E.mobile.ui)||Ba},viewHasNativeScrolling:function(){var a=this.view();return a&&a.options.useNativeScrolling},container:function(){var a=this.element.closest(E.roleSelector("view layout modalview drawer splitview"));return E.widgetInstance(a.eq(0),E.mobile.ui)||Ba}});F(E.mobile,{init:function(a){E.init(a,E.mobile.ui,E.ui,E.dataviz.ui)},appLevelNativeScrolling:function(){return E.mobile.application&&E.mobile.application.options&&E.mobile.application.options.useNativeScrolling},roles:{},ui:{Widget:Ca,DataBoundWidget:wa.extend(Ca.prototype),roles:{},plugin:function(a){E.ui.plugin(a,E.mobile.ui,"Mobile")}}}),i(E.dataviz,{init:function(a){E.init(a,E.dataviz.ui)},ui:{roles:{},themes:{},views:[],plugin:function(a){E.ui.plugin(a,E.dataviz.ui)}},roles:{}}),E.touchScroller=function(b,c){return a(b).map(function(b,d){return d=a(d),!(!M.kineticScrollNeeded||!E.mobile.ui.Scroller||d.data("kendoMobileScroller"))&&(d.kendoMobileScroller(c),d.data("kendoMobileScroller"))})[0]},E.preventDefault=function(a){a.preventDefault()},E.widgetInstance=function(a,c){var d,e,f=a.data(E.ns+"role"),g=[];if(f){if("content"===f&&(f="scroller"),c)if(c[0])for(d=0,e=c.length;d<e;d++)g.push(c[d].roles[f]);else g.push(c.roles[f]);else g=[E.ui.roles[f],E.dataviz.ui.roles[f],E.mobile.ui.roles[f]];for(f.indexOf(".")>=0&&(g=[E.getter(f)(b)]),d=0,e=g.length;d<e;d++){var h=g[d];if(h){var i=a.data("kendo"+h.fn.options.prefix+h.fn.options.name);if(i)return i}}}},E.onResize=function(c){var d=c;return M.mobileOS.android&&(d=function(){setTimeout(c,600)}),a(b).on(M.resize,d),d},E.unbindResize=function(c){a(b).off(M.resize,c)},E.attrValue=function(a,b){return a.data(E.ns+b)},E.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},a.extend(a.expr[":"],{kendoFocusable:function(b){var c=a.attr(b,"tabindex");return A(b,!isNaN(c)&&c>-1)}});var Da=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],Ea="label, input, [data-rel=external]",Fa={setupMouseMute:function(){var b=0,c=Da.length,d=document.documentElement;if(!Fa.mouseTrap&&M.eventCapture){Fa.mouseTrap=!0,Fa.bustClick=!1,Fa.captureMouse=!1;for(var e=function(b){Fa.captureMouse&&("click"===b.type?Fa.bustClick&&!a(b.target).is(Ea)&&(b.preventDefault(),b.stopPropagation()):b.stopPropagation())};b<c;b++)d.addEventListener(Da[b],e,!0)}},muteMouse:function(a){Fa.captureMouse=!0,a.data.bustClick&&(Fa.bustClick=!0),clearTimeout(Fa.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(Fa.mouseTrapTimeoutID),Fa.mouseTrapTimeoutID=setTimeout(function(){Fa.captureMouse=!1,Fa.bustClick=!1},400)}},Ga={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};M.touch&&(M.mobileOS.ios||M.mobileOS.android)?Ga={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:M.pointers?Ga={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:M.msPointers&&(Ga={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),!M.msPointers||"onmspointerenter"in b||a.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(b,c){a.event.special[b]={delegateType:c,bindType:c,handle:function(b){var d,e=this,f=b.relatedTarget,g=b.handleObj;return f&&(f===e||a.contains(e,f))||(b.type=g.origType,d=g.handler.apply(this,arguments),b.type=c),d}}});var Ha=function(a){return Ga[a]||a},Ia=/([^ ]+)/g;E.applyEventMap=function(a,b){return a=a.replace(Ia,Ha),b&&(a=a.replace(Ia,"$1."+b)),a};var Ja=a.fn.on;F(!0,C,a),C.fn=C.prototype=new a,C.fn.constructor=C,C.fn.init=function(b,c){return c&&c instanceof a&&!(c instanceof C)&&(c=C(c)),a.fn.init.call(this,b,c,Ka)},C.fn.init.prototype=C.fn;var Ka=C(document);F(C.fn,{handler:function(a){return this.data("handler",a),this},autoApplyNS:function(a){return this.data("kendoNS",a||E.guid()),this},on:function(){var a=this,b=a.data("kendoNS");if(1===arguments.length)return Ja.call(a,arguments[0]);var c=a,d=$.call(arguments);typeof d[d.length-1]===X&&d.pop();var e=d[d.length-1],f=E.applyEventMap(d[0],b);if(M.mouseAndTouchPresent&&f.search(/mouse|click/)>-1&&this[0]!==document.documentElement){Fa.setupMouseMute();var g=2===d.length?null:d[1],h=f.indexOf("click")>-1&&f.indexOf("touchend")>-1;Ja.call(this,{touchstart:Fa.muteMouse,touchend:Fa.unMuteMouse},g,{bustClick:h})}return typeof e===S&&(c=a.data("handler"),e=c[e],d[d.length-1]=function(a){e.call(c,a)}),d[0]=f,Ja.apply(a,d),a},kendoDestroy:function(a){return a=a||this.data("kendoNS"),a&&this.off("."+a),this}}),E.jQuery=C,E.eventMap=Ga,E.timezone=function(){function a(a,b){var c,d,e,f=b[3],g=b[4],h=b[5],i=b[8];return i||(b[8]=i={}),i[a]?i[a]:(isNaN(g)?0===g.indexOf("last")?(c=new Date(Date.UTC(a,k[f]+1,1,h[0]-24,h[1],h[2],0)),d=l[g.substr(4,3)],e=c.getUTCDay(),c.setUTCDate(c.getUTCDate()+d-e-(d>e?7:0))):g.indexOf(">=")>=0&&(c=new Date(Date.UTC(a,k[f],g.substr(5),h[0],h[1],h[2],0)),d=l[g.substr(0,3)],e=c.getUTCDay(),c.setUTCDate(c.getUTCDate()+d-e+(d<e?7:0))):c=new Date(Date.UTC(a,k[f],g,h[0],h[1],h[2],0)),i[a]=c)}function b(b,c,d){if(c=c[d],!c){var e=d.split(":"),f=0;return e.length>1&&(f=60*e[0]+Number(e[1])),[-1e6,"max","-","Jan",1,[0,0,0],f,"-"]}var g=new Date(b).getUTCFullYear();c=jQuery.grep(c,function(a){var b=a[0],c=a[1];return b<=g&&(c>=g||b==g&&"only"==c||"max"==c)}),c.push(b),c.sort(function(b,c){return"number"!=typeof b&&(b=Number(a(g,b))),"number"!=typeof c&&(c=Number(a(g,c))),b-c});var h=c[jQuery.inArray(b,c)-1]||c[c.length-1];return isNaN(h)?h:null}function c(a,b,c){var d=b[c];if("string"==typeof d&&(d=b[d]),!d)throw new Error('Timezone "'+c+'" is either incorrect, or kendo.timezones.min.js is not included.');for(var e=d.length-1;e>=0;e--){var f=d[e][3];if(f&&a>f)break}var g=d[e+1];if(!g)throw new Error('Timezone "'+c+'" not found on '+a+".");return g}function d(a,d,e,f){typeof a!=T&&(a=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));var g=c(a,d,f);return{zone:g,rule:b(a,e,g[1])}}function e(a,b){if("Etc/UTC"==b||"Etc/GMT"==b)return 0;var c=d(a,this.zones,this.rules,b),e=c.zone,f=c.rule;return E.parseFloat(f?e[0]-f[6]:e[0])}function f(a,b){var c=d(a,this.zones,this.rules,b),e=c.zone,f=c.rule,g=e[2];return g.indexOf("/")>=0?g.split("/")[f&&+f[6]?1:0]:g.indexOf("%s")>=0?g.replace("%s",f&&"-"!=f[7]?f[7]:""):g}function g(a,b,c){typeof b==S&&(b=this.offset(a,b)),typeof c==S&&(c=this.offset(a,c));var d=a.getTimezoneOffset();a=new Date(a.getTime()+6e4*(b-c));var e=a.getTimezoneOffset();return new Date(a.getTime()+6e4*(e-d))}function h(a,b){return this.convert(a,a.getTimezoneOffset(),b)}function i(a,b){return this.convert(a,b,a.getTimezoneOffset())}function j(a){return this.apply(new Date(a),"Etc/UTC")}var k={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},l={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};return{zones:{},rules:{},offset:e,convert:g,apply:h,remove:i,abbr:f,toLocalDate:j}}(),E.date=function(){function a(a,b){return 0===b&&23===a.getHours()&&(a.setHours(a.getHours()+2),!0)}function b(b,c,d){var e=b.getHours();d=d||1,c=(c-b.getDay()+7*d)%7,b.setDate(b.getDate()+c),a(b,e)}function c(a,c,d){return a=new Date(a),b(a,c,d),a}function d(a){return new Date(a.getFullYear(),a.getMonth(),1)}function e(a){var b=new Date(a.getFullYear(),a.getMonth()+1,0),c=d(a),e=Math.abs(b.getTimezoneOffset()-c.getTimezoneOffset());return e&&b.setHours(c.getHours()+e/60),b}function f(b){return b=new Date(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0),a(b,0),b}function g(a){return Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())}function h(a){return a.getTime()-f(a)}function i(a,b,c){var d,e=h(b),f=h(c);return!a||e==f||(b>=c&&(c+=q),d=h(a),e>d&&(d+=q),f<e&&(f+=q),d>=e&&d<=f)}function j(a,b,c){var d,e=b.getTime(),f=c.getTime();return e>=f&&(f+=q),d=a.getTime(),d>=e&&d<=f}function k(b,c){var d=b.getHours();return b=new Date(b),l(b,c*q),a(b,d),b}function l(a,b,c){var d,e=a.getTimezoneOffset();a.setTime(a.getTime()+b),c||(d=a.getTimezoneOffset()-e,a.setTime(a.getTime()+d*p))}function m(){return f(new Date)}function n(a){return f(a).getTime()==m().getTime()}function o(a){var b=new Date(1980,1,1,0,0,0);return a&&b.setHours(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()),b}var p=6e4,q=864e5;return{adjustDST:a,dayOfWeek:c,setDayOfWeek:b,getDate:f,isInDateRange:j,isInTimeRange:i,isToday:n,nextDay:function(a){return k(a,1)},previousDay:function(a){return k(a,-1)},toUtcTime:g,MS_PER_DAY:q,MS_PER_HOUR:60*p,MS_PER_MINUTE:p,setTime:l,addDays:k,today:m,toInvariantTime:o,firstDayOfMonth:d,lastDayOfMonth:e,getMilliseconds:h}}(),E.stripWhitespace=function(a){if(document.createNodeIterator)for(var b=document.createNodeIterator(a,NodeFilter.SHOW_TEXT,function(b){return b.parentNode==a?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);b.nextNode();)b.referenceNode&&!b.referenceNode.textContent.trim()&&b.referenceNode.parentNode.removeChild(b.referenceNode);else for(var c=0;c<a.childNodes.length;c++){var d=a.childNodes[c];3!=d.nodeType||/\S/.test(d.nodeValue)||(a.removeChild(d),c--),1==d.nodeType&&E.stripWhitespace(d)}};var La=b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||b.oRequestAnimationFrame||b.msRequestAnimationFrame||function(a){setTimeout(a,1e3/60)};E.animationFrame=function(a){La.call(b,a)};var Ma=[];E.queueAnimation=function(a){Ma[Ma.length]=a,1===Ma.length&&E.runNextAnimation()},E.runNextAnimation=function(){E.animationFrame(function(){Ma[0]&&(Ma.shift()(),Ma[0]&&E.runNextAnimation())})},E.parseQueryStringParams=function(a){for(var b=a.split("?")[1]||"",c={},d=b.split(/&|=/),e=d.length,f=0;f<e;f+=2)""!==d[f]&&(c[decodeURIComponent(d[f])]=decodeURIComponent(d[f+1]));return c},E.elementUnderCursor=function(a){if("undefined"!=typeof a.x.client)return document.elementFromPoint(a.x.client,a.y.client)},E.wheelDeltaY=function(a){var b,d=a.originalEvent,e=d.wheelDeltaY;return d.wheelDelta?(e===c||e)&&(b=d.wheelDelta):d.detail&&d.axis===d.VERTICAL_AXIS&&(b=10*-d.detail),b},E.throttle=function(a,b){var c,d=0;if(!b||b<=0)return a;var e=function(){function e(){a.apply(f,h),d=+new Date}var f=this,g=+new Date-d,h=arguments;return d?(c&&clearTimeout(c),void(g>b?e():c=setTimeout(e,b-g))):e()};return e.cancel=function(){clearTimeout(c)},e},E.caret=function(b,d,e){var f,g=d!==c;if(e===c&&(e=d),b[0]&&(b=b[0]),!g||!b.disabled){try{if(b.selectionStart!==c)g?(b.focus(),b.setSelectionRange(d,e)):d=[b.selectionStart,b.selectionEnd];else if(document.selection)if(a(b).is(":visible")&&b.focus(),f=b.createTextRange(),g)f.collapse(!0),f.moveStart("character",d),f.moveEnd("character",e-d),f.select();else{var h,i,j=f.duplicate();f.moveToBookmark(document.selection.createRange().getBookmark()),j.setEndPoint("EndToStart",f),h=j.text.length,i=h+f.text.length,d=[h,i]}}catch(k){d=[]}return d}},E.compileMobileDirective=function(a,c){var d=b.angular;return a.attr("data-"+E.ns+"role",a[0].tagName.toLowerCase().replace("kendo-mobile-","").replace("-","")),d.element(a).injector().invoke(["$compile",function(b){b(a)(c),/^\$(digest|apply)$/.test(c.$$phase)||c.$digest()}]),E.widgetInstance(a,E.mobile.ui)},E.antiForgeryTokens=function(){var b={},d=a("meta[name=csrf-token],meta[name=_csrf]").attr("content"),e=a("meta[name=csrf-param],meta[name=_csrf_header]").attr("content");return a("input[name^='__RequestVerificationToken']").each(function(){b[this.name]=this.value}),e!==c&&d!==c&&(b[e]=d),b},function(){function c(b,c,d,e){var f=a("<form>").attr({action:d,method:"POST",target:e}),g=E.antiForgeryTokens();g.fileName=c;var h=b.split(";base64,");g.contentType=h[0].replace("data:",""),g.base64=h[1];for(var i in g)g.hasOwnProperty(i)&&a("<input>").attr({value:g[i],name:i,type:"hidden"}).appendTo(f);f.appendTo("body").submit().remove()}function d(a,b){var c=a;if("string"==typeof a){for(var d=a.split(";base64,"),e=d[0],f=atob(d[1]),g=new Uint8Array(f.length),h=0;h<f.length;h++)g[h]=f.charCodeAt(h);c=new Blob([g.buffer],{type:e})}navigator.msSaveBlob(c,b)}function e(a,c){b.Blob&&a instanceof Blob&&(a=URL.createObjectURL(a)),f.download=c,f.href=a;var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!1,b,0,0,0,0,0,!1,!1,!1,!1,0,null),f.dispatchEvent(d)}var f=document.createElement("a"),g="download"in f;E.saveAs=function(a){var b=c;a.forceProxy||(g?b=e:navigator.msSaveBlob&&(b=d)),b(a.dataURI,a.fileName,a.proxyURL,a.proxyTarget)}}()}(jQuery,window),function(a,b){function c(d,f){var i,j,k,l,m,n,o,p,q=[],r=d.logic||"and",s=d.filters;for(i=0,j=s.length;i<j;i++)d=s[i],k=d.field,o=d.value,n=d.operator,d.filters?d=c(d,f):(p=d.ignoreCase,k=k.replace(/\./g,"/"),d=g[n],f&&(d=h[n]),d&&o!==b&&(l=a.type(o),"string"===l?(m="'{1}'",o=o.replace(/'/g,"''"),p===!0&&(k="tolower("+k+")")):m="date"===l?f?"{1:yyyy-MM-ddTHH:mm:ss+00:00}":"datetime'{1:yyyy-MM-ddTHH:mm:ss}'":"{1}",d.length>3?"substringof"!==d?m="{0}({2},"+m+")":(m="{0}("+m+",{2})","doesnotcontain"===n&&(f?(m="{0}({2},'{1}') eq -1",d="indexof"):m+=" eq false")):m="{2} {0} "+m,d=e.format(m,d,o,k))),q.push(d);return d=q.join(" "+r+" "),q.length>1&&(d="("+d+")"),d}function d(a){for(var b in a)0===b.indexOf("@odata")&&delete a[b]}var e=window.kendo,f=a.extend,g={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"substringof",doesnotcontain:"substringof",endswith:"endswith",startswith:"startswith"},h=f({},g,{contains:"contains"}),i={pageSize:a.noop,page:a.noop,filter:function(a,b,d){b&&(a.$filter=c(b,d))},sort:function(b,c){var d=a.map(c,function(a){var b=a.field.replace(/\./g,"/");return"desc"===a.dir&&(b+=" desc"),b}).join(",");d&&(b.$orderby=d)},skip:function(a,b){b&&(a.$skip=b)},take:function(a,b){b&&(a.$top=b)}},j={read:{dataType:"jsonp"}};f(!0,e.data,{schemas:{odata:{type:"json",data:function(a){return a.d.results||[a.d]},total:"d.__count"}},transports:{odata:{read:{cache:!0,dataType:"jsonp",jsonp:"$callback"},update:{cache:!0,dataType:"json",contentType:"application/json",type:"PUT"},create:{cache:!0,dataType:"json",contentType:"application/json",type:"POST"},destroy:{cache:!0,dataType:"json",type:"DELETE"},parameterMap:function(a,b,c){var d,f,g,h;if(a=a||{},b=b||"read",h=(this.options||j)[b],h=h?h.dataType:"json","read"===b){d={$inlinecount:"allpages"},"json"!=h&&(d.$format="json");for(g in a)i[g]?i[g](d,a[g],c):d[g]=a[g]}else{if("json"!==h)throw new Error("Only json dataType can be used for "+b+" operation.");if("destroy"!==b){for(g in a)f=a[g],"number"==typeof f&&(a[g]=f+"");d=e.stringify(a)}}return d}}}}),f(!0,e.data,{schemas:{"odata-v4":{type:"json",data:function(b){return b=a.extend({},b),d(b),b.value?b.value:[b]},total:function(a){return a["@odata.count"]}}},transports:{"odata-v4":{read:{cache:!0,dataType:"json"},update:{cache:!0,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"PUT"},create:{cache:!0,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"POST"},destroy:{cache:!0,dataType:"json",type:"DELETE"},parameterMap:function(a,b){var c=e.data.transports.odata.parameterMap(a,b,!0);return"read"==b&&(c.$count=!0,delete c.$inlinecount),c}}}})}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=a.isArray,e=a.isPlainObject,f=a.map,g=a.each,h=a.extend,i=c.getter,j=c.Class,k=j.extend({init:function(b){var i=this,j=b.total,k=b.model,l=b.parse,m=b.errors,n=b.serialize,o=b.data;if(k){if(e(k)){var p=b.modelBase||c.data.Model;k.fields&&g(k.fields,function(b,c){e(c)&&c.field?a.isFunction(c.field)||(c=h(c,{field:i.getter(c.field)})):c={field:i.getter(c)},k.fields[b]=c});var q=k.id;if(q){var r={};r[i.xpathToMember(q,!0)]={field:i.getter(q)},k.fields=h(r,k.fields),k.id=i.xpathToMember(q)}k=p.define(k)}i.model=k}if(j&&("string"==typeof j?(j=i.getter(j),i.total=function(a){return parseInt(j(a),10)}):"function"==typeof j&&(i.total=j)),m&&("string"==typeof m?(m=i.getter(m),i.errors=function(a){return m(a)||null}):"function"==typeof m&&(i.errors=m)),o&&("string"==typeof o?(o=i.xpathToMember(o),i.data=function(a){var b,c=i.evaluate(a,o);return c=d(c)?c:[c],i.model&&k.fields?(b=new i.model,f(c,function(a){if(a){var c,d={};for(c in k.fields)d[c]=b._parse(c,k.fields[c].field(a));return d}})):c}):"function"==typeof o&&(i.data=o)),"function"==typeof l){var s=i.parse;i.parse=function(a){var b=l.call(i,a);return s.call(i,b)}}"function"==typeof n&&(i.serialize=n)},total:function(a){return this.data(a).length},errors:function(a){return a?a.errors:null},serialize:function(a){return a},parseDOM:function(a){var c,e,f,g,h,i,j,k={},l=a.attributes,m=l.length;for(j=0;j<m;j++)i=l[j],k["@"+i.nodeName]=i.nodeValue;for(e=a.firstChild;e;e=e.nextSibling)f=e.nodeType,3===f||4===f?k["#text"]=e.nodeValue:1===f&&(c=this.parseDOM(e),g=e.nodeName,h=k[g],d(h)?h.push(c):h=h!==b?[h,c]:c,k[g]=h);return k},evaluate:function(a,b){for(var c,e,f,g,h,i=b.split(".");c=i.shift();)if(a=a[c],d(a)){for(e=[],b=i.join("."),h=0,f=a.length;h<f;h++)g=this.evaluate(a[h],b),g=d(g)?g:[g],e.push.apply(e,g);return e}return a},parse:function(b){var c,d,e={};return c=b.documentElement||a.parseXML(b).documentElement,d=this.parseDOM(c),e[c.nodeName]=d,e},xpathToMember:function(a,b){return a?(a=a.replace(/^\//,"").replace(/\//g,"."),a.indexOf("@")>=0?a.replace(/\.?(@.*)/,b?"$1":'["$1"]'):a.indexOf("text()")>=0?a.replace(/(\.?text\(\))/,b?"#text":'["#text"]'):a):""},getter:function(a){return i(this.xpathToMember(a),!0)}});a.extend(!0,c.data,{XmlDataReader:k,readers:{xml:k}})}(window.kendo.jQuery),function(a,b){function c(a,b,c,d){return function(e){var f,g={};for(f in e)g[f]=e[f];d?g.field=c+"."+e.field:g.field=c,b==fa&&a._notifyChange&&a._notifyChange(g),a.trigger(b,g)}}function d(b,c){if(b===c)return!0;var e,f=a.type(b),g=a.type(c);if(f!==g)return!1;if("date"===f)return b.getTime()===c.getTime();if("object"!==f&&"array"!==f)return!1;for(e in b)if(!d(b[e],c[e]))return!1;return!0}function e(a,b){var c,d;for(d in a){if(c=a[d],Q(c)&&c.field&&c.field===b)return c;if(c===b)return c}return null}function f(a){this.data=a||[]}function g(a,c){if(a){var d=typeof a===_?{field:a,dir:c}:a,e=S(d)?d:d!==b?[d]:[];return T(e,function(a){return!!a.dir})}}function h(a){var b,c,d,e,f=a.filters;if(f)for(b=0,c=f.length;b<c;b++)d=f[b],e=d.operator,e&&typeof e===_&&(d.operator=Ma[e.toLowerCase()]||e),h(d)}function i(a){if(a&&!R(a))return!S(a)&&a.filters||(a={logic:"and",filters:S(a)?a:[a]}),h(a),a}function j(a){return S(a)?a:[a]}function k(a,c){var d=typeof a===_?{field:a,dir:c}:a,e=S(d)?d:d!==b?[d]:[];return N(e,function(a){return{field:a.field,dir:a.dir||"asc",aggregates:a.aggregates}})}function l(a,b){return a&&a.getTime&&b&&b.getTime?a.getTime()===b.getTime():a===b}function m(a,b,c,d,e,f){b=b||[];var g,h,i,j=b.length;for(g=0;g<j;g++){h=b[g],i=h.aggregate;var k=h.field;a[k]=a[k]||{},f[k]=f[k]||{},f[k][i]=f[k][i]||{},a[k][i]=Na[i.toLowerCase()](a[k][i],c,X.accessor(k),d,e,f[k][i])}}function n(a){return"number"==typeof a&&!isNaN(a)}function o(a){return a&&a.getTime}function p(a){var b,c=a.length,d=new Array(c);for(b=0;b<c;b++)d[b]=a[b].toJSON();return d}function q(a,b,c,d,e){var f,g,h,i,j;for(i=0,j=a.length;i<j;i++){f=a[i];for(g in b)h=e[g],h&&h!==g&&(f[h]=b[g](f),delete f[g])}}function r(a,b,c,d,e){var f,g,h,i,j;for(i=0,j=a.length;i<j;i++){f=a[i];for(g in b)f[g]=c._parse(g,b[g](f)),h=e[g],h&&h!==g&&delete f[h]}}function s(a,b,c,d,e){var f,g,h,i;for(g=0,i=a.length;g<i;g++)f=a[g],h=d[f.field],h&&h!=f.field&&(f.field=h),f.value=c._parse(f.field,f.value),f.hasSubgroups?s(f.items,b,c,d,e):r(f.items,b,c,d,e)}function t(a,b,c,d,e,f){return function(g){return g=a(g),g&&!R(d)&&("[object Array]"===ya.call(g)||g instanceof Da||(g=[g]),c(g,d,new b,e,f)),g||[]}}function u(a,b,c,d){for(var e,f,g=0;b.length&&d;){e=b[g],f=e.items;var h=f.length;if(a&&a.field===e.field&&a.value===e.value?(a.hasSubgroups&&a.items.length?u(a.items[a.items.length-1],e.items,c,d):(f=f.slice(c,c+d),a.items=a.items.concat(f)),b.splice(g--,1)):e.hasSubgroups&&f.length?(u(e,f,c,d),e.items.length||b.splice(g--,1)):(f=f.slice(c,c+d),e.items=f,e.items.length||b.splice(g--,1)),0===f.length?c-=h:(c=0,d-=f.length),++g>=b.length)break}g<b.length&&b.splice(g,b.length-g)}function v(a){var b,c,d,e,f=[];for(b=0,c=a.length;b<c;b++){var g=a.at(b);if(g.hasSubgroups)f=f.concat(v(g.items));else for(d=g.items,e=0;e<d.length;e++)f.push(d.at(e))}return f}function w(a,b){var c,d,e;if(b)for(c=0,d=a.length;c<d;c++)e=a.at(c),e.hasSubgroups?w(e.items,b):e.items=new Ea(e.items,b)}function x(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c].hasSubgroups){if(x(a[c].items,b))return!0}else if(b(a[c].items,a[c]))return!0}function y(a,b,c,d){for(var e=0;e<a.length&&a[e].data!==b&&!z(a[e].data,c,d);e++);}function z(a,b,c){for(var d=0,e=a.length;d<e;d++){if(a[d]&&a[d].hasSubgroups)return z(a[d].items,b,c);if(a[d]===b||a[d]===c)return a[d]=c,!0}}function A(a,c,d,e,f){for(var g=0,h=a.length;g<h;g++){var i=a[g];if(i&&!(i instanceof e))if(i.hasSubgroups===b||f){for(var j=0;j<c.length;j++)if(c[j]===i){a[g]=c.at(j),y(d,c,i,a[g]);break}}else A(i.items,c,d,e,f)}}function B(a,b){var c,d;for(c=0,d=a.length;c<d;c++){var e=a.at(c);if(e.uid==b.uid)return a.splice(c,1),e}}function C(a,b){var c,d,e,f;for(e=a.length-1,f=0;e>=f;e--)d=a[e],c={value:b.get(d.field),field:d.field,items:c?[c]:[b],hasSubgroups:!!c,aggregates:{}};return c}function D(a,b){return b?F(a,function(a){return a.uid?a.uid==b.uid:a[b.idField]===b.id}):-1}function E(a,b){return b?F(a,function(a){return a.uid==b.uid}):-1}function F(a,b){var c,d;for(c=0,d=a.length;c<d;c++)if(b(a[c]))return c;return-1}function G(a,b){if(a&&!R(a)){var c,d=a[b];return c=Q(d)?d.from||d.field||b:a[b]||b,Y(c)?b:c}return b}function H(a,b){var c,d,e={};for(var f in a)"filters"!==f&&(e[f]=a[f]);if(a.filters)for(e.filters=[],c=0,d=a.filters.length;c<d;c++)e.filters[c]=H(a.filters[c],b);else e.field=G(b.fields,e.field);return e}function I(a,b){var c,d,e,f,g=[];for(c=0,d=a.length;c<d;c++){e={},f=a[c];for(var h in f)e[h]=f[h];e.field=G(b.fields,e.field),e.aggregates&&S(e.aggregates)&&(e.aggregates=I(e.aggregates,b)),g.push(e)}return g}function J(b,c){var d,e,f,g,h,i=a(b)[0].children,j=[],k=c[0],l=c[1];for(d=0,e=i.length;d<e;d++)f={},h=i[d],h.disabled||(f[k.field]=h.text,g=h.attributes.value,g=g&&g.specified?h.value:h.text,f[l.field]=g,j.push(f));return j}function K(b,c){var d,e,f,g,h,i,j,k=a(b)[0].tBodies[0],l=k?k.rows:[],m=c.length,n=[];for(d=0,e=l.length;d<e;d++){for(h={},j=!0,g=l[d].cells,f=0;f<m;f++)i=g[f],"th"!==i.nodeName.toLowerCase()&&(j=!1,h[c[f].field]=i.innerHTML);j||n.push(h)}return n}function L(a){return function(){var b=this._data,c=Sa.fn[a].apply(this,wa.call(arguments));return this._data!=b&&this._attachBubbleHandlers(),c}}function M(b,c){function d(a,b){return a.filter(b).add(a.find(b))}var e,f,g,h,i,j,k,l,m=a(b).children(),n=[],o=c[0].field,p=c[1]&&c[1].field,q=c[2]&&c[2].field,r=c[3]&&c[3].field;for(e=0,f=m.length;e<f;e++)g={_loaded:!0},h=m.eq(e),j=h[0].firstChild,l=h.children(),b=l.filter("ul"),l=l.filter(":not(ul)"),i=h.attr("data-id"),i&&(g.id=i),j&&(g[o]=3==j.nodeType?j.nodeValue:l.text()),p&&(g[p]=d(l,"a").attr("href")),r&&(g[r]=d(l,"img").attr("src")),q&&(k=d(l,".k-sprite").prop("className"),g[q]=k&&a.trim(k.replace("k-sprite",""))),b.length&&(g.items=M(b.eq(0),c)),"true"==h.attr("data-hasChildren")&&(g.hasChildren=!0),n.push(g);return n}var N,O=a.extend,P=a.proxy,Q=a.isPlainObject,R=a.isEmptyObject,S=a.isArray,T=a.grep,U=a.ajax,V=a.each,W=a.noop,X=window.kendo,Y=X.isFunction,Z=X.Observable,$=X.Class,_="string",aa="function",ba="create",ca="read",da="update",ea="destroy",fa="change",ga="sync",ha="get",ia="error",ja="requestStart",ka="progress",la="requestEnd",ma=[ba,ca,da,ea],na=function(a){return a},oa=X.getter,pa=X.stringify,qa=Math,ra=[].push,sa=[].join,ta=[].pop,ua=[].splice,va=[].shift,wa=[].slice,xa=[].unshift,ya={}.toString,za=X.support.stableSort,Aa=/^\/Date\((.*?)\)\/$/,Ba=/(\r+|\n+)/g,Ca=/(?=['\\])/g,Da=Z.extend({init:function(a,b){var c=this;c.type=b||Fa,Z.fn.init.call(c),c.length=a.length,c.wrapAll(a,c)},at:function(a){return this[a]},toJSON:function(){var a,b,c=this.length,d=new Array(c);for(a=0;a<c;a++)b=this[a],b instanceof Fa&&(b=b.toJSON()),d[a]=b;return d},parent:W,wrapAll:function(a,b){var c,d,e=this,f=function(){return e};for(b=b||[],c=0,d=a.length;c<d;c++)b[c]=e.wrap(a[c],f);return b},wrap:function(a,b){var c,d=this;return null!==a&&"[object Object]"===ya.call(a)&&(c=a instanceof d.type||a instanceof Ia,c||(a=a instanceof Fa?a.toJSON():a,a=new d.type(a)),a.parent=b,a.bind(fa,function(a){d.trigger(fa,{field:a.field,node:a.node,index:a.index,items:a.items||[this],action:a.node?a.action||"itemloaded":"itemchange"})})),a},push:function(){var a,b=this.length,c=this.wrapAll(arguments);return a=ra.apply(this,c),this.trigger(fa,{action:"add",index:b,items:c}),a},slice:wa,sort:[].sort,join:sa,pop:function(){var a=this.length,b=ta.apply(this);return a&&this.trigger(fa,{action:"remove",index:a-1,items:[b]}),b},splice:function(a,b,c){var d,e,f,g=this.wrapAll(wa.call(arguments,2));if(d=ua.apply(this,[a,b].concat(g)),d.length)for(this.trigger(fa,{action:"remove",index:a,items:d}),e=0,f=d.length;e<f;e++)d[e]&&d[e].children&&d[e].unbind(fa);return c&&this.trigger(fa,{action:"add",index:a,items:g}),d},shift:function(){var a=this.length,b=va.apply(this);return a&&this.trigger(fa,{action:"remove",index:0,items:[b]}),b},unshift:function(){var a,b=this.wrapAll(arguments);return a=xa.apply(this,b),this.trigger(fa,{action:"add",index:0,items:b}),a},indexOf:function(a){var b,c,d=this;for(b=0,c=d.length;b<c;b++)if(d[b]===a)return b;return-1},forEach:function(a){for(var b=0,c=this.length;b<c;b++)a(this[b],b,this)},map:function(a){for(var b=0,c=[],d=this.length;b<d;b++)c[b]=a(this[b],b,this);return c},filter:function(a){for(var b,c=0,d=[],e=this.length;c<e;c++)b=this[c],a(b,c,this)&&(d[d.length]=b);return d},find:function(a){for(var b,c=0,d=this.length;c<d;c++)if(b=this[c],a(b,c,this))return b},every:function(a){for(var b,c=0,d=this.length;c<d;c++)if(b=this[c],!a(b,c,this))return!1;return!0},some:function(a){for(var b,c=0,d=this.length;c<d;c++)if(b=this[c],a(b,c,this))return!0;return!1},remove:function(a){var b=this.indexOf(a);b!==-1&&this.splice(b,1)},empty:function(){this.splice(0,this.length)}}),Ea=Da.extend({init:function(a,b){Z.fn.init.call(this),this.type=b||Fa;for(var c=0;c<a.length;c++)this[c]=a[c];this.length=c,this._parent=P(function(){return this},this)},at:function(a){var b=this[a];return b instanceof this.type?b.parent=this._parent:b=this[a]=this.wrap(b,this._parent),b}}),Fa=Z.extend({init:function(a){var b,c,d=this,e=function(){return d};Z.fn.init.call(this);for(c in a)b=a[c],"object"==typeof b&&b&&!b.getTime&&"_"!=c.charAt(0)&&(b=d.wrap(b,c,e)),d[c]=b;d.uid=X.guid()},shouldSerialize:function(a){return this.hasOwnProperty(a)&&"_events"!==a&&typeof this[a]!==aa&&"uid"!==a},forEach:function(a){for(var b in this)this.shouldSerialize(b)&&a(this[b],b)},toJSON:function(){var a,b,c={};for(b in this)this.shouldSerialize(b)&&(a=this[b],(a instanceof Fa||a instanceof Da)&&(a=a.toJSON()),c[b]=a);return c},get:function(a){var b,c=this;return c.trigger(ha,{field:a}),b="this"===a?c:X.getter(a,!0)(c)},_set:function(a,b){var c=this,d=a.indexOf(".")>=0;if(d)for(var e=a.split("."),f="";e.length>1;){f+=e.shift();var g=X.getter(f,!0)(c);if(g instanceof Fa)return g.set(e.join("."),b),d;f+="."}return X.setter(a)(c,b),d},set:function(a,b){var c=this,d=a.indexOf(".")>=0,e=X.getter(a,!0)(c);e!==b&&(c.trigger("set",{field:a,value:b})||(d||(b=c.wrap(b,a,function(){return c})),(!c._set(a,b)||a.indexOf("(")>=0||a.indexOf("[")>=0)&&c.trigger(fa,{field:a})))},parent:W,wrap:function(a,b,d){var e=this,f=ya.call(a);if(null!=a&&("[object Object]"===f||"[object Array]"===f)){var g=a instanceof Da,h=a instanceof Sa;"[object Object]"!==f||h||g?("[object Array]"===f||g||h)&&(g||h||(a=new Da(a)),a.parent()!=d()&&a.bind(fa,c(e,fa,b,!1))):(a instanceof Fa||(a=new Fa(a)),a.parent()!=d()&&(a.bind(ha,c(e,ha,b,!0)),a.bind(fa,c(e,fa,b,!0)))),a.parent=d}return a}}),Ga={number:function(a){return X.parseFloat(a)},date:function(a){return X.parseDate(a)},"boolean":function(a){return typeof a===_?"true"===a.toLowerCase():null!=a?!!a:a},string:function(a){return null!=a?a+"":a},"default":function(a){return a}},Ha={string:"",number:0,date:new Date,"boolean":!1,"default":""},Ia=Fa.extend({init:function(c){var d=this;if((!c||a.isEmptyObject(c))&&(c=a.extend({},d.defaults,c),d._initializers))for(var e=0;e<d._initializers.length;e++){var f=d._initializers[e];c[f]=d.defaults[f]()}Fa.fn.init.call(d,c),d.dirty=!1,d.idField&&(d.id=d.get(d.idField),d.id===b&&(d.id=d._defaultId))},shouldSerialize:function(a){return Fa.fn.shouldSerialize.call(this,a)&&"uid"!==a&&!("id"!==this.idField&&"id"===a)&&"dirty"!==a&&"_accessors"!==a},_parse:function(a,b){var c,d=this,f=a,g=d.fields||{};return a=g[a],a||(a=e(g,f)),a&&(c=a.parse,!c&&a.type&&(c=Ga[a.type.toLowerCase()])),c?c(b):b},_notifyChange:function(a){var b=a.action;"add"!=b&&"remove"!=b||(this.dirty=!0);
},editable:function(a){return a=(this.fields||{})[a],!a||a.editable!==!1},set:function(a,b,c){var e=this;e.editable(a)&&(b=e._parse(a,b),d(b,e.get(a))||(e.dirty=!0,Fa.fn.set.call(e,a,b,c)))},accept:function(a){var b,c=this,d=function(){return c};for(b in a){var e=a[b];"_"!=b.charAt(0)&&(e=c.wrap(a[b],b,d)),c._set(b,e)}c.idField&&(c.id=c.get(c.idField)),c.dirty=!1},isNew:function(){return this.id===this._defaultId}});Ia.define=function(a,c){c===b&&(c=a,a=Ia);var d,e,f,g,h,i,j,k,l=O({defaults:{}},c),m={},n=l.id,o=[];if(n&&(l.idField=n),l.id&&delete l.id,n&&(l.defaults[n]=l._defaultId=""),"[object Array]"===ya.call(l.fields)){for(i=0,j=l.fields.length;i<j;i++)f=l.fields[i],typeof f===_?m[f]={}:f.field&&(m[f.field]=f);l.fields=m}for(e in l.fields)f=l.fields[e],g=f.type||"default",h=null,k=e,e=typeof f.field===_?f.field:e,f.nullable||(h=l.defaults[k!==e?k:e]=f.defaultValue!==b?f.defaultValue:Ha[g.toLowerCase()],"function"==typeof h&&o.push(e)),c.id===e&&(l._defaultId=h),l.defaults[k!==e?k:e]=h,f.parse=f.parse||Ga[g];return o.length>0&&(l._initializers=o),d=a.extend(l),d.define=function(a){return Ia.define(d,a)},l.fields&&(d.fields=l.fields,d.idField=l.idField),d};var Ja={selector:function(a){return Y(a)?a:oa(a)},compare:function(a){var b=this.selector(a);return function(a,c){return a=b(a),c=b(c),null==a&&null==c?0:null==a?-1:null==c?1:a.localeCompare?a.localeCompare(c):a>c?1:a<c?-1:0}},create:function(a){var b=a.compare||this.compare(a.field);return"desc"==a.dir?function(a,c){return b(c,a,!0)}:b},combine:function(a){return function(b,c){var d,e,f=a[0](b,c);for(d=1,e=a.length;d<e;d++)f=f||a[d](b,c);return f}}},Ka=O({},Ja,{asc:function(a){var b=this.selector(a);return function(a,c){var d=b(a),e=b(c);return d&&d.getTime&&e&&e.getTime&&(d=d.getTime(),e=e.getTime()),d===e?a.__position-c.__position:null==d?-1:null==e?1:d.localeCompare?d.localeCompare(e):d>e?1:-1}},desc:function(a){var b=this.selector(a);return function(a,c){var d=b(a),e=b(c);return d&&d.getTime&&e&&e.getTime&&(d=d.getTime(),e=e.getTime()),d===e?a.__position-c.__position:null==d?1:null==e?-1:e.localeCompare?e.localeCompare(d):d<e?1:-1}},create:function(a){return this[a.dir](a.field)}});N=function(a,b){var c,d=a.length,e=new Array(d);for(c=0;c<d;c++)e[c]=b(a[c],c,a);return e};var La=function(){function a(a){return a.replace(Ca,"\\").replace(Ba,"")}function b(b,c,d,e){var f;return null!=d&&(typeof d===_&&(d=a(d),f=Aa.exec(d),f?d=new Date((+f[1])):e?(d="'"+d.toLowerCase()+"'",c="("+c+" || '').toLowerCase()"):d="'"+d+"'"),d.getTime&&(c="("+c+"?"+c+".getTime():"+c+")",d=d.getTime())),c+" "+b+" "+d}return{quote:function(b){return b&&b.getTime?"new Date("+b.getTime()+")":"string"==typeof b?"'"+a(b)+"'":""+b},eq:function(a,c,d){return b("==",a,c,d)},neq:function(a,c,d){return b("!=",a,c,d)},gt:function(a,c,d){return b(">",a,c,d)},gte:function(a,c,d){return b(">=",a,c,d)},lt:function(a,c,d){return b("<",a,c,d)},lte:function(a,c,d){return b("<=",a,c,d)},startswith:function(b,c,d){return d&&(b="("+b+" || '').toLowerCase()",c&&(c=c.toLowerCase())),c&&(c=a(c)),b+".lastIndexOf('"+c+"', 0) == 0"},endswith:function(b,c,d){return d&&(b="("+b+" || '').toLowerCase()",c&&(c=c.toLowerCase())),c&&(c=a(c)),b+".indexOf('"+c+"', "+b+".length - "+(c||"").length+") >= 0"},contains:function(b,c,d){return d&&(b="("+b+" || '').toLowerCase()",c&&(c=c.toLowerCase())),c&&(c=a(c)),b+".indexOf('"+c+"') >= 0"},doesnotcontain:function(b,c,d){return d&&(b="("+b+" || '').toLowerCase()",c&&(c=c.toLowerCase())),c&&(c=a(c)),b+".indexOf('"+c+"') == -1"}}}();f.filterExpr=function(a){var c,d,e,g,h,i,j=[],k={and:" && ",or:" || "},l=[],m=[],n=a.filters;for(c=0,d=n.length;c<d;c++)e=n[c],h=e.field,i=e.operator,e.filters?(g=f.filterExpr(e),e=g.expression.replace(/__o\[(\d+)\]/g,function(a,b){return b=+b,"__o["+(m.length+b)+"]"}).replace(/__f\[(\d+)\]/g,function(a,b){return b=+b,"__f["+(l.length+b)+"]"}),m.push.apply(m,g.operators),l.push.apply(l,g.fields)):(typeof h===aa?(g="__f["+l.length+"](d)",l.push(h)):g=X.expr(h),typeof i===aa?(e="__o["+m.length+"]("+g+", "+La.quote(e.value)+")",m.push(i)):e=La[(i||"eq").toLowerCase()](g,e.value,e.ignoreCase===b||e.ignoreCase)),j.push(e);return{expression:"("+j.join(k[a.logic])+")",fields:l,operators:m}};var Ma={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain"};f.normalizeFilter=i,f.prototype={toArray:function(){return this.data},range:function(a,b){return new f(this.data.slice(a,a+b))},skip:function(a){return new f(this.data.slice(a))},take:function(a){return new f(this.data.slice(0,a))},select:function(a){return new f(N(this.data,a))},order:function(a,b){var c={dir:b};return a&&(a.compare?c.compare=a.compare:c.field=a),new f(this.data.slice(0).sort(Ja.create(c)))},orderBy:function(a){return this.order(a,"asc")},orderByDescending:function(a){return this.order(a,"desc")},sort:function(a,b,c){var d,e,f=g(a,b),h=[];if(c=c||Ja,f.length){for(d=0,e=f.length;d<e;d++)h.push(c.create(f[d]));return this.orderBy({compare:c.combine(h)})}return this},filter:function(a){var b,c,d,e,g,h,j,k,l=this.data,m=[];if(a=i(a),!a||0===a.filters.length)return this;for(e=f.filterExpr(a),h=e.fields,j=e.operators,g=k=new Function("d, __f, __o","return "+e.expression),(h.length||j.length)&&(k=function(a){return g(a,h,j)}),b=0,d=l.length;b<d;b++)c=l[b],k(c)&&m.push(c);return new f(m)},group:function(a,b){a=k(a||[]),b=b||this.data;var c,d=this,e=new f(d.data);return a.length>0&&(c=a[0],e=e.groupBy(c).select(function(d){var e=new f(b).filter([{field:d.field,operator:"eq",value:d.value,ignoreCase:!1}]);return{field:d.field,value:d.value,items:a.length>1?new f(d.items).group(a.slice(1),e.toArray()).toArray():d.items,hasSubgroups:a.length>1,aggregates:e.aggregate(c.aggregates)}})),e},groupBy:function(a){if(R(a)||!this.data.length)return new f([]);var b,c,d,e,g=a.field,h=this._sortForGrouping(g,a.dir||"asc"),i=X.accessor(g),j=i.get(h[0],g),k={field:g,value:j,items:[]},m=[k];for(d=0,e=h.length;d<e;d++)b=h[d],c=i.get(b,g),l(j,c)||(j=c,k={field:g,value:j,items:[]},m.push(k)),k.items.push(b);return new f(m)},_sortForGrouping:function(a,b){var c,d,e=this.data;if(!za){for(c=0,d=e.length;c<d;c++)e[c].__position=c;for(e=new f(e).sort(a,b,Ka).toArray(),c=0,d=e.length;c<d;c++)delete e[c].__position;return e}return this.sort(a,b).toArray()},aggregate:function(a){var b,c,d={},e={};if(a&&a.length)for(b=0,c=this.data.length;b<c;b++)m(d,a,this.data[b],b,c,e);return d}};var Na={sum:function(a,b,c){var d=c.get(b);return n(a)?n(d)&&(a+=d):a=d,a},count:function(a){return(a||0)+1},average:function(a,c,d,e,f,g){var h=d.get(c);return g.count===b&&(g.count=0),n(a)?n(h)&&(a+=h):a=h,n(h)&&g.count++,e==f-1&&n(a)&&(a/=g.count),a},max:function(a,b,c){var d=c.get(b);return n(a)||o(a)||(a=d),a<d&&(n(d)||o(d))&&(a=d),a},min:function(a,b,c){var d=c.get(b);return n(a)||o(a)||(a=d),a>d&&(n(d)||o(d))&&(a=d),a}};f.process=function(a,c){c=c||{};var d,e=new f(a),h=c.group,i=k(h||[]).concat(g(c.sort||[])),j=c.filterCallback,l=c.filter,m=c.skip,n=c.take;return l&&(e=e.filter(l),j&&(e=j(e)),d=e.toArray().length),i&&(e=e.sort(i),h&&(a=e.toArray())),m!==b&&n!==b&&(e=e.range(m,n)),h&&(e=e.group(h,a)),{total:d,data:e.toArray()}};var Oa=$.extend({init:function(a){this.data=a.data},read:function(a){a.success(this.data)},update:function(a){a.success(a.data)},create:function(a){a.success(a.data)},destroy:function(a){a.success(a.data)}}),Pa=$.extend({init:function(a){var b,c=this;a=c.options=O({},c.options,a),V(ma,function(b,c){typeof a[c]===_&&(a[c]={url:a[c]})}),c.cache=a.cache?Qa.create(a.cache):{find:W,add:W},b=a.parameterMap,Y(a.push)&&(c.push=a.push),c.push||(c.push=na),c.parameterMap=Y(b)?b:function(a){var c={};return V(a,function(a,d){a in b&&(a=b[a],Q(a)&&(d=a.value(d),a=a.key)),c[a]=d}),c}},options:{parameterMap:na},create:function(a){return U(this.setup(a,ba))},read:function(c){var d,e,f,g=this,h=g.cache;c=g.setup(c,ca),d=c.success||W,e=c.error||W,f=h.find(c.data),f!==b?d(f):(c.success=function(a){h.add(c.data,a),d(a)},a.ajax(c))},update:function(a){return U(this.setup(a,da))},destroy:function(a){return U(this.setup(a,ea))},setup:function(a,b){a=a||{};var c,d=this,e=d.options[b],f=Y(e.data)?e.data(a.data):e.data;return a=O(!0,{},e,a),c=O(!0,{},f,a.data),a.data=d.parameterMap(c,b),Y(a.url)&&(a.url=a.url(c)),a}}),Qa=$.extend({init:function(){this._store={}},add:function(a,c){a!==b&&(this._store[pa(a)]=c)},find:function(a){return this._store[pa(a)]},clear:function(){this._store={}},remove:function(a){delete this._store[pa(a)]}});Qa.create=function(a){var b={inmemory:function(){return new Qa}};return Q(a)&&Y(a.find)?a:a===!0?new Qa:b[a]()};var Ra=$.extend({init:function(a){var b,c,d,e,f=this;a=a||{};for(b in a)c=a[b],f[b]=typeof c===_?oa(c):c;e=a.modelBase||Ia,Q(f.model)&&(f.model=d=e.define(f.model));var g=P(f.data,f);if(f._dataAccessFunction=g,f.model){var h,i=P(f.groups,f),j=P(f.serialize,f),k={},l={},m={},n={},o=!1;d=f.model,d.fields&&(V(d.fields,function(a,b){var c;h=a,Q(b)&&b.field?h=b.field:typeof b===_&&(h=b),Q(b)&&b.from&&(c=b.from),o=o||c&&c!==a||h!==a,l[a]=oa(c||h),m[a]=oa(a),k[c||h]=a,n[a]=c||h}),!a.serialize&&o&&(f.serialize=t(j,d,q,m,k,n))),f._dataAccessFunction=g,f.data=t(g,d,r,l,k,n),f.groups=t(i,d,s,l,k,n)}},errors:function(a){return a?a.errors:null},parse:na,data:na,total:function(a){return a.length},groups:na,aggregates:function(){return{}},serialize:function(a){return a}}),Sa=Z.extend({init:function(a){var c,d,e=this;if(a&&(d=a.data),a=e.options=O({},e.options,a),e._map={},e._prefetch={},e._data=[],e._pristineData=[],e._ranges=[],e._view=[],e._pristineTotal=0,e._destroyed=[],e._pageSize=a.pageSize,e._page=a.page||(a.pageSize?1:b),e._sort=g(a.sort),e._filter=i(a.filter),e._group=k(a.group),e._aggregate=a.aggregate,e._total=a.total,e._shouldDetachObservableParents=!0,Z.fn.init.call(e),e.transport=Ta.create(a,d,e),Y(e.transport.push)&&e.transport.push({pushCreate:P(e._pushCreate,e),pushUpdate:P(e._pushUpdate,e),pushDestroy:P(e._pushDestroy,e)}),null!=a.offlineStorage)if("string"==typeof a.offlineStorage){var f=a.offlineStorage;e._storage={getItem:function(){return JSON.parse(localStorage.getItem(f))},setItem:function(a){localStorage.setItem(f,pa(e.reader.serialize(a)))}}}else e._storage=a.offlineStorage;e.reader=new X.data.readers[a.schema.type||"json"](a.schema),c=e.reader.model||{},e._detachObservableParents(),e._data=e._observe(e._data),e._online=!0,e.bind(["push",ia,fa,ja,ga,la,ka],a)},options:{data:null,schema:{modelBase:Ia},offlineStorage:null,serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1},online:function(c){return c!==b?this._online!=c&&(this._online=c,c)?this.sync():a.Deferred().resolve().promise():this._online},offlineData:function(a){return null==this.options.offlineStorage?null:a!==b?this._storage.setItem(a):this._storage.getItem()||{}},_isServerGrouped:function(){var a=this.group()||[];return this.options.serverGrouping&&a.length},_pushCreate:function(a){this._push(a,"pushCreate")},_pushUpdate:function(a){this._push(a,"pushUpdate")},_pushDestroy:function(a){this._push(a,"pushDestroy")},_push:function(a,b){var c=this._readData(a);c||(c=a),this[b](c)},_flatData:function(a,b){if(a){if(this._isServerGrouped())return v(a);if(!b)for(var c=0;c<a.length;c++)a.at(c)}return a},parent:W,get:function(a){var b,c,d=this._flatData(this._data);for(b=0,c=d.length;b<c;b++)if(d[b].id==a)return d[b]},getByUid:function(a){var b,c,d=this._flatData(this._data);if(d)for(b=0,c=d.length;b<c;b++)if(d[b].uid==a)return d[b]},indexOf:function(a){return E(this._data,a)},at:function(a){return this._data.at(a)},data:function(a){var c=this;if(a===b){if(c._data)for(var d=0;d<c._data.length;d++)c._data.at(d);return c._data}c._detachObservableParents(),c._data=this._observe(a),c._pristineData=a.slice(0),c._storeData(),c._ranges=[],c.trigger("reset"),c._addRange(c._data),c._total=c._data.length,c._pristineTotal=c._total,c._process(c._data)},view:function(a){return a===b?this._view:void(this._view=this._observeView(a))},_observeView:function(a){var b=this;A(a,b._data,b._ranges,b.reader.model||Fa,b._isServerGrouped());var c=new Ea(a,b.reader.model);return c.parent=function(){return b.parent()},c},flatView:function(){var a=this.group()||[];return a.length?v(this._view):this._view},add:function(a){return this.insert(this._data.length,a)},_createNewModel:function(a){return this.reader.model?new this.reader.model(a):a instanceof Fa?a:new Fa(a)},insert:function(a,b){return b||(b=a,a=0),b instanceof Ia||(b=this._createNewModel(b)),this._isServerGrouped()?this._data.splice(a,0,C(this.group(),b)):this._data.splice(a,0,b),b},pushCreate:function(a){S(a)||(a=[a]);var b=[],c=this.options.autoSync;this.options.autoSync=!1;try{for(var d=0;d<a.length;d++){var e=a[d],f=this.add(e);b.push(f);var g=f.toJSON();this._isServerGrouped()&&(g=C(this.group(),g)),this._pristineData.push(g)}}finally{this.options.autoSync=c}b.length&&this.trigger("push",{type:"create",items:b})},pushUpdate:function(a){S(a)||(a=[a]);for(var b=[],c=0;c<a.length;c++){var d=a[c],e=this._createNewModel(d),f=this.get(e.id);f?(b.push(f),f.accept(d),f.trigger(fa),this._updatePristineForModel(f,d)):this.pushCreate(d)}b.length&&this.trigger("push",{type:"update",items:b})},pushDestroy:function(a){var b=this._removeItems(a);b.length&&this.trigger("push",{type:"destroy",items:b})},_removeItems:function(a){S(a)||(a=[a]);var b=[],c=this.options.autoSync;this.options.autoSync=!1;try{for(var d=0;d<a.length;d++){var e=a[d],f=this._createNewModel(e),g=!1;this._eachItem(this._data,function(a){for(var c=0;c<a.length;c++){var d=a.at(c);if(d.id===f.id){b.push(d),a.splice(c,1),g=!0;break}}}),g&&(this._removePristineForModel(f),this._destroyed.pop())}}finally{this.options.autoSync=c}return b},remove:function(a){var b,c=this,d=c._isServerGrouped();return this._eachItem(c._data,function(e){if(b=B(e,a),b&&d)return b.isNew&&b.isNew()||c._destroyed.push(b),!0}),this._removeModelFromRanges(a),this._updateRangesLength(),a},destroyed:function(){return this._destroyed},created:function(){var a,b,c=[],d=this._flatData(this._data);for(a=0,b=d.length;a<b;a++)d[a].isNew&&d[a].isNew()&&c.push(d[a]);return c},updated:function(){var a,b,c=[],d=this._flatData(this._data);for(a=0,b=d.length;a<b;a++)d[a].isNew&&!d[a].isNew()&&d[a].dirty&&c.push(d[a]);return c},sync:function(){var b=this,c=[],d=[],e=b._destroyed,f=(b._flatData(b._data),a.Deferred().resolve().promise());if(b.online()){if(!b.reader.model)return f;c=b.created(),d=b.updated();var g=[];b.options.batch&&b.transport.submit?g=b._sendSubmit(c,d,e):(g.push.apply(g,b._send("create",c)),g.push.apply(g,b._send("update",d)),g.push.apply(g,b._send("destroy",e))),f=a.when.apply(null,g).then(function(){var a,c;for(a=0,c=arguments.length;a<c;a++)b._accept(arguments[a]);b._storeData(!0),b._change({action:"sync"}),b.trigger(ga)})}else b._storeData(!0),b._change({action:"sync"});return f},cancelChanges:function(a){var b=this;a instanceof X.data.Model?b._cancelModel(a):(b._destroyed=[],b._detachObservableParents(),b._data=b._observe(b._pristineData),b.options.serverPaging&&(b._total=b._pristineTotal),b._ranges=[],b._addRange(b._data),b._change())},hasChanges:function(){var a,b,c=this._flatData(this._data);if(this._destroyed.length)return!0;for(a=0,b=c.length;a<b;a++)if(c[a].isNew&&c[a].isNew()||c[a].dirty)return!0;return!1},_accept:function(b){var c,d=this,e=b.models,f=b.response,g=0,h=d._isServerGrouped(),i=d._pristineData,j=b.type;if(d.trigger(la,{response:f,type:j}),f&&!R(f)){if(f=d.reader.parse(f),d._handleCustomErrors(f))return;f=d.reader.data(f),S(f)||(f=[f])}else f=a.map(e,function(a){return a.toJSON()});for("destroy"===j&&(d._destroyed=[]),g=0,c=e.length;g<c;g++)"destroy"!==j?(e[g].accept(f[g]),"create"===j?i.push(h?C(d.group(),e[g]):f[g]):"update"===j&&d._updatePristineForModel(e[g],f[g])):d._removePristineForModel(e[g])},_updatePristineForModel:function(a,b){this._executeOnPristineForModel(a,function(a,c){X.deepExtend(c[a],b)})},_executeOnPristineForModel:function(a,b){this._eachPristineItem(function(c){var d=D(c,a);if(d>-1)return b(d,c),!0})},_removePristineForModel:function(a){this._executeOnPristineForModel(a,function(a,b){b.splice(a,1)})},_readData:function(a){var b=this._isServerGrouped()?this.reader.groups:this.reader.data;return b.call(this.reader,a)},_eachPristineItem:function(a){this._eachItem(this._pristineData,a)},_eachItem:function(a,b){a&&a.length&&(this._isServerGrouped()?x(a,b):b(a))},_pristineForModel:function(a){var b,c,d=function(d){if(c=D(d,a),c>-1)return b=d[c],!0};return this._eachPristineItem(d),b},_cancelModel:function(a){var b=this._pristineForModel(a);this._eachItem(this._data,function(c){var d=E(c,a);d>=0&&(!b||a.isNew()&&!b.__state__?c.splice(d,1):c[d].accept(b))})},_submit:function(b,c){var d=this;d.trigger(ja,{type:"submit"}),d.transport.submit(O({success:function(c,d){var e=a.grep(b,function(a){return a.type==d})[0];e&&e.resolve({response:c,models:e.models,type:d})},error:function(a,c,e){for(var f=0;f<b.length;f++)b[f].reject(a);d.error(a,c,e)}},c))},_sendSubmit:function(b,c,d){var e=this,f=[];return e.options.batch&&(b.length&&f.push(a.Deferred(function(a){a.type="create",a.models=b})),c.length&&f.push(a.Deferred(function(a){a.type="update",a.models=c})),d.length&&f.push(a.Deferred(function(a){a.type="destroy",a.models=d})),e._submit(f,{data:{created:e.reader.serialize(p(b)),updated:e.reader.serialize(p(c)),destroyed:e.reader.serialize(p(d))}})),f},_promise:function(b,c,d){var e=this;return a.Deferred(function(a){e.trigger(ja,{type:d}),e.transport[d].call(e.transport,O({success:function(b){a.resolve({response:b,models:c,type:d})},error:function(b,c,d){a.reject(b),e.error(b,c,d)}},b))}).promise()},_send:function(a,b){var c,d,e=this,f=[],g=e.reader.serialize(p(b));if(e.options.batch)b.length&&f.push(e._promise({data:{models:g}},b,a));else for(c=0,d=b.length;c<d;c++)f.push(e._promise({data:g[c]},[b[c]],a));return f},read:function(b){var c=this,d=c._params(b),e=a.Deferred();return c._queueRequest(d,function(){var a=c.trigger(ja,{type:"read"});a?(c._dequeueRequest(),e.resolve(a)):(c.trigger(ka),c._ranges=[],c.trigger("reset"),c.online()?c.transport.read({data:d,success:function(a){c.success(a),e.resolve()},error:function(){var a=wa.call(arguments);c.error.apply(c,a),e.reject.apply(e,a)}}):null!=c.options.offlineStorage&&(c.success(c.offlineData()),e.resolve()))}),e.promise()},_readAggregates:function(a){return this.reader.aggregates(a)},success:function(a){var b=this,c=b.options;if(b.trigger(la,{response:a,type:"read"}),b.online()){if(a=b.reader.parse(a),b._handleCustomErrors(a))return void b._dequeueRequest();b._total=b.reader.total(a),b._aggregate&&c.serverAggregates&&(b._aggregateResult=b._readAggregates(a)),a=b._readData(a)}else{a=b._readData(a);for(var d=[],e=0;e<a.length;e++){var f=a[e],g=f.__state__;"destroy"==g?this._destroyed.push(this._createNewModel(f)):d.push(f)}a=d,b._total=a.length}b._pristineTotal=b._total,b._pristineData=a.slice(0),b._detachObservableParents(),b._data=b._observe(a),null!=b.options.offlineStorage&&b._eachItem(b._data,function(a){for(var b=0;b<a.length;b++){var c=a.at(b);"update"==c.__state__&&(c.dirty=!0)}}),b._storeData(),b._addRange(b._data),b._process(b._data),b._dequeueRequest()},_detachObservableParents:function(){if(this._data&&this._shouldDetachObservableParents)for(var a=0;a<this._data.length;a++)this._data[a].parent&&(this._data[a].parent=W)},_storeData:function(a){function b(a){for(var e=[],f=0;f<a.length;f++){var g=a.at(f),h=g.toJSON();c&&g.items?h.items=b(g.items):(h.uid=g.uid,d&&(g.isNew()?h.__state__="create":g.dirty&&(h.__state__="update"))),e.push(h)}return e}var c=this._isServerGrouped(),d=this.reader.model;if(null!=this.options.offlineStorage){for(var e=b(this._data),f=0;f<this._destroyed.length;f++){var g=this._destroyed[f].toJSON();g.__state__="destroy",e.push(g)}this.offlineData(e),a&&(this._pristineData=e)}},_addRange:function(a){var b=this,c=b._skip||0,d=c+b._flatData(a,!0).length;b._ranges.push({start:c,end:d,data:a}),b._ranges.sort(function(a,b){return a.start-b.start})},error:function(a,b,c){this._dequeueRequest(),this.trigger(la,{}),this.trigger(ia,{xhr:a,status:b,errorThrown:c})},_params:function(a){var b=this,c=O({take:b.take(),skip:b.skip(),page:b.page(),pageSize:b.pageSize(),sort:b._sort,filter:b._filter,group:b._group,aggregate:b._aggregate},a);return b.options.serverPaging||(delete c.take,delete c.skip,delete c.page,delete c.pageSize),b.options.serverGrouping?b.reader.model&&c.group&&(c.group=I(c.group,b.reader.model)):delete c.group,b.options.serverFiltering?b.reader.model&&c.filter&&(c.filter=H(c.filter,b.reader.model)):delete c.filter,b.options.serverSorting?b.reader.model&&c.sort&&(c.sort=I(c.sort,b.reader.model)):delete c.sort,b.options.serverAggregates?b.reader.model&&c.aggregate&&(c.aggregate=I(c.aggregate,b.reader.model)):delete c.aggregate,c},_queueRequest:function(a,c){var d=this;d._requestInProgress?d._pending={callback:P(c,d),options:a}:(d._requestInProgress=!0,d._pending=b,c())},_dequeueRequest:function(){var a=this;a._requestInProgress=!1,a._pending&&a._queueRequest(a._pending.options,a._pending.callback)},_handleCustomErrors:function(a){if(this.reader.errors){var b=this.reader.errors(a);if(b)return this.trigger(ia,{xhr:null,status:"customerror",errorThrown:"custom error",errors:b}),!0}return!1},_shouldWrap:function(a){var b=this.reader.model;return!(!b||!a.length)&&!(a[0]instanceof b)},_observe:function(a){var b=this,c=b.reader.model;if(b._shouldDetachObservableParents=!0,a instanceof Da)b._shouldDetachObservableParents=!1,b._shouldWrap(a)&&(a.type=b.reader.model,a.wrapAll(a,a));else{var d=b.pageSize()&&!b.options.serverPaging?Ea:Da;a=new d(a,b.reader.model),a.parent=function(){return b.parent()}}return b._isServerGrouped()&&w(a,c),b._changeHandler&&b._data&&b._data instanceof Da?b._data.unbind(fa,b._changeHandler):b._changeHandler=P(b._change,b),a.bind(fa,b._changeHandler)},_change:function(a){var b,c,d=this,e=a?a.action:"";if("remove"===e)for(b=0,c=a.items.length;b<c;b++)a.items[b].isNew&&a.items[b].isNew()||d._destroyed.push(a.items[b]);if(!d.options.autoSync||"add"!==e&&"remove"!==e&&"itemchange"!==e){var f=parseInt(d._total,10);n(d._total)||(f=parseInt(d._pristineTotal,10)),"add"===e?f+=a.items.length:"remove"===e?f-=a.items.length:"itemchange"===e||"sync"===e||d.options.serverPaging?"sync"===e&&(f=d._pristineTotal=parseInt(d._total,10)):f=d._pristineTotal,d._total=f,d._process(d._data,a)}else d.sync()},_calculateAggregates:function(a,b){b=b||{};var c=new f(a),d=b.aggregate,e=b.filter;return e&&(c=c.filter(e)),c.aggregate(d)},_process:function(a,c){var d,e=this,f={};e.options.serverPaging!==!0&&(f.skip=e._skip,f.take=e._take||e._pageSize,f.skip===b&&e._page!==b&&e._pageSize!==b&&(f.skip=(e._page-1)*e._pageSize)),e.options.serverSorting!==!0&&(f.sort=e._sort),e.options.serverFiltering!==!0&&(f.filter=e._filter),e.options.serverGrouping!==!0&&(f.group=e._group),e.options.serverAggregates!==!0&&(f.aggregate=e._aggregate,e._aggregateResult=e._calculateAggregates(a,f)),d=e._queryProcess(a,f),e.view(d.data),d.total===b||e.options.serverFiltering||(e._total=d.total),c=c||{},c.items=c.items||e._view,e.trigger(fa,c)},_queryProcess:function(a,b){return f.process(a,b)},_mergeState:function(a){var c=this;return a!==b&&(c._pageSize=a.pageSize,c._page=a.page,c._sort=a.sort,c._filter=a.filter,c._group=a.group,c._aggregate=a.aggregate,c._skip=a.skip,c._take=a.take,c._skip===b&&(c._skip=c.skip(),a.skip=c.skip()),c._take===b&&c._pageSize!==b&&(c._take=c._pageSize,a.take=c._take),a.sort&&(c._sort=a.sort=g(a.sort)),a.filter&&(c._filter=a.filter=i(a.filter)),a.group&&(c._group=a.group=k(a.group)),a.aggregate&&(c._aggregate=a.aggregate=j(a.aggregate))),a},query:function(c){var d,e=this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates;if(e||(this._data===b||0===this._data.length)&&!this._destroyed.length)return this.read(this._mergeState(c));var f=this.trigger(ja,{type:"read"});return f||(this.trigger(ka),d=this._queryProcess(this._data,this._mergeState(c)),this.options.serverFiltering||(d.total!==b?this._total=d.total:this._total=this._data.length),this._aggregateResult=this._calculateAggregates(this._data,c),this.view(d.data),this.trigger(la,{type:"read"}),this.trigger(fa,{items:d.data})),a.Deferred().resolve(f).promise()},fetch:function(a){var b=this,c=function(c){c!==!0&&Y(a)&&a.call(b)};return this._query().then(c)},_query:function(a){var b=this;return b.query(O({},{page:b.page(),pageSize:b.pageSize(),sort:b.sort(),filter:b.filter(),group:b.group(),aggregate:b.aggregate()},a))},next:function(a){var b=this,c=b.page(),d=b.total();if(a=a||{},c&&!(d&&c+1>b.totalPages()))return b._skip=c*b.take(),c+=1,a.page=c,b._query(a),c},prev:function(a){var b=this,c=b.page();if(a=a||{},c&&1!==c)return b._skip=b._skip-b.take(),c-=1,a.page=c,b._query(a),c},page:function(a){var c,d=this;return a!==b?(a=qa.max(qa.min(qa.max(a,1),d.totalPages()),1),void d._query({page:a})):(c=d.skip(),c!==b?qa.round((c||0)/(d.take()||1))+1:b)},pageSize:function(a){var c=this;return a!==b?void c._query({pageSize:a,page:1}):c.take()},sort:function(a){var c=this;return a!==b?void c._query({sort:a}):c._sort},filter:function(a){var c=this;return a===b?c._filter:(c._query({filter:a,page:1}),void c.trigger("reset"))},group:function(a){var c=this;return a!==b?void c._query({group:a}):c._group},total:function(){return parseInt(this._total||0,10)},aggregate:function(a){var c=this;return a!==b?void c._query({aggregate:a}):c._aggregate},aggregates:function(){var a=this._aggregateResult;return R(a)&&(a=this._emptyAggregates(this.aggregate())),a},_emptyAggregates:function(a){var b={};if(!R(a)){var c={};S(a)||(a=[a]);for(var d=0;d<a.length;d++)c[a[d].aggregate]=0,b[a[d].field]=c}return b},totalPages:function(){var a=this,b=a.pageSize()||a.total();return qa.ceil((a.total()||0)/b)},inRange:function(a,b){var c=this,d=qa.min(a+b,c.total());return!c.options.serverPaging&&c._data.length>0||c._findRange(a,d).length>0},lastRange:function(){var a=this._ranges;return a[a.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var a=this._ranges;return a.length&&a[0].data.length&&a[0].data[0].uid},enableRequestsInProgress:function(){this._skipRequestsInProgress=!1},range:function(a,c){a=qa.min(a||0,this.total());var d,e=this,f=qa.max(qa.floor(a/c),0)*c,g=qa.min(f+c,e.total());if(e._skipRequestsInProgress=!1,d=e._findRange(a,qa.min(a+c,e.total())),d.length){e._skipRequestsInProgress=!0,e._pending=b,e._skip=a>e.skip()?qa.min(g,(e.totalPages()-1)*e.take()):f,e._take=c;var h=e.options.serverPaging,i=e.options.serverSorting,j=e.options.serverFiltering,k=e.options.serverAggregates;try{e.options.serverPaging=!0,e._isServerGrouped()||e.group()&&e.group().length||(e.options.serverSorting=!0),e.options.serverFiltering=!0,e.options.serverPaging=!0,e.options.serverAggregates=!0,h&&(e._detachObservableParents(),e._data=d=e._observe(d)),e._process(d)}finally{e.options.serverPaging=h,e.options.serverSorting=i,e.options.serverFiltering=j,e.options.serverAggregates=k}}else c!==b&&(e._rangeExists(f,g)?f<a&&e.prefetch(g,c,function(){e.range(a,c)}):e.prefetch(f,c,function(){a>f&&g<e.total()&&!e._rangeExists(g,qa.min(g+c,e.total()))?e.prefetch(g,c,function(){e.range(a,c)}):e.range(a,c)}))},_findRange:function(a,c){var d,e,f,h,i,j,l,m,n,o,p,q=this,r=q._ranges,s=[],t=q.options,u=t.serverSorting||t.serverPaging||t.serverFiltering||t.serverGrouping||t.serverAggregates;for(e=0,p=r.length;e<p;e++)if(d=r[e],a>=d.start&&a<=d.end){for(o=0,f=e;f<p;f++)if(d=r[f],n=q._flatData(d.data,!0),n.length&&a+o>=d.start){if(j=d.data,l=d.end,!u){var v=k(q.group()||[]).concat(g(q.sort()||[]));m=q._queryProcess(d.data,{sort:v,filter:q.filter()}),n=j=m.data,m.total!==b&&(l=m.total)}if(h=0,a+o>d.start&&(h=a+o-d.start),i=n.length,l>c&&(i-=l-c),o+=i-h,s=q._mergeGroups(s,j,h,i),c<=d.end&&o==c-a)return s}break}return[]},_mergeGroups:function(a,b,c,d){if(this._isServerGrouped()){var e,f=b.toJSON();return a.length&&(e=a[a.length-1]),u(e,f,c,d),a.concat(f)}return a.concat(b.slice(c,d))},skip:function(){var a=this;return a._skip===b?a._page!==b?(a._page-1)*(a.take()||1):b:a._skip},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(a,b,c,d){var e=this;return function(f){var g,h,i,j=!1,k={start:a,end:b,data:[]};if(e._dequeueRequest(),e.trigger(la,{response:f,type:"read"}),f=e.reader.parse(f),i=e._readData(f),i.length){for(g=0,h=e._ranges.length;g<h;g++)if(e._ranges[g].start===a){j=!0,k=e._ranges[g];break}j||e._ranges.push(k)}k.data=e._observe(i),k.end=k.start+e._flatData(k.data,!0).length,e._ranges.sort(function(a,b){return a.start-b.start}),e._total=e.reader.total(f),!d&&e._skipRequestsInProgress||(c&&i.length?c():e.trigger(fa,{}))}},prefetch:function(a,b,c){var d=this,e=qa.min(a+b,d.total()),f={take:b,skip:a,page:a/b+1,pageSize:b,sort:d._sort,filter:d._filter,group:d._group,aggregate:d._aggregate};d._rangeExists(a,e)?c&&c():(clearTimeout(d._timeout),d._timeout=setTimeout(function(){d._queueRequest(f,function(){d.trigger(ja,{type:"read"})?d._dequeueRequest():d.transport.read({data:d._params(f),success:d._prefetchSuccessHandler(a,e,c),error:function(){var a=wa.call(arguments);d.error.apply(d,a)}})})},100))},_multiplePrefetch:function(a,b,c){var d=this,e=qa.min(a+b,d.total()),f={take:b,skip:a,page:a/b+1,pageSize:b,sort:d._sort,filter:d._filter,group:d._group,aggregate:d._aggregate};d._rangeExists(a,e)?c&&c():d.trigger(ja,{type:"read"})||d.transport.read({data:d._params(f),success:d._prefetchSuccessHandler(a,e,c,!0)})},_rangeExists:function(a,b){var c,d,e=this,f=e._ranges;for(c=0,d=f.length;c<d;c++)if(f[c].start<=a&&f[c].end>=b)return!0;return!1},_removeModelFromRanges:function(a){for(var b,c,d,e=0,f=this._ranges.length;e<f&&(d=this._ranges[e],this._eachItem(d.data,function(d){b=B(d,a),b&&(c=!0)}),!c);e++);},_updateRangesLength:function(){for(var a,b,c=0,d=0,e=this._ranges.length;d<e;d++)a=this._ranges[d],a.start=a.start-c,b=this._flatData(a.data,!0).length,c=a.end-b,a.end=a.start+b}}),Ta={};Ta.create=function(a,b,c){var d,e=a.transport;return e?(e.read=typeof e.read===_?{url:e.read}:e.read,c&&(e.dataSource=c),a.type&&(X.data.transports=X.data.transports||{},X.data.schemas=X.data.schemas||{},X.data.transports[a.type]&&!Q(X.data.transports[a.type])?d=new X.data.transports[a.type](O(e,{data:b})):e=O(!0,{},X.data.transports[a.type],e),a.schema=O(!0,{},X.data.schemas[a.type],a.schema)),d||(d=Y(e.read)?e:new Pa(e))):d=new Oa({data:a.data||[]}),d},Sa.create=function(a){(S(a)||a instanceof Da)&&(a={data:a});var b,c,d,e=a||{},f=e.data,g=e.fields,h=e.table,i=e.select,j={};if(f||!g||e.transport||(h?f=K(h,g):i&&(f=J(i,g))),X.data.Model&&g&&(!e.schema||!e.schema.model)){for(b=0,c=g.length;b<c;b++)d=g[b],d.type&&(j[d.field]=d);R(j)||(e.schema=O(!0,e.schema,{model:{fields:j}}))}return e.data=f,h=null,e.table=null,e instanceof Sa?e:new Sa(e)};var Ua=Ia.define({idField:"id",init:function(a){var b=this,c=b.hasChildren||a&&a.hasChildren,d="items",e={};X.data.Model.fn.init.call(b,a),typeof b.children===_&&(d=b.children),e={schema:{data:d,model:{hasChildren:c,id:b.idField,fields:b.fields}}},typeof b.children!==_&&O(e,b.children),e.data=a,c||(c=e.schema.data),typeof c===_&&(c=X.getter(c)),Y(c)&&(b.hasChildren=!!c.call(b,b)),b._childrenOptions=e,b.hasChildren&&b._initChildren(),b._loaded=!(!a||!a[d]&&!a._loaded)},_initChildren:function(){var a,b,c,d=this;d.children instanceof Va||(a=d.children=new Va(d._childrenOptions),b=a.transport,c=b.parameterMap,b.parameterMap=function(a,b){return a[d.idField||"id"]=d.id,c&&(a=c(a,b)),a},a.parent=function(){return d},a.bind(fa,function(a){
a.node=a.node||d,d.trigger(fa,a)}),a.bind(ia,function(a){var b=d.parent();b&&(a.node=a.node||d,b.trigger(ia,a))}),d._updateChildrenField())},append:function(a){this._initChildren(),this.loaded(!0),this.children.add(a)},hasChildren:!1,level:function(){for(var a=this.parentNode(),b=0;a&&a.parentNode;)b++,a=a.parentNode?a.parentNode():null;return b},_updateChildrenField:function(){var a=this._childrenOptions.schema.data;this[a||"items"]=this.children.data()},_childrenLoaded:function(){this._loaded=!0,this._updateChildrenField()},load:function(){var c,d,e={},f="_query";return this.hasChildren?(this._initChildren(),c=this.children,e[this.idField||"id"]=this.id,this._loaded||(c._data=b,f="read"),c.one(fa,P(this._childrenLoaded,this)),d=c[f](e)):this.loaded(!0),d||a.Deferred().resolve().promise()},parentNode:function(){var a=this.parent();return a.parent()},loaded:function(a){return a===b?this._loaded:void(this._loaded=a)},shouldSerialize:function(a){return Ia.fn.shouldSerialize.call(this,a)&&"children"!==a&&"_loaded"!==a&&"hasChildren"!==a&&"_childrenOptions"!==a}}),Va=Sa.extend({init:function(a){var b=Ua.define({children:a});Sa.fn.init.call(this,O(!0,{},{schema:{modelBase:b,model:b}},a)),this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var a=this;a._data.bind(ia,function(b){a.trigger(ia,b)})},remove:function(a){var b,c=a.parentNode(),d=this;return c&&c._initChildren&&(d=c.children),b=Sa.fn.remove.call(d,a),c&&!d.data().length&&(c.hasChildren=!1),b},success:L("success"),data:L("data"),insert:function(a,b){var c=this.parent();return c&&c._initChildren&&(c.hasChildren=!0,c._initChildren()),Sa.fn.insert.call(this,a,b)},_find:function(a,b){var c,d,e,f,g;if(e=Sa.fn[a].call(this,b))return e;if(f=this._flatData(this._data))for(c=0,d=f.length;c<d;c++)if(g=f[c].children,g instanceof Va&&(e=g[a](b)))return e},get:function(a){return this._find("get",a)},getByUid:function(a){return this._find("getByUid",a)}});Va.create=function(a){a=a&&a.push?{data:a}:a;var b=a||{},c=b.data,d=b.fields,e=b.list;return c&&c._dataSource?c._dataSource:(c||!d||b.transport||e&&(c=M(e,d)),b.data=c,b instanceof Va?b:new Va(b))};var Wa=X.Observable.extend({init:function(a,b,c){X.Observable.fn.init.call(this),this._prefetching=!1,this.dataSource=a,this.prefetch=!c;var d=this;a.bind("change",function(){d._change()}),a.bind("reset",function(){d._reset()}),this._syncWithDataSource(),this.setViewSize(b)},setViewSize:function(a){this.viewSize=a,this._recalculate()},at:function(a){var b=this.pageSize,c=!0;return a>=this.total()?(this.trigger("endreached",{index:a}),null):this.useRanges?this.useRanges?((a<this.dataOffset||a>=this.skip+b)&&(c=this.range(Math.floor(a/b)*b)),a===this.prefetchThreshold&&this._prefetch(),a===this.midPageThreshold?this.range(this.nextMidRange,!0):a===this.nextPageThreshold?this.range(this.nextFullRange):a===this.pullBackThreshold&&(this.offset===this.skip?this.range(this.previousMidRange):this.range(this.previousFullRange)),c?this.dataSource.at(a-this.dataOffset):(this.trigger("endreached",{index:a}),null)):void 0:this.dataSource.view()[a]},indexOf:function(a){return this.dataSource.data().indexOf(a)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var a=this,b=a.pageSize,c=a.skip-a.viewSize+b,d=qa.max(qa.floor(c/b),0)*b;this.offset=c,this.dataSource.prefetch(d,b,function(){a._goToRange(c,!0)})},range:function(a,b){if(this.offset===a)return!0;var c=this,d=this.pageSize,e=qa.max(qa.floor(a/d),0)*d,f=this.dataSource;return b&&(e+=d),f.inRange(a,d)?(this.offset=a,this._recalculate(),this._goToRange(a),!0):!this.prefetch||(f.prefetch(e,d,function(){c.offset=a,c._recalculate(),c._goToRange(a,!0)}),!1)},syncDataSource:function(){var a=this.offset;this.offset=null,this.range(a)},destroy:function(){this.unbind()},_prefetch:function(){var a=this,b=this.pageSize,c=this.skip+b,d=this.dataSource;d.inRange(c,b)||this._prefetching||!this.prefetch||(this._prefetching=!0,this.trigger("prefetching",{skip:c,take:b}),d.prefetch(c,b,function(){a._prefetching=!1,a.trigger("prefetched",{skip:c,take:b})}))},_goToRange:function(a,b){this.offset===a&&(this.dataOffset=a,this._expanding=b,this.dataSource.range(a,this.pageSize),this.dataSource.enableRequestsInProgress())},_reset:function(){this._syncPending=!0},_change:function(){var a=this.dataSource;this.length=this.useRanges?a.lastRange().end:a.view().length,this._syncPending&&(this._syncWithDataSource(),this._recalculate(),this._syncPending=!1,this.trigger("reset",{offset:this.offset})),this.trigger("resize"),this._expanding&&this.trigger("expand"),delete this._expanding},_syncWithDataSource:function(){var a=this.dataSource;this._firstItemUid=a.firstItemUid(),this.dataOffset=this.offset=a.skip()||0,this.pageSize=a.pageSize(),this.useRanges=a.options.serverPaging},_recalculate:function(){var a=this.pageSize,b=this.offset,c=this.viewSize,d=Math.ceil(b/a)*a;this.skip=d,this.midPageThreshold=d+a-1,this.nextPageThreshold=d+c-1,this.prefetchThreshold=d+Math.floor(a/3*2),this.pullBackThreshold=this.offset-1,this.nextMidRange=d+a-c,this.nextFullRange=d,this.previousMidRange=b-c,this.previousFullRange=d-a}}),Xa=X.Observable.extend({init:function(a,b){var c=this;X.Observable.fn.init.call(c),this.dataSource=a,this.batchSize=b,this._total=0,this.buffer=new Wa(a,3*b),this.buffer.bind({endreached:function(a){c.trigger("endreached",{index:a.index})},prefetching:function(a){c.trigger("prefetching",{skip:a.skip,take:a.take})},prefetched:function(a){c.trigger("prefetched",{skip:a.skip,take:a.take})},reset:function(){c._total=0,c.trigger("reset")},resize:function(){c._total=Math.ceil(this.length/c.batchSize),c.trigger("resize",{total:c.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(a){var b,c=this.buffer,d=a*this.batchSize,e=this.batchSize,f=[];c.offset>d&&c.at(c.offset-1);for(var g=0;g<e&&(b=c.at(d+g),null!==b);g++)f.push(b);return f},total:function(){return this._total},destroy:function(){this.buffer.destroy(),this.unbind()}});O(!0,X.data,{readers:{json:Ra},Query:f,DataSource:Sa,HierarchicalDataSource:Va,Node:Ua,ObservableObject:Fa,ObservableArray:Da,LazyObservableArray:Ea,LocalTransport:Oa,RemoteTransport:Pa,Cache:Qa,DataReader:Ra,Model:Ia,Buffer:Wa,BatchBuffer:Xa})}(window.kendo.jQuery),function(a,b){function c(b,c){return b===c||a.contains(b,c)}var d=window.kendo,e=d.ui,f=e.Widget,g=d.support,h=d.getOffset,i=(d._activeElement,"open"),j="close",k="deactivate",l="activate",m="center",n="left",o="right",p="top",q="bottom",r="absolute",s="hidden",t="body",u="location",v="position",w="visible",x="effects",y="k-state-active",z="k-state-border",A=/k-state-border-(\w+)/,B=".k-picker-wrap, .k-dropdown-wrap, .k-link",C="down",D=a(document.documentElement),E=a(window),F="scroll",G="resize scroll",H=g.transitions.css,I=H+"transform",J=a.extend,K=".kendoPopup",L=["font-size","font-family","font-stretch","font-style","font-weight","line-height"],M=f.extend({init:function(b,c){var e,g=this;c=c||{},c.isRtl&&(c.origin=c.origin||q+" "+o,c.position=c.position||p+" "+o),f.fn.init.call(g,b,c),b=g.element,c=g.options,g.collisions=c.collision?c.collision.split(" "):[],g.downEvent=d.applyEventMap(C,d.guid()),1===g.collisions.length&&g.collisions.push(g.collisions[0]),e=a(g.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])"),c.appendTo=a(a(c.appendTo)[0]||e[0]||t),g.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!c.isRtl).css({position:r}).appendTo(c.appendTo).on("mouseenter"+K,function(){g._hovered=!0}).on("mouseleave"+K,function(){g._hovered=!1}),g.wrapper=a(),c.animation===!1&&(c.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),J(c.animation.open,{complete:function(){g.wrapper.css({overflow:w}),g._activated=!0,g._trigger(l)}}),J(c.animation.close,{complete:function(){g._animationClose()}}),g._mousedownProxy=function(a){g._mousedown(a)},g._resizeProxy=function(a){g._resize(a)},c.toggleTarget&&a(c.toggleTarget).on(c.toggleEvent+K,a.proxy(g.toggle,g))},events:[i,l,j,k],options:{name:"Popup",toggleEvent:"click",origin:q+" "+n,position:p+" "+n,anchor:t,appendTo:null,collision:"flip fit",viewport:window,copyAnchorStyles:!0,autosize:!1,modal:!1,adjustSize:{width:0,height:0},animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},_animationClose:function(){var b=this,c=b.options;b.wrapper.hide();var e,f,g=b.wrapper.data(u),h=a(c.anchor);g&&b.wrapper.css(g),c.anchor!=t&&(e=((h.attr("class")||"").match(A)||["","down"])[1],f=z+"-"+e,h.removeClass(f).children(B).removeClass(y).removeClass(f),b.element.removeClass(z+"-"+d.directions[e].reverse)),b._closing=!1,b._trigger(k)},destroy:function(){var b,c=this,e=c.options,g=c.element.off(K);f.fn.destroy.call(c),e.toggleTarget&&a(e.toggleTarget).off(K),e.modal||(D.unbind(c.downEvent,c._mousedownProxy),c._scrollableParents().unbind(F,c._resizeProxy),E.unbind(G,c._resizeProxy)),d.destroy(c.element.children()),g.removeData(),e.appendTo[0]===document.body&&(b=g.parent(".k-animation-container"),b[0]?b.remove():g.remove())},open:function(b,c){var e,f,h=this,j={isFixed:!isNaN(parseInt(c,10)),x:b,y:c},k=h.element,l=h.options,m="down",n=a(l.anchor),o=k[0]&&k.hasClass("km-widget");if(!h.visible()){if(l.copyAnchorStyles&&(o&&"font-size"==L[0]&&L.shift(),k.css(d.getComputedStyles(n[0],L))),k.data("animating")||h._trigger(i))return;if(h._activated=!1,l.modal||(D.unbind(h.downEvent,h._mousedownProxy).bind(h.downEvent,h._mousedownProxy),g.mobileOS.ios||g.mobileOS.android||(h._scrollableParents().unbind(F,h._resizeProxy).bind(F,h._resizeProxy),E.unbind(G,h._resizeProxy).bind(G,h._resizeProxy))),h.wrapper=f=d.wrap(k,l.autosize).css({overflow:s,display:"block",position:r}),g.mobileOS.android&&f.css(I,"translatez(0)"),f.css(v),a(l.appendTo)[0]==document.body&&f.css(p,"-10000px"),e=J(!0,{},l.animation.open),h.flipped=h._position(j),e.effects=d.parseEffects(e.effects,h.flipped),m=e.effects.slideIn?e.effects.slideIn.direction:m,l.anchor!=t){var q=z+"-"+m;k.addClass(z+"-"+d.directions[m].reverse),n.addClass(q).children(B).addClass(y).addClass(q)}k.data(x,e.effects).kendoStop(!0).kendoAnimate(e)}},position:function(){this.visible()&&this._position()},toggle:function(){var a=this;a[a.visible()?j:i]()},visible:function(){return this.element.is(":"+w)},close:function(b){var c,e,f,g,h=this,i=h.options;if(h.visible()){if(c=h.wrapper[0]?h.wrapper:d.wrap(h.element).hide(),h._closing||h._trigger(j))return;h.element.find(".k-popup").each(function(){var c=a(this),d=c.data("kendoPopup");d&&d.close(b)}),D.unbind(h.downEvent,h._mousedownProxy),h._scrollableParents().unbind(F,h._resizeProxy),E.unbind(G,h._resizeProxy),b?e={hide:!0,effects:{}}:(e=J(!0,{},i.animation.close),f=h.element.data(x),g=e.effects,!g&&!d.size(g)&&f&&d.size(f)&&(e.effects=f,e.reverse=!0),h._closing=!0),h.element.kendoStop(!0),c.css({overflow:s}),h.element.kendoAnimate(e)}},_trigger:function(a){return this.trigger(a,{type:a})},_resize:function(a){var b=this;"resize"===a.type?(clearTimeout(b._resizeTimeout),b._resizeTimeout=setTimeout(function(){b._position(),b._resizeTimeout=null},50)):(!b._hovered||b._activated&&b.element.hasClass("k-list-container"))&&b.close()},_mousedown:function(b){var e=this,f=e.element[0],g=e.options,h=a(g.anchor)[0],i=g.toggleTarget,j=d.eventTarget(b),k=a(j).closest(".k-popup"),l=k.parent().parent(".km-shim").length;k=k[0],!l&&k&&k!==e.element[0]||"popover"!==a(b.target).closest("a").data("rel")&&(c(f,j)||c(h,j)||i&&c(a(i)[0],j)||e.close())},_fit:function(a,b,c){var d=0;return a+b>c&&(d=c-(a+b)),a<0&&(d=-a),d},_flip:function(a,b,c,d,e,f,g){var h=0;return g=g||b,f!==e&&f!==m&&e!==m&&(a+g>d&&(h+=-(c+b)),a+h<0&&(h+=c+b)),h},_scrollableParents:function(){return a(this.options.anchor).parentsUntil("body").filter(function(a,b){var c=d.getComputedStyles(b,["overflow"]);return"visible"!=c.overflow})},_position:function(b){var c,e,f,i,j,k,l=this,m=l.element,n=l.wrapper,o=l.options,p=a(o.viewport),q=p.offset(),s=a(o.anchor),t=o.origin.toLowerCase().split(" "),w=o.position.toLowerCase().split(" "),x=l.collisions,y=g.zoomLevel(),z=10002,A=!!(p[0]==window&&window.innerWidth&&y<=1.02),B=0,C=document.documentElement;if(j=A?window.innerWidth:p.width(),k=A?window.innerHeight:p.height(),A&&C.scrollHeight-C.clientHeight>0&&(j-=d.support.scrollbar()),c=s.parents().filter(n.siblings()),c[0])if(f=Math.max(Number(c.css("zIndex")),0))z=f+10;else for(e=s.parentsUntil(c),i=e.length;B<i;B++)f=Number(a(e[B]).css("zIndex")),f&&z<f&&(z=f+10);n.css("zIndex",z),b&&b.isFixed?n.css({left:b.x,top:b.y}):n.css(l._align(t,w));var D=h(n,v,s[0]===n.offsetParent()[0]),E=h(n),F=s.offsetParent().parent(".k-animation-container,.k-popup,.k-group");F.length&&(D=h(n,v,!0),E=h(n)),p[0]===window?(E.top-=window.pageYOffset||document.documentElement.scrollTop||0,E.left-=window.pageXOffset||document.documentElement.scrollLeft||0):(E.top-=q.top,E.left-=q.left),l.wrapper.data(u)||n.data(u,J({},D));var G=J({},E),H=J({},D),I=o.adjustSize;"fit"===x[0]&&(H.top+=l._fit(G.top,n.outerHeight()+I.height,k/y)),"fit"===x[1]&&(H.left+=l._fit(G.left,n.outerWidth()+I.width,j/y));var K=J({},H);return"flip"===x[0]&&(H.top+=l._flip(G.top,m.outerHeight(),s.outerHeight(),k/y,t[0],w[0],n.outerHeight())),"flip"===x[1]&&(H.left+=l._flip(G.left,m.outerWidth(),s.outerWidth(),j/y,t[1],w[1],n.outerWidth())),m.css(v,r),n.css(H),H.left!=K.left||H.top!=K.top},_align:function(b,c){var d,e=this,f=e.wrapper,g=a(e.options.anchor),i=b[0],j=b[1],k=c[0],l=c[1],n=h(g),p=a(e.options.appendTo),r=f.outerWidth(),s=f.outerHeight(),t=g.outerWidth(),u=g.outerHeight(),v=n.top,w=n.left,x=Math.round;return p[0]!=document.body&&(d=h(p),v-=d.top,w-=d.left),i===q&&(v+=u),i===m&&(v+=x(u/2)),k===q&&(v-=s),k===m&&(v-=x(s/2)),j===o&&(w+=t),j===m&&(w+=x(t/2)),l===o&&(w-=r),l===m&&(w-=x(r/2)),{top:v,left:w}}});e.plugin(M)}(window.kendo.jQuery),function(a,b){function c(a,b){var c,d,e,f=b.length,g=[];for(d=0;d<a.length;d++)for(c=a[d],e=0;e<f;e++)c===b[e]&&g.push({index:d,item:c});return g}function d(b,c){var e,f=!1;return b.filters&&(e=a.grep(b.filters,function(a){return f=d(a,c),a.filters?a.filters.length:a.field!=c}),f||b.filters.length===e.length||(f=!0),b.filters=e),f}var e=window.kendo,f=e.ui,g=f.Widget,h=e.keys,i=e.support,j=e.htmlEncode,k=e._activeElement,l=e.data.ObservableArray,m="id",n="change",o="k-state-focused",p="k-state-hover",q="k-loading",r="open",s="close",t="select",u="selected",v="progress",w="requestEnd",x="width",y=a.extend,z=a.proxy,A=a.isArray,B=i.browser,C=B.msie&&B.version<9,D=/"/g,E={ComboBox:"DropDownList",DropDownList:"ComboBox"},F=e.ui.DataBoundWidget.extend({init:function(b,c){var d,e=this,f=e.ns;g.fn.init.call(e,b,c),b=e.element,c=e.options,e._isSelect=b.is(t),e._isSelect&&e.element[0].length&&(c.dataSource||(c.dataTextField=c.dataTextField||"text",c.dataValueField=c.dataValueField||"value")),e.ul=a('<ul unselectable="on" class="k-list k-reset"/>').attr({tabIndex:-1,"aria-hidden":!0}),e.list=a("<div class='k-list-container'/>").append(e.ul).on("mousedown"+f,z(e._listMousedown,e)),d=b.attr(m),d&&(e.list.attr(m,d+"-list"),e.ul.attr(m,d+"_listbox")),e._header(),e._accessors(),e._initValue()},options:{valuePrimitive:!1,headerTemplate:""},setOptions:function(a){g.fn.setOptions.call(this,a),a&&a.enable!==b&&(a.enabled=a.enable)},focus:function(){this._focused.focus()},readonly:function(a){this._editable({readonly:a===b||a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a=a===b||a)})},_listOptions:function(a){var b=this.options;return a=a||{},a={height:a.height||b.height,dataValueField:a.dataValueField||b.dataValueField,dataTextField:a.dataTextField||b.dataTextField,groupTemplate:a.groupTemplate||b.groupTemplate,fixedGroupTemplate:a.fixedGroupTemplate||b.fixedGroupTemplate,template:a.template||b.template},a.template||(a.template="#:"+e.expr(a.dataTextField,"data")+"#"),a},_initList:function(){var c=this,d=c.options,f=d.virtual,g=!!f,h=d.value,i=z(c._listBound,c),j={autoBind:!1,selectable:!0,dataSource:c.dataSource,click:z(c._click,c),change:z(c._listChange,c),activate:z(c._activateItem,c),deactivate:z(c._deactivateItem,c),dataBinding:function(){c.trigger("dataBinding"),c._angularItems("cleanup")},dataBound:i,listBound:i,selectedItemChange:z(c._listChange,c)};j=a.extend(c._listOptions(),j,"object"==typeof f?f:{}),g?c.listView=new e.ui.VirtualList(c.ul,j):(c.listView=new e.ui.StaticList(c.ul,j),c.listView.setTouchScroller(c._touchScroller)),h!==b&&c.listView.value(h).done(function(){var a=d.text;c.input&&c.selectedIndex===-1&&(a!==b&&null!==a||(a=h),c._accessor(h),c.input.val(a))})},_listMousedown:function(a){this.filterInput&&this.filterInput[0]===a.target||a.preventDefault()},_filterSource:function(a,b){var c=this,e=c.options,f=c.dataSource,g=y({},f.filter()||{}),h=d(g,e.dataTextField);(a||h)&&c.trigger("filtering",{filter:a})||(a&&(g=g.filters||[],g.push(a)),b?f.read(g):f.filter(g))},_header:function(){var b,c=this,d=c.options.headerTemplate;a.isFunction(d)&&(d=d({})),d&&(c.list.prepend(d),b=c.ul.prev(),c.header=b[0]?b:null,c.header&&c.angular("compile",function(){return{elements:c.header}}))},_initValue:function(){var a=this,b=a.options.value;null!==b?a.element.val(b):(b=a._accessor(),a.options.value=b),a._old=b},_ignoreCase:function(){var a,b=this,c=b.dataSource.reader.model;c&&c.fields&&(a=c.fields[b.options.dataTextField],a&&a.type&&"string"!==a.type&&(b.options.ignoreCase=!1))},_focus:function(a){return this.listView.focus(a)},current:function(a){return this._focus(a)},items:function(){return this.ul[0].children},destroy:function(){var a=this,b=a.ns;g.fn.destroy.call(a),a._unbindDataSource(),a.listView.destroy(),a.list.off(b),a._touchScroller&&a._touchScroller.destroy(),a.popup.destroy(),a._form&&a._form.off("reset",a._resetHandler)},dataItem:function(c){var d=this;return c===b?d.listView.selectedDataItems()[0]:("number"!=typeof c&&(c=a(d.items()).index(c)),d.dataSource.flatView()[c])},_activateItem:function(){var a=this.listView.focus();a&&this._focused.add(this.filterInput).attr("aria-activedescendant",a.attr("id"))},_deactivateItem:function(){this._focused.add(this.filterInput).removeAttr("aria-activedescendant")},_accessors:function(){var a=this,b=a.element,c=a.options,d=e.getter,f=b.attr(e.attr("text-field")),g=b.attr(e.attr("value-field"));!c.dataTextField&&f&&(c.dataTextField=f),!c.dataValueField&&g&&(c.dataValueField=g),a._text=d(c.dataTextField),a._value=d(c.dataValueField)},_aria:function(a){var c=this,d=c.options,e=c._focused.add(c.filterInput);d.suggest!==b&&e.attr("aria-autocomplete",d.suggest?"both":"list"),a=a?a+" "+c.ul[0].id:c.ul[0].id,e.attr("aria-owns",a),c.ul.attr("aria-live",d.filter&&"none"!==d.filter?"polite":"off")},_blur:function(){var a=this;a._change(),a.close()},_change:function(){var a,c=this,d=c.selectedIndex,e=c.options.value,f=c.value();c._isSelect&&!c.listView.isBound()&&e&&(f=e),f!==c._old?a=!0:d!==b&&d!==c._oldIndex&&(a=!0),a&&(c._old=f,c._oldIndex=d,c.element.trigger(n),c.trigger(n))},_data:function(){return this.dataSource.view()},_enable:function(){var a=this,c=a.options,d=a.element.is("[disabled]");c.enable!==b&&(c.enabled=c.enable),!c.enabled||d?a.enable(!1):a.readonly(a.element.is("[readonly]"))},_dataValue:function(a){var c=this._value(a);return c===b&&(c=this._text(a)),c},_height:function(a){var b,c,d=this,e=d.list,f=d.options.height,g=d.popup.visible();return a&&(c=e.add(e.parent(".k-animation-container")).show(),f=d.ul[0].scrollHeight>f?f:"auto",c.height(f),"auto"!==f&&(b=d.ul[0].offsetTop,b&&(f=e.height()-b)),d.ul.height(f),g||c.hide()),f},_adjustListWidth:function(){var a,b,c=this.list,d=c[0].style.width,e=this.wrapper;if(c.data(x)||!d)return a=window.getComputedStyle?window.getComputedStyle(e[0],null):0,b=a?parseFloat(a.width):e.outerWidth(),a&&B.msie&&(b+=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight)+parseFloat(a.borderLeftWidth)+parseFloat(a.borderRightWidth)),d="border-box"!==c.css("box-sizing")?b-(c.outerWidth()-c.width()):b,c.css({fontFamily:e.css("font-family"),width:d}).data(x,d),!0},_openHandler:function(a){this._adjustListWidth(),this.trigger(r)?a.preventDefault():(this._focused.attr("aria-expanded",!0),this.ul.attr("aria-hidden",!1))},_closeHandler:function(a){this.trigger(s)?a.preventDefault():(this._focused.attr("aria-expanded",!1),this.ul.attr("aria-hidden",!0))},_focusItem:function(){var a=this.listView,c=a.focus(),d=a.select();d=d[d.length-1],d===b&&this.options.highlightFirst&&!c&&(d=0),d!==b?a.focus(d):a.scrollToIndex(0)},_calculateGroupPadding:function(a){var b=this.ul,c=b.children(".k-first:first"),d=b.prev(".k-group-header"),f=0;d[0]&&"none"!==d[0].style.display&&("auto"!==a&&(f=e.support.scrollbar()),f+=parseFloat(c.css("border-right-width"),10)+parseFloat(c.children(".k-group").css("padding-right"),10),d.css("padding-right",f))},_firstOpen:function(){var a=this._height(this.dataSource.flatView().length);this._calculateGroupPadding(a)},_popup:function(){var a=this;a.popup=new f.Popup(a.list,y({},a.options.popup,{anchor:a.wrapper,open:z(a._openHandler,a),close:z(a._closeHandler,a),animation:a.options.animation,isRtl:i.isRtl(a.wrapper)})),a.options.virtual||a.popup.one(r,z(a._firstOpen,a)),a._touchScroller=e.touchScroller(a.popup.element)},_makeUnselectable:function(){C&&this.list.find("*").not(".k-textbox").attr("unselectable","on")},_toggleHover:function(b){a(b.currentTarget).toggleClass(p,"mouseenter"===b.type)},_toggle:function(a,c){var d=this,e=i.mobileOS&&(i.touch||i.MSPointers||i.pointers);a=a!==b?a:!d.popup.visible(),c||e||d._focused[0]===k()||(d._prevent=!0,d._focused.focus(),d._prevent=!1),d[a?r:s]()},_triggerCascade:function(){var a=this;a._cascadeTriggered&&a._old===a.value()&&a._oldIndex===a.selectedIndex||(a._cascadeTriggered=!0,a.trigger("cascade",{userTriggered:a._userTriggered}))},_unbindDataSource:function(){var a=this;a.dataSource.unbind(v,a._progressHandler).unbind(w,a._requestEndHandler).unbind("error",a._errorHandler)}});y(F,{inArray:function(a,b){var c,d,e=b.children;if(!a||a.parentNode!==b)return-1;for(c=0,d=e.length;c<d;c++)if(a===e[c])return c;return-1}}),e.ui.List=F,f.Select=F.extend({init:function(a,b){F.fn.init.call(this,a,b),this._initial=this.element.val()},setDataSource:function(a){var b,c=this;c.options.dataSource=a,c._dataSource(),c.listView.setDataSource(c.dataSource),c.options.autoBind&&c.dataSource.fetch(),b=c._parentWidget(),b&&b.trigger("cascade")},close:function(){this.popup.close()},select:function(a){var c=this;return a===b?c.selectedIndex:(c._select(a),c._old=c._accessor(),c._oldIndex=c.selectedIndex,void 0)},search:function(a){a="string"==typeof a?a:this.text();var b=this,c=a.length,d=b.options,e=d.ignoreCase,f=d.filter,g=d.dataTextField;clearTimeout(b._typing),(!c||c>=d.minLength)&&(b._state="filter",b.listView.filter(!0),"none"===f?b._filter(a):(b._open=!0,b._filterSource({value:e?a.toLowerCase():a,field:g,operator:f,ignoreCase:e})))},_accessor:function(a,b){return this[this._isSelect?"_accessorSelect":"_accessorInput"](a,b)},_accessorInput:function(a){var c=this.element[0];return a===b?c.value:void(c.value=a)},_accessorSelect:function(a,c){var d,e=this.element[0],f=e.selectedIndex;return a===b?(f>-1&&(d=e.options[f]),d&&(a=d.value),a||""):(f>-1&&e.options[f].removeAttribute(u),c===b&&(c=-1),""!==a&&c==-1?this._custom(a):(a?e.value=a:e.selectedIndex=c,e.selectedIndex>-1&&(d=e.options[e.selectedIndex]),d&&d.setAttribute(u,u)),void 0)},_custom:function(b){var c=this,d=c.element,e=c._customOption;e||(e=a("<option/>"),c._customOption=e,d.append(e)),e.text(b),e[0].setAttribute(u,u)},_hideBusy:function(){var a=this;clearTimeout(a._busy),a._arrow.removeClass(q),a._focused.attr("aria-busy",!1),a._busy=null},_showBusy:function(){var a=this;a._request=!0,a._busy||(a._busy=setTimeout(function(){a._arrow&&(a._focused.attr("aria-busy",!0),a._arrow.addClass(q))},100))},_requestEnd:function(){this._request=!1},_dataSource:function(){var b,c=this,d=c.element,f=c.options,g=f.dataSource||{};g=a.isArray(g)?{data:g}:g,c._isSelect&&(b=d[0].selectedIndex,b>-1&&(f.index=b),g.select=d,g.fields=[{field:f.dataTextField},{field:f.dataValueField}]),c.dataSource?c._unbindDataSource():(c._progressHandler=z(c._showBusy,c),c._requestEndHandler=z(c._requestEnd,c),c._errorHandler=z(c._hideBusy,c)),c.dataSource=e.data.DataSource.create(g).bind(v,c._progressHandler).bind(w,c._requestEndHandler).bind("error",c._errorHandler)},_firstItem:function(){this.listView.first()},_lastItem:function(){this.listView.last()},_nextItem:function(){this.listView.next()},_prevItem:function(){this.listView.prev()},_move:function(a){var b,c,d,e=this,f=a.keyCode,g=(e.ul[0],f===h.DOWN);if(f===h.UP||g){if(a.altKey)e.toggle(g);else{if(!e.listView.isBound())return e._fetch||(e.dataSource.one(n,function(){e._fetch=!1,e._move(a)}),e._fetch=!0,e._filterSource()),a.preventDefault(),!0;if(d=e._focus(),e._fetch||d&&!d.hasClass("k-state-selected")||(g?(e._nextItem(),e._focus()||e._lastItem()):(e._prevItem(),e._focus()||e._firstItem())),e.trigger(t,{item:e.listView.focus()}))return void e._focus(d);e._select(e._focus(),!0),e.popup.visible()||e._blur()}a.preventDefault(),c=!0}else if(f===h.ENTER||f===h.TAB){e.popup.visible()&&a.preventDefault(),d=e._focus(),b=e.dataItem(),e.popup.visible()||b&&e.text()===e._text(b)||(d=null);var i=e.filterInput&&e.filterInput[0]===k();if(d){if(e.trigger(t,{item:d}))return;e._select(d)}else e.input&&(e._accessor(e.input.val()),e.listView.value(e.input.val()));e._focusElement&&e._focusElement(e.wrapper),i&&f===h.TAB?e.wrapper.focusout():e._blur(),e.close(),c=!0}else f===h.ESC&&(e.popup.visible()&&a.preventDefault(),e.close(),c=!0);return c},_fetchData:function(){var a=this,b=!!a.dataSource.view().length;a.element[0].disabled||a._request||a.options.cascadeFrom||a.listView.isBound()||a._fetch||b||(a._fetch=!0,a.dataSource.fetch().done(function(){a._fetch=!1}))},_options:function(a,c,d){var e,f,g,h,i=this,k=i.element,l=a.length,m="",n=0;for(c&&(m=c);n<l;n++)e="<option",f=a[n],g=i._text(f),h=i._value(f),h!==b&&(h+="",h.indexOf('"')!==-1&&(h=h.replace(D,"&quot;")),e+=' value="'+h+'"'),e+=">",g!==b&&(e+=j(g)),e+="</option>",m+=e;k.html(m),d!==b&&(k[0].value=d)},_reset:function(){var b=this,c=b.element,d=c.attr("form"),e=d?a("#"+d):c.closest("form");e[0]&&(b._resetHandler=function(){setTimeout(function(){b.value(b._initial)})},b._form=e.on("reset",b._resetHandler))},_parentWidget:function(){var b=this.options.name,c=a("#"+this.options.cascadeFrom),d=c.data("kendo"+b);return d||(d=c.data("kendo"+E[b])),d},_cascade:function(){var a,b,c,e,f=this,g=f.options,h=g.cascadeFrom;if(h){if(c=f._parentWidget(),!c)return;g.autoBind=!1,b=g.cascadeFromField||c.options.dataValueField,e=function(){f.dataSource.unbind(n,e);var a=f._accessor();f._userTriggered?f._clearSelection(c,!0):a?(a!==f.listView.value()[0]&&f.value(a),f.dataSource.view()[0]&&f.selectedIndex!==-1||f._clearSelection(c,!0)):f.dataSource.flatView().length&&f.select(g.index),f.enable(),f._triggerCascade(),f._userTriggered=!1},a=function(){var a,g,h=c.dataItem(),i=h?c._value(h):null;if(i||0===i){a=f.dataSource.filter()||{},d(a,b),g=a.filters||[],g.push({field:b,operator:"eq",value:i});var j=function(){f.unbind("dataBound",j),e.apply(f,arguments)};f.first("dataBound",j),f.dataSource.filter(g)}else f.enable(!1),f._clearSelection(c),f._triggerCascade(),f._userTriggered=!1},c.first("cascade",function(b){f._userTriggered=b.userTriggered,a()}),c.listView.isBound()?a():c.value()||f.enable(!1)}}});var G=".StaticList",H=e.ui.DataBoundWidget.extend({init:function(b,c){g.fn.init.call(this,b,c),this.element.attr("role","listbox").css({overflow:i.kineticScrollNeeded?"":"auto"}).on("click"+G,"li",z(this._click,this)).on("mouseenter"+G,"li",function(){a(this).addClass(p)}).on("mouseleave"+G,"li",function(){a(this).removeClass(p)}),this.header=this.element.before('<div class="k-group-header" style="display:none"></div>').prev(),this._bound=!1,this._optionID=e.guid(),this._selectedIndices=[],this._view=[],this._dataItems=[],this._values=[];var d=this.options.value;d&&(this._values=a.isArray(d)?d.slice(0):[d]),this._getter(),this._templates(),this.setDataSource(this.options.dataSource),this._onScroll=z(function(){var a=this;clearTimeout(a._scrollId),a._scrollId=setTimeout(function(){a._renderHeader()},50)},this),this._fixedHeader()},options:{name:"StaticList",dataValueField:null,selectable:!0,template:null,groupTemplate:null,fixedGroupTemplate:null},events:["click","change","activate","deactivate","dataBinding","dataBound","selectedItemChange"],setDataSource:function(b){var c,d=this,f=b||{};f=a.isArray(f)?{data:f}:f,f=e.data.DataSource.create(f),d.dataSource?(d.dataSource.unbind(n,d._refreshHandler),c=d.value(),d.value([]),d._bound=!1,d.value(c)):d._refreshHandler=z(d.refresh,d),d.dataSource=f.bind(n,d._refreshHandler),d._fixedHeader()},setOptions:function(a){g.fn.setOptions.call(this,a),this._fixedHeader(),this._getter(),this._templates(),this._render()},destroy:function(){this.element.off(G),this._refreshHandler&&this.dataSource.unbind(n,this._refreshHandler),g.fn.destroy.call(this)},scrollToIndex:function(a){var b=this.element[0].children[a];b&&this.scroll(b)},_offsetHeight:function(){var b=0,c=this.element.prevAll();return c.each(function(){var c=a(this);c.is(":visible")&&(b+=c.hasClass("k-list-filter")?c.children().height():c.outerHeight())}),b},setTouchScroller:function(a){this._touchScroller=a},scroll:function(a){if(a){a[0]&&(a=a[0]);var b,c,d=this.element[0],e=a.offsetTop,f=a.offsetHeight,g=d.scrollTop,h=d.clientHeight,i=e+f,j=this._touchScroller;j?(b=j.dimensions.y,b.update(!0),b.enabled&&e>b.size&&(e=e-b.size+f+4,j.scrollTo(0,-e))):(c=this._offsetHeight(),g>e-c?g=e-c:i>g+h+c&&(g=i-h-c),d.scrollTop=g)}},selectedDataItems:function(c){var d=this._valueGetter;return c===b?this._dataItems.slice():(this._dataItems=c,void(this._values=a.map(c,function(a){return d(a)})))},next:function(){var a=this.focus();a=a?a.next():0,this.focus(a)},prev:function(){var a=this.focus();a=a?a.prev():this.element[0].children.length-1,this.focus(a)},first:function(){this.focus(this.element[0].children[0])},last:function(){this.focus(this.element[0].children[this.element[0].children.length-1])},focus:function(c){var d,e=this,f=e._optionID;return c===b?e._current:(c=e._get(c),c=c[c.length-1],c=a(this.element[0].children[c]),e._current&&(e._current.removeClass(o).removeAttr("aria-selected").removeAttr(m),e.trigger("deactivate")),d=!!c[0],d&&(c.addClass(o),e.scroll(c),c.attr("id",f)),e._current=d?c:null,void e.trigger("activate"))},filter:function(a,c){return a===b?this._filtered:void(this._filtered=a)},skipUpdate:function(a){this._skipUpdate=a},select:function(c){var d,e=this,f=e.options.selectable,g="multiple"!==f&&f!==!1,h=e._selectedIndices,i=[],j=[];if(c===b)return h.slice();if(c=e._get(c),1===c.length&&c[0]===-1&&(c=[]),!e._filtered||g||!e._deselectFiltered(c)){if(g&&!e._filtered&&a.inArray(c[c.length-1],h)!==-1)return void(e._dataItems.length&&e._view.length&&(e._dataItems=[e._view[h[0]].item]));d=e._deselect(c),j=d.removed,c=d.indices,c.length&&(g&&(c=[c[c.length-1]]),i=e._select(c)),(i.length||j.length)&&(e._valueComparer=null,e.trigger("change",{added:i,removed:j}))}},removeAt:function(a){return this._selectedIndices.splice(a,1),this._values.splice(a,1),{position:a,dataItem:this._dataItems.splice(a,1)[0]}},setValue:function(b){b=a.isArray(b)||b instanceof l?b.slice(0):[b],this._values=b,this._valueComparer=null},value:function(c){var d,e=this,f=e._valueDeferred;return c===b?e._values.slice():(e.setValue(c),f&&"resolved"!==f.state()||(e._valueDeferred=f=a.Deferred()),e.isBound()&&(d=e._valueIndices(e._values),"multiple"===e.options.selectable&&e.select(-1),e.select(d),f.resolve()),e._skipUpdate=!1,f)},_click:function(b){b.isDefaultPrevented()||this.trigger("click",{item:a(b.currentTarget)})},_valueExpr:function(a,c){var d,e=this,f=0,g="";if(!e._valueComparer||e._valueType!==a){for(e._valueType=a;f<c.length;f++){if(d=c[f],d===b||""===d)d='""';else if(null!==d)if("boolean"!==a&&"number"!==a||"object"==typeof d)d='"'+d+'"';else if("number"===a&&isNaN(d))continue;
g&&(g+=" else "),g+="if (value === "+d+") { return "+f+"; }"}g+=" return -1;",e._valueComparer=new Function("value",g)}return e._valueComparer},_dataItemPosition:function(a,b){var c=this._valueGetter(a),d=this._valueExpr(typeof c,b);return d(c)},_getter:function(){this._valueGetter=e.getter(this.options.dataValueField)},_deselect:function(b){var c,d,e,f=this,g=f.element[0].children,h=f.options.selectable,i=f._selectedIndices,j=f._dataItems,k=f._values,l=[],m=0,n=0;if(b=b.slice(),h!==!0&&b.length){if("multiple"===h)for(;m<b.length;m++)if(d=b[m],a(g[d]).hasClass("k-state-selected"))for(c=0;c<i.length;c++)if(e=i[c],e===d){a(g[e]).removeClass("k-state-selected"),l.push({position:c+n,dataItem:j.splice(c,1)[0]}),i.splice(c,1),b.splice(m,1),k.splice(c,1),n+=1,m-=1,c-=1;break}}else{for(;m<i.length;m++)a(g[i[m]]).removeClass("k-state-selected"),l.push({position:m,dataItem:j[m]});f._values=[],f._dataItems=[],f._selectedIndices=[]}return{indices:b,removed:l}},_deselectFiltered:function(b){for(var c,d,e,f=this.element[0].children,g=[],h=0;h<b.length;h++)d=b[h],c=this._view[d].item,e=this._dataItemPosition(c,this._values),e>-1&&(g.push(this.removeAt(e)),a(f[d]).removeClass("k-state-selected"));return!!g.length&&(this.trigger("change",{added:[],removed:g}),!0)},_select:function(b){var c,d,e=this,f=e.element[0].children,g=e._view,h=[],i=0;for(b[b.length-1]!==-1&&e.focus(b);i<b.length;i++)d=b[i],c=g[d],d!==-1&&c&&(c=c.item,e._selectedIndices.push(d),e._dataItems.push(c),e._values.push(e._valueGetter(c)),a(f[d]).addClass("k-state-selected").attr("aria-selected",!0),h.push({dataItem:c}));return h},_get:function(c){return"number"==typeof c?c=[c]:A(c)||(c=a(c).data("offset-index"),c===b&&(c=-1),c=[c]),c},_template:function(){var a=this,b=a.options,c=b.template;return c?(c=e.template(c),c=function(a){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+c(a)+"</li>"}):c=e.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+e.expr(b.dataTextField,"data")+"}</li>",{useWithBlock:!1}),c},_templates:function(){var a,b={template:this.options.template,groupTemplate:this.options.groupTemplate,fixedGroupTemplate:this.options.fixedGroupTemplate};for(var c in b)a=b[c],a&&"function"!=typeof a&&(b[c]=e.template(a));this.templates=b},_normalizeIndices:function(a){for(var c=[],d=0;d<a.length;d++)a[d]!==b&&c.push(a[d]);return c},_valueIndices:function(a,b){var c,d=this._view,e=0;if(b=b?b.slice():[],!a.length)return[];for(;e<d.length;e++)c=this._dataItemPosition(d[e].item,a),c!==-1&&(b[c]=e);return this._normalizeIndices(b)},_firstVisibleItem:function(){for(var b=this.element[0],c=b.scrollTop,d=a(b.children[0]).height(),e=Math.floor(c/d)||0,f=b.children[e]||b.lastChild,g=this._offsetHeight(),h=f.offsetTop-g<c;f;)if(h){if(f.offsetTop+d-g>c||!f.nextSibling)break;f=f.nextSibling}else{if(f.offsetTop-g<=c||!f.previousSibling)break;f=f.previousSibling}return this._view[a(f).data("offset-index")]},_fixedHeader:function(){this.dataSource.group().length&&this.templates.fixedGroupTemplate?(this.header.show(),this.element.scroll(this._onScroll)):(this.header.hide(),this.element.off("scroll",this._onScroll))},_renderHeader:function(){var a=this.templates.fixedGroupTemplate;if(a){var b=this._firstVisibleItem();b&&this.header.html(a(b.group))}},_renderItem:function(a){var b='<li tabindex="-1" role="option" unselectable="on" class="k-item',c=a.item,d=0!==a.index,e=a.selected;return d&&a.newGroup&&(b+=" k-first"),e&&(b+=" k-state-selected"),b+='"'+(e?' aria-selected="true"':"")+' data-offset-index="'+a.index+'">',b+=this.templates.template(c),d&&a.newGroup&&(b+='<div class="k-group">'+this.templates.groupTemplate(a.group)+"</div>"),b+"</li>"},_render:function(){var a,b,c,d,e="",f=0,g=0,h=[],i=this.dataSource.view(),j=this.value(),k=this.dataSource.group().length;if(k)for(f=0;f<i.length;f++)for(b=i[f],c=!0,d=0;d<b.items.length;d++)a={selected:this._selected(b.items[d],j),item:b.items[d],group:b.value,newGroup:c,index:g},h[g]=a,g+=1,e+=this._renderItem(a),c=!1;else for(f=0;f<i.length;f++)a={selected:this._selected(i[f],j),item:i[f],index:f},h[f]=a,e+=this._renderItem(a);this._view=h,this.element[0].innerHTML=e,k&&h.length&&this._renderHeader()},_selected:function(a,b){var c=!this._filtered||"multiple"===this.options.selectable;return c&&this._dataItemPosition(a,b)!==-1},refresh:function(a){var b,d=this,e=a&&a.action;d.trigger("dataBinding"),d._render(),d._bound=!0,"itemchange"===e?(b=c(d._dataItems,a.items),b.length&&d.trigger("selectedItemChange",{items:b})):d._filtered||d._skipUpdate?(d.focus(0),d._skipUpdate&&(d._skipUpdate=!1,d._selectedIndices=d._valueIndices(d._values,d._selectedIndices))):e&&"add"!==e||d.value(d._values),d._valueDeferred&&d._valueDeferred.resolve(),d.trigger("dataBound")},isBound:function(){return this._bound}});f.plugin(H)}(window.kendo.jQuery),function(a,b){function c(a){return parseInt(a,10)}function d(a,b){return c(a.css(b))}function e(a){var b=[];for(var c in a)b.push(c);return b}function f(a){for(var b in a)E.indexOf(b)!=-1&&F.indexOf(b)==-1&&delete a[b];return a}function g(a,b){var c,d,e,f,g=[],h={};for(d in b)c=d.toLowerCase(),f=t&&E.indexOf(c)!=-1,!r.hasHW3D&&f&&F.indexOf(c)==-1?delete b[d]:(e=b[d],f?g.push(d+"("+e+")"):h[d]=e);return g.length&&(h[X]=g.join(" ")),h}function h(a,b){if(t){var d=a.css(X);if(d==L)return"scale"==b?1:0;var e=d.match(new RegExp(b+"\\s*\\(([\\d\\w\\.]+)")),f=0;return e?f=c(e[1]):(e=d.match(y)||[0,0,0,0,0],b=b.toLowerCase(),A.test(b)?f=parseFloat(e[3]/e[2]):"translatey"==b?f=parseFloat(e[4]/e[2]):"scale"==b?f=parseFloat(e[2]):"rotate"==b&&(f=parseFloat(Math.atan2(e[2],e[1])))),f}return parseFloat(a.css(b))}function i(a){return a.charAt(0).toUpperCase()+a.substring(1)}function j(a,b){var c=da.extend(b),d=c.prototype.directions;n[i(a)]=c,n.Element.prototype[a]=function(a,b,d,e){return new c(this.element,a,b,d,e)},o(d,function(b,d){n.Element.prototype[a+i(d)]=function(a,b,e){return new c(this.element,d,a,b,e)}})}function k(a,b,c,d){j(a,{directions:fa,startValue:function(a){return this._startValue=a,this},endValue:function(a){return this._endValue=a,this},shouldHide:function(){return this._shouldHide},prepare:function(a,e){var f,g,h=this,i="out"===this._direction,j=h.element.data(b),k=!(isNaN(j)||j==c);f=k?j:"undefined"!=typeof this._startValue?this._startValue:i?c:d,g="undefined"!=typeof this._endValue?this._endValue:i?d:c,this._reverse?(a[b]=g,e[b]=f):(a[b]=f,e[b]=g),h._shouldHide=e[b]===d}})}function l(a,b){var c=m.directions[b].vertical,d=a[c?O:N]()/2+"px";return ha[b].replace("$size",d)}var m=window.kendo,n=m.effects,o=a.each,p=a.extend,q=a.proxy,r=m.support,s=r.browser,t=r.transforms,u=r.transitions,v={scale:0,scalex:0,scaley:0,scale3d:0},w={translate:0,translatex:0,translatey:0,translate3d:0},x="undefined"!=typeof document.documentElement.style.zoom&&!t,y=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,z=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,A=/translatex?$/i,B=/(zoom|fade|expand)(\w+)/,C=/(zoom|fade|expand)/,D=/[xy]$/i,E=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],F=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],G={rotate:"deg",scale:"",skew:"px",translate:"px"},H=t.css,I=Math.round,J="",K="px",L="none",M="auto",N="width",O="height",P="hidden",Q="origin",R="abortId",S="overflow",T="translate",U="position",V="completeCallback",W=H+"transition",X=H+"transform",Y=H+"backface-visibility",Z=H+"perspective",$="1500px",_="perspective("+$+")",aa=(r.mobileOS&&7==r.mobileOS.majorVersion,{left:{reverse:"right",property:"left",transition:"translatex",vertical:!1,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:!1,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:!0,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:!0,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}});if(m.directions=aa,p(a.fn,{kendoStop:function(a,b){return u?n.stopQueue(this,a||!1,b||!1):this.stop(a,b)}}),t&&!u){o(F,function(b,c){a.fn[c]=function(b){if("undefined"==typeof b)return h(this,c);var d=a(this)[0],e=c+"("+b+G[c.replace(D,"")]+")";return d.style.cssText.indexOf(X)==-1?a(this).css(X,e):d.style.cssText=d.style.cssText.replace(new RegExp(c+"\\(.*?\\)","i"),e),this},a.fx.step[c]=function(b){a(b.elem)[c](b.now)}});var ba=a.fx.prototype.cur;a.fx.prototype.cur=function(){return F.indexOf(this.prop)!=-1?parseFloat(a(this.elem)[this.prop]()):ba.apply(this,arguments)}}m.toggleClass=function(a,b,c,d){return b&&(b=b.split(" "),u&&(c=p({exclusive:"all",duration:400,ease:"ease-out"},c),a.css(W,c.exclusive+" "+c.duration+"ms "+c.ease),setTimeout(function(){a.css(W,"").css(O)},c.duration)),o(b,function(b,c){a.toggleClass(c,d)})),a},m.parseEffects=function(a,b){var c={};return"string"==typeof a?o(a.split(" "),function(a,d){var e=!C.test(d),f=d.replace(B,function(a,b,c){return b+":"+c.toLowerCase()}),g=f.split(":"),h=g[1],i={};g.length>1&&(i.direction=b&&e?aa[h].reverse:h),c[g[0]]=i}):o(a,function(a){var d=this.direction;d&&b&&!C.test(a)&&(this.direction=aa[d].reverse),c[a]=this}),c},u&&p(n,{transition:function(b,c,d){var f,h,i=0,j=b.data("keys")||[];d=p({duration:200,ease:"ease-out",complete:null,exclusive:"all"},d);var k=!1,l=function(){k||(k=!0,h&&(clearTimeout(h),h=null),b.removeData(R).dequeue().css(W,"").css(W),d.complete.call(b))};d.duration=a.fx?a.fx.speeds[d.duration]||d.duration:d.duration,f=g(b,c),a.merge(j,e(f)),b.data("keys",a.unique(j)).height(),b.css(W,d.exclusive+" "+d.duration+"ms "+d.ease).css(W),b.css(f).css(X),u.event&&(b.one(u.event,l),0!==d.duration&&(i=500)),h=setTimeout(l,d.duration+i),b.data(R,h),b.data(V,l)},stopQueue:function(a,b,c){var d,e=a.data("keys"),f=!c&&e,g=a.data(V);return f&&(d=m.getComputedStyles(a[0],e)),g&&g(),f&&a.css(d),a.removeData("keys").stop(b)}});var ca=m.Class.extend({init:function(a,b){var c=this;c.element=a,c.effects=[],c.options=b,c.restore=[]},run:function(b){var c,d,e,h,i,j,k=this,l=b.length,m=k.element,o=k.options,q=a.Deferred(),r={},s={};for(k.effects=b,q.then(a.proxy(k,"complete")),m.data("animating",!0),d=0;d<l;d++)for(c=b[d],c.setReverse(o.reverse),c.setOptions(o),k.addRestoreProperties(c.restore),c.prepare(r,s),i=c.children(),e=0,j=i.length;e<j;e++)i[e].duration(o.duration).run();for(var v in o.effects)p(s,o.effects[v].properties);for(m.is(":visible")||p(r,{display:m.data("olddisplay")||"block"}),t&&!o.reset&&(h=m.data("targetTransform"),h&&(r=p(h,r))),r=g(m,r),t&&!u&&(r=f(r)),m.css(r).css(X),d=0;d<l;d++)b[d].setup();return o.init&&o.init(),m.data("targetTransform",s),n.animate(m,s,p({},o,{complete:q.resolve})),q.promise()},stop:function(){a(this.element).kendoStop(!0,!0)},addRestoreProperties:function(a){for(var b,c=this.element,d=0,e=a.length;d<e;d++)b=a[d],this.restore.push(b),c.data(b)||c.data(b,c.css(b))},restoreCallback:function(){for(var a=this.element,b=0,c=this.restore.length;b<c;b++){var d=this.restore[b];a.css(d,a.data(d))}},complete:function(){var b=this,c=0,d=b.element,e=b.options,f=b.effects,g=f.length;for(d.removeData("animating").dequeue(),e.hide&&d.data("olddisplay",d.css("display")).hide(),this.restoreCallback(),x&&!t&&setTimeout(a.proxy(this,"restoreCallback"),0);c<g;c++)f[c].teardown();e.completeCallback&&e.completeCallback(d)}});n.promise=function(a,b){var c,d,e=[],f=new ca(a,b),g=m.parseEffects(b.effects);b.effects=g;for(var h in g)c=n[i(h)],c&&(d=new c(a,g[h].direction),e.push(d));e[0]?f.run(e):(a.is(":visible")||a.css({display:a.data("olddisplay")||"block"}).css("display"),b.init&&b.init(),a.dequeue(),f.complete())},p(n,{animate:function(c,e,g){var h=g.transition!==!1;delete g.transition,u&&"transition"in n&&h?n.transition(c,e,g):t?c.animate(f(e),{queue:!1,show:!1,hide:!1,duration:g.duration,complete:g.complete}):c.each(function(){var c=a(this),f={};o(E,function(a,g){var h,i=e?e[g]+" ":null;if(i){var j=e;if(g in v&&e[g]!==b)h=i.match(z),t&&p(j,{scale:+h[0]});else if(g in w&&e[g]!==b){var k=c.css(U),l="absolute"==k||"fixed"==k;c.data(T)||(l?c.data(T,{top:d(c,"top")||0,left:d(c,"left")||0,bottom:d(c,"bottom"),right:d(c,"right")}):c.data(T,{top:d(c,"marginTop")||0,left:d(c,"marginLeft")||0}));var m=c.data(T);if(h=i.match(z)){var n=g==T+"y"?0:+h[1],o=g==T+"y"?+h[1]:+h[2];l?(isNaN(m.right)?isNaN(n)||p(j,{left:m.left+n}):isNaN(n)||p(j,{right:m.right-n}),isNaN(m.bottom)?isNaN(o)||p(j,{top:m.top+o}):isNaN(o)||p(j,{bottom:m.bottom-o})):(isNaN(n)||p(j,{marginLeft:m.left+n}),isNaN(o)||p(j,{marginTop:m.top+o}))}}!t&&"scale"!=g&&g in j&&delete j[g],j&&p(f,j)}}),s.msie&&delete f.scale,c.animate(f,{queue:!1,show:!1,hide:!1,duration:g.duration,complete:g.complete})})}}),n.animatedPromise=n.promise;var da=m.Class.extend({init:function(a,b){var c=this;c.element=a,c._direction=b,c.options={},c._additionalEffects=[],c.restore||(c.restore=[])},reverse:function(){return this._reverse=!0,this.run()},play:function(){return this._reverse=!1,this.run()},add:function(a){return this._additionalEffects.push(a),this},direction:function(a){return this._direction=a,this},duration:function(a){return this._duration=a,this},compositeRun:function(){var a=this,b=new ca(a.element,{reverse:a._reverse,duration:a._duration}),c=a._additionalEffects.concat([a]);return b.run(c)},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var b,c,d=this,e=d.element,h=0,i=d.restore,j=i.length,k=a.Deferred(),l={},m={},o=d.children(),q=o.length;for(k.then(a.proxy(d,"_complete")),e.data("animating",!0),h=0;h<j;h++)b=i[h],e.data(b)||e.data(b,e.css(b));for(h=0;h<q;h++)o[h].duration(d._duration).run();return d.prepare(l,m),e.is(":visible")||p(l,{display:e.data("olddisplay")||"block"}),t&&(c=e.data("targetTransform"),c&&(l=p(c,l))),l=g(e,l),t&&!u&&(l=f(l)),e.css(l).css(X),d.setup(),e.data("targetTransform",m),n.animate(e,m,{duration:d._duration,complete:k.resolve}),k.promise()},stop:function(){var b=0,c=this.children(),d=c.length;for(b=0;b<d;b++)c[b].stop();return a(this.element).kendoStop(!0,!0),this},restoreCallback:function(){for(var a=this.element,b=0,c=this.restore.length;b<c;b++){var d=this.restore[b];a.css(d,a.data(d))}},_complete:function(){var b=this,c=b.element;c.removeData("animating").dequeue(),b.restoreCallback(),b.shouldHide()&&c.data("olddisplay",c.css("display")).hide(),x&&!t&&setTimeout(a.proxy(b,"restoreCallback"),0),b.teardown()},setOptions:function(a){p(!0,this.options,a)},children:function(){return[]},shouldHide:a.noop,setup:a.noop,prepare:a.noop,teardown:a.noop,directions:[],setReverse:function(a){return this._reverse=a,this}}),ea=["left","right","up","down"],fa=["in","out"];j("slideIn",{directions:ea,divisor:function(a){return this.options.divisor=a,this},prepare:function(a,b){var c,d=this,e=d.element,f=aa[d._direction],g=-f.modifier*(f.vertical?e.outerHeight():e.outerWidth()),h=g/(d.options&&d.options.divisor||1)+K,i="0px";d._reverse&&(c=a,a=b,b=c),t?(a[f.transition]=h,b[f.transition]=i):(a[f.property]=h,b[f.property]=i)}}),j("tile",{directions:ea,init:function(a,b,c){da.prototype.init.call(this,a,b),this.options={previous:c}},previousDivisor:function(a){return this.options.previousDivisor=a,this},children:function(){var a=this,b=a._reverse,c=a.options.previous,d=a.options.previousDivisor||1,e=a._direction,f=[m.fx(a.element).slideIn(e).setReverse(b)];return c&&f.push(m.fx(c).slideIn(aa[e].reverse).divisor(d).setReverse(!b)),f}}),k("fade","opacity",1,0),k("zoom","scale",1,.01),j("slideMargin",{prepare:function(a,b){var c,d=this,e=d.element,f=d.options,g=e.data(Q),h=f.offset,i=d._reverse;i||null!==g||e.data(Q,parseFloat(e.css("margin-"+f.axis))),c=e.data(Q)||0,b["margin-"+f.axis]=i?c:c+h}}),j("slideTo",{prepare:function(a,b){var c=this,d=c.element,e=c.options,f=e.offset.split(","),g=c._reverse;t?(b.translatex=g?0:f[0],b.translatey=g?0:f[1]):(b.left=g?0:f[0],b.top=g?0:f[1]),d.css("left")}}),j("expand",{directions:["horizontal","vertical"],restore:[S],prepare:function(a,c){var d=this,e=d.element,f=d.options,g=d._reverse,h="vertical"===d._direction?O:N,i=e[0].style[h],j=e.data(h),k=parseFloat(j||i),l=I(e.css(h,M)[h]());a.overflow=P,k=f&&f.reset?l||k:k||l,c[h]=(g?0:k)+K,a[h]=(g?k:0)+K,j===b&&e.data(h,i)},shouldHide:function(){return this._reverse},teardown:function(){var a=this,b=a.element,c="vertical"===a._direction?O:N,d=b.data(c);d!=M&&d!==J||setTimeout(function(){b.css(c,M).css(c)},0)}});var ga={position:"absolute",marginLeft:0,marginTop:0,scale:1};j("transfer",{init:function(a,b){this.element=a,this.options={target:b},this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(a,b){var c=this,d=c.element,e=n.box(d),f=n.box(c.options.target),g=h(d,"scale"),i=n.fillScale(f,e),j=n.transformOrigin(f,e);p(a,ga),b.scale=1,d.css(X,"scale(1)").css(X),d.css(X,"scale("+g+")"),a.top=e.top,a.left=e.left,a.transformOrigin=j.x+K+" "+j.y+K,c._reverse?a.scale=i:b.scale=i}});var ha={top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"},ia={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}};j("turningPage",{directions:ea,init:function(a,b,c){da.prototype.init.call(this,a,b),this._container=c},prepare:function(a,b){var c=this,d=c._reverse,e=d?aa[c._direction].reverse:c._direction,f=ia[e];a.zIndex=1,c._clipInHalf&&(a.clip=l(c._container,m.directions[e].reverse)),a[Y]=P,b[X]=_+(d?f.start:f.end),a[X]=_+(d?f.end:f.start)},setup:function(){this._container.append(this.element)},face:function(a){return this._face=a,this},shouldHide:function(){var a=this,b=a._reverse,c=a._face;return b&&!c||!b&&c},clipInHalf:function(a){return this._clipInHalf=a,this},temporary:function(){return this.element.addClass("temp-page"),this}}),j("staticPage",{directions:ea,init:function(a,b,c){da.prototype.init.call(this,a,b),this._container=c},restore:["clip"],prepare:function(a,b){var c=this,d=c._reverse?aa[c._direction].reverse:c._direction;a.clip=l(c._container,d),a.opacity=.999,b.opacity=1},shouldHide:function(){var a=this,b=a._reverse,c=a._face;return b&&!c||!b&&c},face:function(a){return this._face=a,this}}),j("pageturn",{directions:["horizontal","vertical"],init:function(a,b,c,d){da.prototype.init.call(this,a,b),this.options={},this.options.face=c,this.options.back=d},children:function(){var a,b=this,c=b.options,d="horizontal"===b._direction?"left":"top",e=m.directions[d].reverse,f=b._reverse,g=c.face.clone(!0).removeAttr("id"),h=c.back.clone(!0).removeAttr("id"),i=b.element;return f&&(a=d,d=e,e=a),[m.fx(c.face).staticPage(d,i).face(!0).setReverse(f),m.fx(c.back).staticPage(e,i).setReverse(f),m.fx(g).turningPage(d,i).face(!0).clipInHalf(!0).temporary().setReverse(f),m.fx(h).turningPage(e,i).clipInHalf(!0).temporary().setReverse(f)]},prepare:function(a,b){a[Z]=$,a.transformStyle="preserve-3d",a.opacity=.999,b.opacity=1},teardown:function(){this.element.find(".temp-page").remove()}}),j("flip",{directions:["horizontal","vertical"],init:function(a,b,c,d){da.prototype.init.call(this,a,b),this.options={},this.options.face=c,this.options.back=d},children:function(){var a,b=this,c=b.options,d="horizontal"===b._direction?"left":"top",e=m.directions[d].reverse,f=b._reverse,g=b.element;return f&&(a=d,d=e,e=a),[m.fx(c.face).turningPage(d,g).face(!0).setReverse(f),m.fx(c.back).turningPage(e,g).setReverse(f)]},prepare:function(a){a[Z]=$,a.transformStyle="preserve-3d"}});var ja=!r.mobileOS.android,ka=".km-touch-scrollbar, .km-actionsheet-wrapper";j("replace",{_before:a.noop,_after:a.noop,init:function(b,c,d){da.prototype.init.call(this,b),this._previous=a(c),this._transitionClass=d},duration:function(){throw new Error("The replace effect does not support duration setting; the effect duration may be customized through the transition class rule")},beforeTransition:function(a){return this._before=a,this},afterTransition:function(a){return this._after=a,this},_both:function(){return a().add(this._element).add(this._previous)},_containerClass:function(){var a=this._direction,b="k-fx k-fx-start k-fx-"+this._transitionClass;return a&&(b+=" k-fx-"+a),this._reverse&&(b+=" k-fx-reverse"),b},complete:function(b){if(!(!this.deferred||b&&a(b.target).is(ka))){var c=this.container;c.removeClass("k-fx-end").removeClass(this._containerClass()).off(u.event,this.completeProxy),this._previous.hide().removeClass("k-fx-current"),this.element.removeClass("k-fx-next"),ja&&c.css(S,""),this.isAbsolute||this._both().css(U,""),this.deferred.resolve(),delete this.deferred}},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var b,c=this,d=c.element,e=c._previous,f=d.parents().filter(e.parents()).first(),g=c._both(),h=a.Deferred(),i=d.css(U);return f.length||(f=d.parent()),this.container=f,this.deferred=h,this.isAbsolute="absolute"==i,this.isAbsolute||g.css(U,"absolute"),ja&&(b=f.css(S),f.css(S,"hidden")),u?(d.addClass("k-fx-hidden"),f.addClass(this._containerClass()),this.completeProxy=a.proxy(this,"complete"),f.on(u.event,this.completeProxy),m.animationFrame(function(){d.removeClass("k-fx-hidden").addClass("k-fx-next"),e.css("display","").addClass("k-fx-current"),c._before(e,d),m.animationFrame(function(){f.removeClass("k-fx-start").addClass("k-fx-end"),c._after(e,d)})})):this.complete(),h.promise()},stop:function(){this.complete()}});var la=m.Class.extend({init:function(){var a=this;a._tickProxy=q(a._tick,a),a._started=!1},tick:a.noop,done:a.noop,onEnd:a.noop,onCancel:a.noop,start:function(){this.enabled()&&(this.done()?this.onEnd():(this._started=!0,m.animationFrame(this._tickProxy)))},enabled:function(){return!0},cancel:function(){this._started=!1,this.onCancel()},_tick:function(){var a=this;a._started&&(a.tick(),a.done()?(a._started=!1,a.onEnd()):m.animationFrame(a._tickProxy))}}),ma=la.extend({init:function(a){var b=this;p(b,a),la.fn.init.call(b)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,new Date-this.startDate)},moveTo:function(a){var b=this,c=b.movable;b.initial=c[b.axis],b.delta=a.location-b.initial,b.duration="number"==typeof a.duration?a.duration:300,b.tick=b._easeProxy(a.ease),b.startDate=new Date,b.start()},_easeProxy:function(a){var b=this;return function(){b.movable.moveAxis(b.axis,a(b.timePassed(),b.initial,b.delta,b.duration))}}});p(ma,{easeOutExpo:function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},easeOutBack:function(a,b,c,d,e){return e=1.70158,c*((a=a/d-1)*a*((e+1)*a+e)+1)+b}}),n.Animation=la,n.Transition=ma,n.createEffect=j,n.box=function(b){b=a(b);var c=b.offset();return c.width=b.outerWidth(),c.height=b.outerHeight(),c},n.transformOrigin=function(a,b){var c=(a.left-b.left)*b.width/(b.width-a.width),d=(a.top-b.top)*b.height/(b.height-a.height);return{x:isNaN(c)?0:c,y:isNaN(d)?0:d}},n.fillScale=function(a,b){return Math.min(a.width/b.width,a.height/b.height)},n.fitScale=function(a,b){return Math.max(a.width/b.width,a.height/b.height)}}(window.kendo.jQuery),function(a,b){function c(a,b){var c=a.x.location,d=a.y.location,e=b.x.location,f=b.y.location,g=c-e,h=d-f;return{center:{x:(c+e)/2,y:(d+f)/2},distance:Math.sqrt(g*g+h*h)}}function d(a){var b,c,d,e=[],f=a.originalEvent,h=a.currentTarget,i=0;if(a.api)e.push({id:2,event:a,target:a.target,currentTarget:a.target,location:a,type:"api"});else if(a.type.match(/touch/))for(c=f?f.changedTouches:[],b=c.length;i<b;i++)d=c[i],e.push({location:d,event:a,target:d.target,currentTarget:h,id:d.identifier,type:"touch"});else g.pointers||g.msPointers?e.push({location:f,event:a,target:a.target,currentTarget:h,id:f.pointerId,type:"pointer"}):e.push({id:1,event:a,target:a.target,currentTarget:h,location:a,type:"mouse"});return e}function e(a){for(var b=f.eventMap.up.split(" "),c=0,d=b.length;c<d;c++)a(b[c])}var f=window.kendo,g=f.support,h=window.document,i=f.Class,j=f.Observable,k=a.now,l=a.extend,m=g.mobileOS,n=m&&m.android,o=800,p=g.browser.msie?5:0,q="press",r="hold",s="select",t="start",u="move",v="end",w="cancel",x="tap",y="release",z="gesturestart",A="gesturechange",B="gestureend",C="gesturetap",D={api:0,touch:0,mouse:9,pointer:9},E=!g.touch||g.mouseAndTouchPresent,F=i.extend({init:function(a,b){var c=this;c.axis=a,c._updateLocationData(b),c.startLocation=c.location,c.velocity=c.delta=0,c.timeStamp=k()},move:function(a){var b=this,c=a["page"+b.axis],d=k(),e=d-b.timeStamp||1;!c&&n||(b.delta=c-b.location,b._updateLocationData(a),b.initialDelta=c-b.startLocation,b.velocity=b.delta/e,b.timeStamp=d)},_updateLocationData:function(a){var b=this,c=b.axis;b.location=a["page"+c],b.client=a["client"+c],b.screen=a["screen"+c]}}),G=i.extend({init:function(a,b,c){l(this,{x:new F("X",c.location),y:new F("Y",c.location),type:c.type,threshold:a.threshold||D[c.type],userEvents:a,target:b,currentTarget:c.currentTarget,initialTouch:c.target,id:c.id,pressEvent:c,_moved:!1,_finished:!1})},press:function(){this._holdTimeout=setTimeout(a.proxy(this,"_hold"),this.userEvents.minHold),this._trigger(q,this.pressEvent)},_hold:function(){this._trigger(r,this.pressEvent)},move:function(a){var b=this;if(!b._finished){if(b.x.move(a.location),b.y.move(a.location),!b._moved){if(b._withinIgnoreThreshold())return;if(H.current&&H.current!==b.userEvents)return b.dispose();b._start(a)}b._finished||b._trigger(u,a)}},end:function(a){var b=this;b.endTime=k(),b._finished||(b._finished=!0,b._trigger(y,a),b._moved?b._trigger(v,a):b._trigger(x,a),clearTimeout(b._holdTimeout),b.dispose())},dispose:function(){var b=this.userEvents,c=b.touches;this._finished=!0,this.pressEvent=null,clearTimeout(this._holdTimeout),c.splice(a.inArray(this,c),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(a){clearTimeout(this._holdTimeout),this.startTime=k(),this._moved=!0,this._trigger(t,a)},_trigger:function(a,b){var c=this,d=b.event,e={touch:c,x:c.x,y:c.y,target:c.target,event:d};c.userEvents.notify(a,e)&&d.preventDefault()},_withinIgnoreThreshold:function(){var a=this.x.initialDelta,b=this.y.initialDelta;return Math.sqrt(a*a+b*b)<=this.threshold}}),H=j.extend({init:function(b,c){var d,i=this,k=f.guid();if(c=c||{},d=i.filter=c.filter,i.threshold=c.threshold||p,i.minHold=c.minHold||o,i.touches=[],i._maxTouches=c.multiTouch?2:1,i.allowSelection=c.allowSelection,i.captureUpIfMoved=c.captureUpIfMoved,i.eventNS=k,b=a(b).handler(i),j.fn.init.call(i),l(i,{element:b,surface:a(c.global&&E?h.documentElement:c.surface||b),stopPropagation:c.stopPropagation,pressed:!1}),i.surface.handler(i).on(f.applyEventMap("move",k),"_move").on(f.applyEventMap("up cancel",k),"_end"),b.on(f.applyEventMap("down",k),d,"_start"),(g.pointers||g.msPointers)&&b.css("-ms-touch-action","pinch-zoom double-tap-zoom"),c.preventDragEvent&&b.on(f.applyEventMap("dragstart",k),f.preventDefault),b.on(f.applyEventMap("mousedown",k),d,{root:b},"_select"),i.captureUpIfMoved&&g.eventCapture){var m=i.surface[0],n=a.proxy(i.preventIfMoving,i);e(function(a){m.addEventListener(a,n,!0)})}i.bind([q,r,x,t,u,v,y,w,z,A,B,C,s],c)},preventIfMoving:function(a){this._isMoved()&&a.preventDefault()},destroy:function(){var a=this;if(!a._destroyed){if(a._destroyed=!0,a.captureUpIfMoved&&g.eventCapture){var b=a.surface[0];e(function(c){b.removeEventListener(c,a.preventIfMoving)})}a.element.kendoDestroy(a.eventNS),a.surface.kendoDestroy(a.eventNS),a.element.removeData("handler"),a.surface.removeData("handler"),a._disposeAll(),a.unbind(),delete a.surface,delete a.element,delete a.currentTarget}},capture:function(){H.current=this},cancel:function(){this._disposeAll(),this.trigger(w)},notify:function(a,b){var d=this,e=d.touches;if(this._isMultiTouch()){switch(a){case u:a=A;break;case v:a=B;break;case x:a=C}l(b,{touches:e},c(e[0],e[1]))}return this.trigger(a,l(b,{type:a}))},press:function(a,b,c){this._apiCall("_start",a,b,c)},move:function(a,b){this._apiCall("_move",a,b)},end:function(a,b){this._apiCall("_end",a,b)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){for(var a=this.touches;a.length>0;)a.pop().dispose()},_isMoved:function(){return a.grep(this.touches,function(a){return a.isMoved()}).length},_select:function(a){this.allowSelection&&!this.trigger(s,{event:a})||a.preventDefault()},_start:function(b){var c,e,f=this,g=0,h=f.filter,i=d(b),j=i.length,k=b.which;if(!(k&&k>1||f._maxTouchesReached()))for(H.current=null,f.currentTarget=b.currentTarget,f.stopPropagation&&b.stopPropagation();g<j&&!f._maxTouchesReached();g++)e=i[g],c=h?a(e.currentTarget):f.element,c.length&&(e=new G(f,c,e),f.touches.push(e),e.press(),f._isMultiTouch()&&f.notify("gesturestart",{}))},_move:function(a){this._eachTouch("move",a)},_end:function(a){this._eachTouch("end",a)},_eachTouch:function(a,b){var c,e,f,g,h=this,i={},j=d(b),k=h.touches;for(c=0;c<k.length;c++)e=k[c],i[e.id]=e;for(c=0;c<j.length;c++)f=j[c],g=i[f.id],g&&g[a](f)},_apiCall:function(b,c,d,e){this[b]({api:!0,pageX:c,pageY:d,clientX:c,clientY:d,target:a(e||this.element)[0],stopPropagation:a.noop,preventDefault:a.noop})}});H.defaultThreshold=function(a){p=a},H.minHold=function(a){o=a},f.getTouches=d,f.touchDelta=c,f.UserEvents=H}(window.kendo.jQuery),function(a,b){function c(b,c){try{return a.contains(b,c)||b==c}catch(d){return!1}}function d(a,b){return parseInt(a.css(b),10)||0}function e(a,b){return Math.min(Math.max(a,b.min),b.max)}function f(a,b){var c=t(a),e=c.left+d(a,"borderLeftWidth")+d(a,"paddingLeft"),f=c.top+d(a,"borderTopWidth")+d(a,"paddingTop"),g=e+a.width()-b.outerWidth(!0),h=f+a.height()-b.outerHeight(!0);return{x:{min:e,max:g},y:{min:f,max:h}}}function g(c,d,e){for(var f,g,h=0,i=d&&d.length,j=e&&e.length;c&&c.parentNode;){for(h=0;h<i;h++)if(f=d[h],f.element[0]===c)return{target:f,targetElement:c};for(h=0;h<j;h++)if(g=e[h],a.contains(g.element[0],c)&&l.matchesSelector.call(c,g.options.filter))return{target:g,targetElement:c};c=c.parentNode}return b}function h(a,b){var c,d=b.options.group,e=a[d];if(o.fn.destroy.call(b),e.length>1){for(c=0;c<e.length;c++)if(e[c]==b){e.splice(c,1);break}}else e.length=0,delete a[d]}var i,j,k=window.kendo,l=k.support,m=window.document,n=k.Class,o=k.ui.Widget,p=k.Observable,q=k.UserEvents,r=a.proxy,s=a.extend,t=k.getOffset,u={},v={},w={},x=k.elementUnderCursor,y="keyup",z="change",A="dragstart",B="hold",C="drag",D="dragend",E="dragcancel",F="hintDestroyed",G="dragenter",H="dragleave",I="drop",J=p.extend({init:function(b,c){var d=this,e=b[0];d.capture=!1,e.addEventListener?(a.each(k.eventMap.down.split(" "),function(){e.addEventListener(this,r(d._press,d),!0)}),a.each(k.eventMap.up.split(" "),function(){e.addEventListener(this,r(d._release,d),!0)})):(a.each(k.eventMap.down.split(" "),function(){e.attachEvent(this,r(d._press,d))}),a.each(k.eventMap.up.split(" "),function(){e.attachEvent(this,r(d._release,d))})),p.fn.init.call(d),d.bind(["press","release"],c||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1},_press:function(a){var b=this;b.trigger("press"),b.capture&&a.preventDefault()},_release:function(a){var b=this;b.trigger("release"),b.capture&&(a.preventDefault(),b.cancelCapture())}}),K=p.extend({init:function(b){var c=this;p.fn.init.call(c),c.forcedEnabled=!1,a.extend(c,b),c.scale=1,c.horizontal?(c.measure="offsetWidth",c.scrollSize="scrollWidth",c.axis="x"):(c.measure="offsetHeight",c.scrollSize="scrollHeight",c.axis="y")},makeVirtual:function(){a.extend(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})},virtualSize:function(a,b){
this._virtualMin===a&&this._virtualMax===b||(this._virtualMin=a,this._virtualMax=b,this.update())},outOfBounds:function(a){return a>this.max||a<this.min},forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(a){this.scale=a},update:function(a){var b=this,c=b.virtual?b._virtualMax:b.getTotal(),d=c*b.scale,e=b.getSize();(0!==c||b.forcedEnabled)&&(b.max=b.virtual?-b._virtualMin:0,b.size=e,b.total=d,b.min=Math.min(b.max,e-d),b.minScale=e/c,b.centerOffset=(d-e)/2,b.enabled=b.forcedEnabled||d>e,a||b.trigger(z,b))}}),L=p.extend({init:function(a){var b=this;p.fn.init.call(b),b.x=new K(s({horizontal:!0},a)),b.y=new K(s({horizontal:!1},a)),b.container=a.container,b.forcedMinScale=a.minScale,b.maxScale=a.maxScale||100,b.bind(z,a)},rescale:function(a){this.x.rescale(a),this.y.rescale(a),this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var a=this;a.x.update(),a.y.update(),a.enabled=a.x.enabled||a.y.enabled,a.minScale=a.forcedMinScale||Math.min(a.x.minScale,a.y.minScale),a.fitScale=Math.max(a.x.minScale,a.y.minScale),a.trigger(z)}}),M=p.extend({init:function(a){var b=this;s(b,a),p.fn.init.call(b)},outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},dragMove:function(a){var b=this,c=b.dimension,d=b.axis,e=b.movable,f=e[d]+a;c.enabled&&((f<c.min&&a<0||f>c.max&&a>0)&&(a*=b.resistance),e.translateAxis(d,a),b.trigger(z,b))}}),N=n.extend({init:function(a){var b,c,d,e,f=this;s(f,{elastic:!0},a),d=f.elastic?.5:0,e=f.movable,f.x=b=new M({axis:"x",dimension:f.dimensions.x,resistance:d,movable:e}),f.y=c=new M({axis:"y",dimension:f.dimensions.y,resistance:d,movable:e}),f.userEvents.bind(["move","end","gesturestart","gesturechange"],{gesturestart:function(a){f.gesture=a,f.offset=f.dimensions.container.offset()},gesturechange:function(a){var d,g=f.gesture,h=g.center,i=a.center,j=a.distance/g.distance,k=f.dimensions.minScale,l=f.dimensions.maxScale;e.scale<=k&&j<1&&(j+=.8*(1-j)),e.scale*j>=l&&(j=l/e.scale);var m=e.x+f.offset.left,n=e.y+f.offset.top;d={x:(m-h.x)*j+i.x-m,y:(n-h.y)*j+i.y-n},e.scaleWith(j),b.dragMove(d.x),c.dragMove(d.y),f.dimensions.rescale(e.scale),f.gesture=a,a.preventDefault()},move:function(a){a.event.target.tagName.match(/textarea|input/i)||(b.dimension.enabled||c.dimension.enabled?(b.dragMove(a.x.delta),c.dragMove(a.y.delta),a.preventDefault()):a.touch.skip())},end:function(a){a.preventDefault()}})}}),O=l.transitions.prefix+"Transform";j=l.hasHW3D?function(a,b,c){return"translate3d("+a+"px,"+b+"px,0) scale("+c+")"}:function(a,b,c){return"translate("+a+"px,"+b+"px) scale("+c+")"};var P=p.extend({init:function(b){var c=this;p.fn.init.call(c),c.element=a(b),c.element[0].style.webkitTransformOrigin="left top",c.x=0,c.y=0,c.scale=1,c._saveCoordinates(j(c.x,c.y,c.scale))},translateAxis:function(a,b){this[a]+=b,this.refresh()},scaleTo:function(a){this.scale=a,this.refresh()},scaleWith:function(a){this.scale*=a,this.refresh()},translate:function(a){this.x+=a.x,this.y+=a.y,this.refresh()},moveAxis:function(a,b){this[a]=b,this.refresh()},moveTo:function(a){s(this,a),this.refresh()},refresh:function(){var a,b=this,c=b.x,d=b.y;b.round&&(c=Math.round(c),d=Math.round(d)),a=j(c,d,b.scale),a!=b.coordinates&&(k.support.browser.msie&&k.support.browser.version<10?(b.element[0].style.position="absolute",b.element[0].style.left=b.x+"px",b.element[0].style.top=b.y+"px"):b.element[0].style[O]=a,b._saveCoordinates(a),b.trigger(z))},_saveCoordinates:function(a){this.coordinates=a}}),Q=o.extend({init:function(a,b){var c=this;o.fn.init.call(c,a,b);var d=c.options.group;d in v?v[d].push(c):v[d]=[c]},events:[G,H,I],options:{name:"DropTarget",group:"default"},destroy:function(){h(v,this)},_trigger:function(a,b){var c=this,d=u[c.options.group];if(d)return c.trigger(a,s({},b.event,{draggable:d,dropTarget:b.dropTarget}))},_over:function(a){this._trigger(G,a)},_out:function(a){this._trigger(H,a)},_drop:function(a){var b=this,c=u[b.options.group];c&&(c.dropped=!b._trigger(I,a))}});Q.destroyGroup=function(a){var b,c=v[a]||w[a];if(c){for(b=0;b<c.length;b++)o.fn.destroy.call(c[b]);c.length=0,delete v[a],delete w[a]}},Q._cache=v;var R=Q.extend({init:function(a,b){var c=this;o.fn.init.call(c,a,b);var d=c.options.group;d in w?w[d].push(c):w[d]=[c]},destroy:function(){h(w,this)},options:{name:"DropTargetArea",group:"default",filter:null}}),S=o.extend({init:function(a,b){var c=this;o.fn.init.call(c,a,b),c._activated=!1,c.userEvents=new q(c.element,{global:!0,allowSelection:!0,filter:c.options.filter,threshold:c.options.distance,start:r(c._start,c),hold:r(c._hold,c),move:r(c._drag,c),end:r(c._end,c),cancel:r(c._cancel,c),select:r(c._select,c)}),c._afterEndHandler=r(c._afterEnd,c),c._captureEscape=r(c._captureEscape,c)},events:[B,A,C,D,E,F],options:{name:"Draggable",distance:k.support.touch?0:5,group:"default",cursorOffset:null,axis:null,container:null,filter:null,ignore:null,holdToDrag:!1,dropped:!1},cancelHold:function(){this._activated=!1},_captureEscape:function(a){var b=this;a.keyCode===k.keys.ESC&&(b._trigger(E,{event:a}),b.userEvents.cancel())},_updateHint:function(b){var c,d=this,f=d.options,g=d.boundaries,h=f.axis,i=d.options.cursorOffset;i?c={left:b.x.location+i.left,top:b.y.location+i.top}:(d.hintOffset.left+=b.x.delta,d.hintOffset.top+=b.y.delta,c=a.extend({},d.hintOffset)),g&&(c.top=e(c.top,g.y),c.left=e(c.left,g.x)),"x"===h?delete c.top:"y"===h&&delete c.left,d.hint.css(c)},_shouldIgnoreTarget:function(b){var c=this.options.ignore;return c&&a(b).is(c)},_select:function(a){this._shouldIgnoreTarget(a.event.target)||a.preventDefault()},_start:function(b){var c=this,d=c.options,e=d.container,g=d.hint;if(this._shouldIgnoreTarget(b.touch.initialTouch)||d.holdToDrag&&!c._activated)return void c.userEvents.cancel();if(c.currentTarget=b.target,c.currentTargetOffset=t(c.currentTarget),g){c.hint&&c.hint.stop(!0,!0).remove(),c.hint=k.isFunction(g)?a(g.call(c,c.currentTarget)):g;var h=t(c.currentTarget);c.hintOffset=h,c.hint.css({position:"absolute",zIndex:2e4,left:h.left,top:h.top}).appendTo(m.body),c.angular("compile",function(){c.hint.removeAttr("ng-repeat");for(var d=a(b.target);!d.data("$$kendoScope")&&d.length;)d=d.parent();return{elements:c.hint.get(),scopeFrom:d.data("$$kendoScope")}})}u[d.group]=c,c.dropped=!1,e&&(c.boundaries=f(e,c.hint)),c._trigger(A,b)&&(c.userEvents.cancel(),c._afterEnd()),c.userEvents.capture(),a(m).on(y,c._captureEscape)},_hold:function(a){this.currentTarget=a.target,this._trigger(B,a)?this.userEvents.cancel():this._activated=!0},_drag:function(b){var c=this;b.preventDefault(),c._withDropTarget(b,function(c,d){if(!c)return void(i&&(i._trigger(H,s(b,{dropTarget:a(i.targetElement)})),i=null));if(i){if(d===i.targetElement)return;i._trigger(H,s(b,{dropTarget:a(i.targetElement)}))}c._trigger(G,s(b,{dropTarget:a(d)})),i=s(c,{targetElement:d})}),c._trigger(C,s(b,{dropTarget:i})),c.hint&&c._updateHint(b)},_end:function(b){var c=this;c._withDropTarget(b,function(c,d){c&&(c._drop(s({},b,{dropTarget:a(d)})),i=null)}),c._trigger(D,b),c._cancel(b.event)},_cancel:function(){var a=this;a._activated=!1,a.hint&&!a.dropped?setTimeout(function(){a.hint.stop(!0,!0).animate(a.currentTargetOffset,"fast",a._afterEndHandler)},0):a._afterEnd()},_trigger:function(a,b){var c=this;return c.trigger(a,s({},b.event,{x:b.x,y:b.y,currentTarget:c.currentTarget,initialTarget:b.touch?b.touch.initialTouch:null,dropTarget:b.dropTarget}))},_withDropTarget:function(a,b){var d,e,f=this,h=f.options,i=v[h.group],j=w[h.group];(i&&i.length||j&&j.length)&&(d=x(a),f.hint&&c(f.hint[0],d)&&(f.hint.hide(),d=x(a),d||(d=x(a)),f.hint.show()),e=g(d,i,j),e?b(e.target,e.targetElement):b())},destroy:function(){var a=this;o.fn.destroy.call(a),a._afterEnd(),a.userEvents.destroy(),a.currentTarget=null},_afterEnd:function(){var b=this;b.hint&&b.hint.remove(),delete u[b.options.group],b.trigger("destroy"),b.trigger(F),a(m).off(y,b._captureEscape)}});k.ui.plugin(Q),k.ui.plugin(R),k.ui.plugin(S),k.TapCapture=J,k.containerBoundaries=f,s(k.ui,{Pane:N,PaneDimensions:L,Movable:P})}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=c.mobile,e=c.effects,f=d.ui,g=a.proxy,h=a.extend,i=f.Widget,j=c.Class,k=c.ui.Movable,l=c.ui.Pane,m=c.ui.PaneDimensions,n=e.Transition,o=e.Animation,p=Math.abs,q=500,r=.7,s=.96,t=10,u=55,v=.5,w=5,x="km-scroller-release",y="km-scroller-refresh",z="pull",A="change",B="resize",C="scroll",D=2,E=o.extend({init:function(a){var b=this;o.fn.init.call(b),h(b,a),b.userEvents.bind("gestureend",g(b.start,b)),b.tapCapture.bind("press",g(b.cancel,b))},enabled:function(){return this.movable.scale<this.dimensions.minScale},done:function(){return this.dimensions.minScale-this.movable.scale<.01},tick:function(){var a=this.movable;a.scaleWith(1.1),this.dimensions.rescale(a.scale)},onEnd:function(){var a=this.movable;a.scaleTo(this.dimensions.minScale),this.dimensions.rescale(a.scale)}}),F=o.extend({init:function(a){var b=this;o.fn.init.call(b),h(b,a,{transition:new n({axis:a.axis,movable:a.movable,onEnd:function(){b._end()}})}),b.tapCapture.bind("press",function(){b.cancel()}),b.userEvents.bind("end",g(b.start,b)),b.userEvents.bind("gestureend",g(b.start,b)),b.userEvents.bind("tap",g(b.onEnd,b))},onCancel:function(){this.transition.cancel()},freeze:function(a){var b=this;b.cancel(),b._moveTo(a)},onEnd:function(){var a=this;a.paneAxis.outOfBounds()?a._snapBack():a._end()},done:function(){return p(this.velocity)<1},start:function(a){var b,c=this;c.dimension.enabled&&(c.paneAxis.outOfBounds()?c._snapBack():(b=a.touch.id===D?0:a.touch[c.axis].velocity,c.velocity=Math.max(Math.min(b*c.velocityMultiplier,u),-u),c.tapCapture.captureNext(),o.fn.start.call(c)))},tick:function(){var a=this,b=a.dimension,c=a.paneAxis.outOfBounds()?v:a.friction,d=a.velocity*=c,e=a.movable[a.axis]+d;!a.elastic&&b.outOfBounds(e)&&(e=Math.max(Math.min(e,b.max),b.min),a.velocity=0),a.movable.moveAxis(a.axis,e)},_end:function(){this.tapCapture.cancelCapture(),this.end()},_snapBack:function(){var a=this,b=a.dimension,c=a.movable[a.axis]>b.max?b.max:b.min;a._moveTo(c)},_moveTo:function(a){this.transition.moveTo({location:a,duration:q,ease:n.easeOutExpo})}}),G=o.extend({init:function(a){var b=this;c.effects.Animation.fn.init.call(this),h(b,a,{origin:{},destination:{},offset:{}})},tick:function(){this._updateCoordinates(),this.moveTo(this.origin)},done:function(){return p(this.offset.y)<w&&p(this.offset.x)<w},onEnd:function(){this.moveTo(this.destination),this.callback&&this.callback.call()},setCoordinates:function(a,b){this.offset={},this.origin=a,this.destination=b},setCallback:function(a){a&&c.isFunction(a)?this.callback=a:a=b},_updateCoordinates:function(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4},this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}}),H=j.extend({init:function(b){var c=this,d="x"===b.axis,e=a('<div class="km-touch-scrollbar km-'+(d?"horizontal":"vertical")+'-scrollbar" />');h(c,b,{element:e,elementSize:0,movable:new k(e),scrollMovable:b.movable,alwaysVisible:b.alwaysVisible,size:d?"width":"height"}),c.scrollMovable.bind(A,g(c.refresh,c)),c.container.append(e),b.alwaysVisible&&c.show()},refresh:function(){var a=this,b=a.axis,c=a.dimension,d=c.size,e=a.scrollMovable,f=d/c.total,g=Math.round(-e[b]*f),h=Math.round(d*f);f>=1?this.element.css("display","none"):this.element.css("display",""),g+h>d?h=d-g:g<0&&(h+=g,g=0),a.elementSize!=h&&(a.element.css(a.size,h+"px"),a.elementSize=h),a.movable.moveAxis(b,g)},show:function(){this.element.css({opacity:r,visibility:"visible"})},hide:function(){this.alwaysVisible||this.element.css({opacity:0})}}),I=i.extend({init:function(b,d){var e=this;if(i.fn.init.call(e,b,d),b=e.element,e._native=e.options.useNative&&c.support.hasNativeScrolling,e._native)return b.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>'),void h(e,{scrollElement:b,fixedContainer:b.children().first()});b.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>');var f=b.children().eq(1),j=new c.TapCapture(b),n=new k(f),o=new m({element:f,container:b,forcedEnabled:e.options.zoom}),q=this.options.avoidScrolling,r=new c.UserEvents(b,{allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:e.options.zoom,start:function(b){o.refresh();var c=p(b.x.velocity),d=p(b.y.velocity),f=2*c>=d,g=a.contains(e.fixedContainer[0],b.event.target),h=2*d>=c;!g&&!q(b)&&e.enabled&&(o.x.enabled&&f||o.y.enabled&&h)?r.capture():r.cancel()}}),s=new l({movable:n,dimensions:o,userEvents:r,elastic:e.options.elastic}),t=new E({movable:n,dimensions:o,userEvents:r,tapCapture:j}),u=new G({moveTo:function(a){e.scrollTo(a.x,a.y)}});n.bind(A,function(){e.scrollTop=-n.y,e.scrollLeft=-n.x,e.trigger(C,{scrollTop:e.scrollTop,scrollLeft:e.scrollLeft})}),e.options.mousewheelScrolling&&b.on("DOMMouseScroll mousewheel",g(this,"_wheelScroll")),h(e,{movable:n,dimensions:o,zoomSnapBack:t,animatedScroller:u,userEvents:r,pane:s,tapCapture:j,pulled:!1,enabled:!0,scrollElement:f,scrollTop:0,scrollLeft:0,fixedContainer:b.children().first()}),e._initAxis("x"),e._initAxis("y"),e._wheelEnd=function(){e._wheel=!1,e.userEvents.end(0,e._wheelY)},o.refresh(),e.options.pullToRefresh&&e._initPullToRefresh()},_wheelScroll:function(a){this._wheel||(this._wheel=!0,this._wheelY=0,this.userEvents.press(0,this._wheelY)),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(this._wheelEnd,50);var b=c.wheelDeltaY(a);b&&(this._wheelY+=b,this.userEvents.move(0,this._wheelY)),a.preventDefault()},makeVirtual:function(){this.dimensions.y.makeVirtual()},virtualSize:function(a,b){this.dimensions.y.virtualSize(a,b)},height:function(){return this.dimensions.y.size},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},options:{name:"Scroller",zoom:!1,pullOffset:140,visibleScrollHints:!1,elastic:!0,useNative:!1,mousewheelScrolling:!0,avoidScrolling:function(){return!1},pullToRefresh:!1,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}},events:[z,C,B],_resize:function(){this._native||this.contentResized()},setOptions:function(a){var b=this;i.fn.setOptions.call(b,a),a.pullToRefresh&&b._initPullToRefresh()},reset:function(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))},contentResized:function(){this.dimensions.refresh(),this.pane.x.outOfBounds()&&this.movable.moveAxis("x",this.dimensions.x.min),this.pane.y.outOfBounds()&&this.movable.moveAxis("y",this.dimensions.y.min)},zoomOut:function(){var a=this.dimensions;a.refresh(),this._scale(a.fitScale),this.movable.moveTo(a.centerCoordinates())},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},scrollTo:function(a,b){this._native?(this.scrollElement.scrollLeft(p(a)),this.scrollElement.scrollTop(p(b))):(this.dimensions.refresh(),this.movable.moveTo({x:a,y:b}))},animatedScrollTo:function(a,b,c){var d,e;this._native?this.scrollTo(a,b):(d={x:this.movable.x,y:this.movable.y},e={x:a,y:b},this.animatedScroller.setCoordinates(d,e),this.animatedScroller.setCallback(c),this.animatedScroller.start())},pullHandled:function(){var a=this;a.refreshHint.removeClass(y),a.hintContainer.html(a.pullTemplate({})),a.yinertia.onEnd(),a.xinertia.onEnd(),a.userEvents.cancel()},destroy:function(){i.fn.destroy.call(this),this.userEvents&&this.userEvents.destroy()},_scale:function(a){this.dimensions.rescale(a),this.movable.scaleTo(a)},_initPullToRefresh:function(){var a=this;a.dimensions.y.forceEnabled(),a.pullTemplate=c.template(a.options.messages.pullTemplate),a.releaseTemplate=c.template(a.options.messages.releaseTemplate),a.refreshTemplate=c.template(a.options.messages.refreshTemplate),a.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span><span class="km-template">'+a.pullTemplate({})+"</span></span>"),a.refreshHint=a.scrollElement.children().first(),a.hintContainer=a.refreshHint.children(".km-template"),a.pane.y.bind("change",g(a._paneChange,a)),a.userEvents.bind("end",g(a._dragEnd,a))},_dragEnd:function(){var a=this;a.pulled&&(a.pulled=!1,a.refreshHint.removeClass(x).addClass(y),a.hintContainer.html(a.refreshTemplate({})),a.yinertia.freeze(a.options.pullOffset/2),a.trigger("pull"))},_paneChange:function(){var a=this;a.movable.y/v>a.options.pullOffset?a.pulled||(a.pulled=!0,a.refreshHint.removeClass(y).addClass(x),a.hintContainer.html(a.releaseTemplate({}))):a.pulled&&(a.pulled=!1,a.refreshHint.removeClass(x),a.hintContainer.html(a.pullTemplate({})))},_initAxis:function(a){var b=this,c=b.movable,d=b.dimensions[a],e=b.tapCapture,f=b.pane[a],g=new H({axis:a,movable:c,dimension:d,container:b.element,alwaysVisible:b.options.visibleScrollHints});d.bind(A,function(){g.refresh()}),f.bind(A,function(){g.show()}),b[a+"inertia"]=new F({axis:a,paneAxis:f,movable:c,tapCapture:e,userEvents:b.userEvents,dimension:d,elastic:b.options.elastic,friction:b.options.friction||s,velocityMultiplier:b.options.velocityMultiplier||t,end:function(){g.hide(),b.trigger("scrollEnd",{axis:a,scrollTop:b.scrollTop,scrollLeft:b.scrollLeft})}})}});f.plugin(I)}(window.kendo.jQuery),function(a,b){function c(a,b,c){return c?b.substring(0,a).split(c).length-1:0}function d(a,b,d){return b.split(d)[c(a,b,d)]}function e(a,b,d,e){var f=b.split(e);return f.splice(c(a,b,e),1,d),e&&""!==f[f.length-1]&&f.push(""),f.join(e)}var f=window.kendo,g=f.support,h=f.caret,i=f._activeElement,j=g.placeholder,k=f.ui,l=k.List,m=f.keys,n=f.data.DataSource,o="aria-disabled",p="aria-readonly",q="k-state-default",r="disabled",s="readonly",t="k-state-focused",u="k-state-selected",v="k-state-disabled",w="k-state-hover",x=".kendoAutoComplete",y="mouseenter"+x+" mouseleave"+x,z=a.proxy,A=l.extend({init:function(b,c){var d,e,g=this;g.ns=x,c=a.isArray(c)?{dataSource:c}:c,l.fn.init.call(g,b,c),b=g.element,c=g.options,c.placeholder=c.placeholder||b.attr("placeholder"),j&&b.attr("placeholder",c.placeholder),g._wrapper(),g._loader(),g._dataSource(),g._ignoreCase(),b[0].type="text",d=g.wrapper,g._popup(),b.addClass("k-input").on("keydown"+x,z(g._keydown,g)).on("paste"+x,z(g._search,g)).on("focus"+x,function(){g._prev=g._accessor(),g._placeholder(!1),d.addClass(t)}).on("focusout"+x,function(){g._change(),g._placeholder(),d.removeClass(t)}).attr({autocomplete:"off",role:"textbox","aria-haspopup":!0}),g._enable(),g._old=g._accessor(),b[0].id&&b.attr("aria-owns",g.ul[0].id),g._aria(),g._placeholder(),g._initList(),e=a(g.element).parents("fieldset").is(":disabled"),e&&g.enable(!1),f.notify(g)},options:{name:"AutoComplete",enabled:!0,suggest:!1,template:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",dataTextField:"",minLength:1,delay:200,height:200,filter:"startswith",ignoreCase:!0,highlightFirst:!1,separator:null,placeholder:"",animation:{},value:null},_dataSource:function(){var a=this;a.dataSource&&a._refreshHandler?a._unbindDataSource():a._progressHandler=z(a._showBusy,a),a.dataSource=n.create(a.options.dataSource).bind("progress",a._progressHandler)},setDataSource:function(a){this.options.dataSource=a,this._dataSource(),this.listView.setDataSource(this.dataSource)},events:["open","close","change","select","filtering","dataBinding","dataBound"],setOptions:function(a){var b=this._listOptions(a);l.fn.setOptions.call(this,a),b.dataValueField=b.dataTextField,this.listView.setOptions(b),this._accessors(),this._aria()},_editable:function(a){var b=this,c=b.element,d=b.wrapper.off(x),e=a.readonly,f=a.disable;e||f?(d.addClass(f?v:q).removeClass(f?q:v),c.attr(r,f).attr(s,e).attr(o,f).attr(p,e)):(d.addClass(q).removeClass(v).on(y,b._toggleHover),c.removeAttr(r).removeAttr(s).attr(o,!1).attr(p,!1))},close:function(){var a=this,b=a.listView.focus();b&&b.removeClass(u),a.popup.close()},destroy:function(){var a=this;a.element.off(x),a.wrapper.off(x),l.fn.destroy.call(a)},refresh:function(){this.listView.refresh()},select:function(a){this._select(a)},search:function(a){var b,c=this,e=c.options,f=e.ignoreCase,g=e.separator;a=a||c._accessor(),clearTimeout(c._typing),g&&(a=d(h(c.element)[0],a,g)),b=a.length,(!b||b>=e.minLength)&&(c._open=!0,c.listView.filter(!0),c._filterSource({value:f?a.toLowerCase():a,operator:e.filter,field:e.dataTextField,ignoreCase:f}))},suggest:function(a){var d,e=this,f=e._last,g=e._accessor(),j=e.element[0],k=h(j)[0],n=e.options.separator,o=g.split(n),p=c(k,g,n),q=k;return f==m.BACKSPACE||f==m.DELETE?void(e._last=b):(a=a||"","string"!=typeof a&&(a[0]&&(a=e.dataSource.view()[l.inArray(a[0],e.ul[0])]),a=a?e._text(a):""),k<=0&&(k=g.toLowerCase().indexOf(a.toLowerCase())+1),d=g.substring(0,k).lastIndexOf(n),d=d>-1?k-(d+n.length):k,g=o[p].substring(0,d),a&&(a=a.toString(),d=a.toLowerCase().indexOf(g.toLowerCase()),d>-1&&(a=a.substring(d+g.length),q=k+a.length,g+=a),n&&""!==o[o.length-1]&&o.push("")),o[p]=g,e._accessor(o.join(n||"")),void(j===i()&&h(j,k,q)))},value:function(a){return a===b?this._accessor():(this.listView.value(a),this._accessor(a),this._old=this._accessor(),void 0)},_click:function(a){var b=a.item,c=this.element;return this.trigger("select",{item:b})?void this.close():(this._select(b),this._blur(),void h(c,c.val().length))},_initList:function(){var b=this,c=b.options.virtual,d=!!c,e=z(b._listBound,b),g={autoBind:!1,selectable:!0,dataSource:b.dataSource,click:a.proxy(b._click,this),change:a.proxy(b._listChange,this),activate:z(b._activateItem,b),deactivate:z(b._deactivateItem,b),dataBinding:function(){b.trigger("dataBinding"),b._angularItems("cleanup")},dataBound:e,listBound:e};g=a.extend(b._listOptions(),g,"object"==typeof c?c:{}),g.dataValueField=g.dataTextField,d?b.listView=new f.ui.VirtualList(b.ul,g):b.listView=new f.ui.StaticList(b.ul,g),b.listView.value(b.options.value)},_listBound:function(){var a,c=this,d=c.popup,e=c.options,f=c.dataSource.flatView(),g=f.length,h=c.element[0]===i();if(c._angularItems("compile"),c.listView.value([]),c.listView.focus(-1),c.listView.filter(!1),c._calculateGroupPadding(c._height(g)),d.position(),g){var j=this.listView.focus();e.highlightFirst&&!j&&c.listView.first(),e.suggest&&h&&c.suggest(f[0])}c._open&&(c._open=!1,a=g?"open":"close",c._typing&&!h&&(a="close"),d[a](),c._typing=b),c._touchScroller&&c._touchScroller.reset(),c._hideBusy(),c._makeUnselectable(),c._hideBusy(),c.trigger("dataBound")},_listChange:function(){this.listView.filter()||this._selectValue(this.listView.selectedDataItems()[0])},_selectValue:function(a){var b=this.options.separator,c="";a&&(c=this._text(a)),null===c&&(c=""),b&&(c=e(h(this.element)[0],this._accessor(),c,b)),this._prev=c,this._accessor(c),this._placeholder()},_accessor:function(a){var c=this,d=c.element[0];return a===b?(a=d.value,d.className.indexOf("k-readonly")>-1&&a===c.options.placeholder?"":a):(d.value=null===a?"":a,void c._placeholder())},_keydown:function(a){var b=this,c=a.keyCode,d=b.popup.visible(),e=this.listView.focus();if(b._last=c,c===m.DOWN)d&&this._move(e?"next":"first"),a.preventDefault();else if(c===m.UP)d&&this._move(e?"prev":"last"),a.preventDefault();else if(c===m.ENTER||c===m.TAB){if(c===m.ENTER&&d&&a.preventDefault(),d&&e){if(b.trigger("select",{item:e}))return;this._select(e)}this._blur()}else c===m.ESC?(d&&a.preventDefault(),b.close()):b._search()},_move:function(a){this.listView[a](),this.options.suggest&&this.suggest(this.listView.focus())},_hideBusy:function(){var a=this;clearTimeout(a._busy),a._loading.hide(),a.element.attr("aria-busy",!1),a._busy=null},_showBusy:function(){var a=this;a._busy||(a._busy=setTimeout(function(){a.element.attr("aria-busy",!0),a._loading.show()},100))},_placeholder:function(a){if(!j){var c,d=this,e=d.element,f=d.options.placeholder;if(f){if(c=e.val(),a===b&&(a=!c),a||(f=c!==f?c:""),c===d._old&&!a)return;e.toggleClass("k-readonly",a).val(f),f||e[0]!==document.activeElement||h(e[0],0,0)}}},_search:function(){var a=this;clearTimeout(a._typing),a._typing=setTimeout(function(){a._prev!==a._accessor()&&(a._prev=a._accessor(),a.search())},a.options.delay)},_select:function(a){this.listView.select(a)},_loader:function(){this._loading=a('<span class="k-icon k-loading" style="display:none"></span>').insertAfter(this.element)},_toggleHover:function(b){a(b.currentTarget).toggleClass(w,"mouseenter"===b.type)},_wrapper:function(){var a,b=this,c=b.element,d=c[0];a=c.parent(),a.is("span.k-widget")||(a=c.wrap("<span />").parent()),a.attr("tabindex",-1),a.attr("role","presentation"),a[0].style.cssText=d.style.cssText,c.css({width:"100%",height:d.style.height}),b._focused=b.element,b.wrapper=a.addClass("k-widget k-autocomplete k-header").addClass(d.className)}});k.plugin(A)}(window.kendo.jQuery),function(a,b){function c(a,b,c){for(var d,e=0,f=b.length-1;e<f;++e)d=b[e],d in a||(a[d]={}),a=a[d];a[b[f]]=c}var d=window.kendo,e=d.ui,f=e.Select,g=d.support,h=d._activeElement,i=d.data.ObservableObject,j=d.keys,k=".kendoDropDownList",l="disabled",m="readonly",n="change",o="k-state-focused",p="k-state-default",q="k-state-disabled",r="aria-disabled",s="aria-readonly",t="mouseenter"+k+" mouseleave"+k,u="tabindex",v="filter",w="accept",x=a.proxy,y=f.extend({init:function(c,e){var g,h,i,j=this,l=e&&e.index;j.ns=k,e=a.isArray(e)?{dataSource:e}:e,f.fn.init.call(j,c,e),e=j.options,c=j.element.on("focus"+k,x(j._focusHandler,j)),j._focusInputHandler=a.proxy(j._focusInput,j),j._inputTemplate(),j._reset(),j._prev="",j._word="",j.optionLabel=a(),j._wrapper(),j._tabindex(),j.wrapper.data(u,j.wrapper.attr(u)),j._span(),j._popup(),j._mobile(),j._dataSource(),j._ignoreCase(),j._filterHeader(),j._aria(),j._enable(),j._oldIndex=j.selectedIndex=-1,l!==b&&(e.index=l),j._initialIndex=e.index,j._optionLabel(),j._initList(),j._cascade(),e.autoBind?j.dataSource.fetch():j.selectedIndex===-1&&(h=e.text||"",h||(g=e.optionLabel,g&&0===e.index?h=g:j._isSelect&&(h=c.children(":selected").text())),j._textAccessor(h)),i=a(j.element).parents("fieldset").is(":disabled"),i&&j.enable(!1),d.notify(j)},options:{name:"DropDownList",enabled:!0,autoBind:!0,index:0,text:null,value:null,delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",cascadeFromField:"",ignoreCase:!0,animation:{},filter:"none",minLength:1,virtual:!1,template:null,valueTemplate:null,optionLabelTemplate:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#"},events:["open","close",n,"select","filtering","dataBinding","dataBound","cascade"],setOptions:function(a){f.fn.setOptions.call(this,a),this.listView.setOptions(this._listOptions(a)),this._optionLabel(),this._inputTemplate(),this._accessors(),this._filterHeader(),this._enable(),this._aria(),!this.value()&&this.optionLabel[0]&&this.select(0)},destroy:function(){var a=this;a.wrapper.off(k),a.element.off(k),a._inputWrapper.off(k),a._arrow.off(),a._arrow=null,a.optionLabel.off(),f.fn.destroy.call(a)},open:function(){var a=this;a.popup.visible()||(a.listView.isBound()&&a._state!==w?a._allowOpening()&&(a.popup.one("activate",a._focusInputHandler),a.popup.open(),a._focusItem()):(a._open=!0,a._state="rebind",a.filterInput&&(a.filterInput.val(""),a._prev=""),a._filterSource()))},_focusInput:function(){this._focusElement(this.filterInput)},toggle:function(a){this._toggle(a,!0)},_allowOpening:function(a){return this.optionLabel[0]||this.filterInput||this.dataSource.view().length},current:function(a){var c;return a===b?(c=this.listView.focus(),!c&&0===this.selectedIndex&&this.optionLabel[0]?this.optionLabel:c):void this._focus(a)},dataItem:function(c){var d=this,e=null,f=!!d.optionLabel[0],g=d.options.optionLabel;return c===b?e=d.listView.selectedDataItems()[0]:("number"!=typeof c?c=c.hasClass("k-list-optionlabel")?-1:a(d.items()).index(c):f&&(c-=1),e=d.dataSource.flatView()[c]),!e&&f&&(e=a.isPlainObject(g)?new i(g):d._assignInstance(d._optionLabelText(),"")),e},refresh:function(){this.listView.refresh()},text:function(a){var c,d,e=this,f=e.options.ignoreCase;return a=null===a?"":a,a===b?e._textAccessor():("string"==typeof a&&(d=f?a.toLowerCase():a,e._select(function(a){return a=e._text(a),f&&(a=(a+"").toLowerCase()),a===d}),c=e.dataItem(),c&&(a=c)),void e._textAccessor(a))},value:function(a){var c=this;return a===b?(a=c._accessor()||c.listView.value()[0],a===b||null===a?"":a):(a&&(c._initialIndex=null),c.listView.value(a).done(function(){c._triggerCascade(),c.selectedIndex===-1&&c.text()&&(c.text(""),c._accessor("",-1)),c._old=c._accessor(),c._oldIndex=c.selectedIndex}),void c._fetchData())},_optionLabel:function(){var b=this,c=b.options,e=c.optionLabel,f=c.optionLabelTemplate;return e?(f||(f="#:",f+="string"==typeof e?"data":d.expr(c.dataTextField,"data"),f+="#"),"function"!=typeof f&&(f=d.template(f)),b.optionLabelTemplate=f,b.optionLabel[0]||(b.optionLabel=a('<div class="k-list-optionlabel"></div>').prependTo(b.list)),b.optionLabel.html(f(e)).off().click(x(b._click,b)).on(t,b._toggleHover),void b.angular("compile",function(){return{elements:b.optionLabel}})):(b.optionLabel.off().remove(),void(b.optionLabel=a()))},_optionLabelText:function(){var a=this.options.optionLabel;return"string"==typeof a?a:this._text(a)},_listBound:function(){var a,b,c,d=this,e=d._initialIndex,f=d.options.optionLabel,g=d._state===v,h=(d.element[0],d.dataSource.flatView()),i=h.length;d._angularItems("compile"),d._presetValue=!1,d.options.virtual||(b=d._height(g?i||1:i),d._calculateGroupPadding(b)),d.popup.position(),d._isSelect&&(c=d.value(),i?f&&(f=d._option("",d._optionLabelText())):c&&(f=d._option(c,d.text())),d._options(h,f,c)),d._hideBusy(),d._makeUnselectable(),g||(d._open&&d.toggle(d._allowOpening()),d._open=!1,d._fetch||(i?(!d.listView.value().length&&e>-1&&null!==e&&d.select(e),d._initialIndex=null,a=d.listView.selectedDataItems()[0],a&&d.text()!==d._text(a)&&d._selectValue(a)):d._textAccessor()!==d._optionLabelText()&&(d.listView.value(""),d._selectValue(null),d._oldIndex=d.selectedIndex))),d._hideBusy(),d.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]),(this._presetValue||this._old&&this._oldIndex===-1)&&(this._oldIndex=this.selectedIndex)},_focusHandler:function(){this.wrapper.focus()},_focusinHandler:function(){this._inputWrapper.addClass(o),this._prevent=!1},_focusoutHandler:function(){var a=this,b=a._state===v,c=window.self!==window.top,d=a._focus();a._prevent||(clearTimeout(a._typing),b&&d&&!a.trigger("select",{item:d})&&a._select(d,!a.dataSource.view().length),g.mobileOS.ios&&c?a._change():a._blur(),a._inputWrapper.removeClass(o),a._prevent=!0,a._open=!1,a.element.blur())},_wrapperMousedown:function(){this._prevent=!!this.filterInput},_wrapperClick:function(a){a.preventDefault(),this.popup.unbind("activate",this._focusInputHandler),this._focused=this.wrapper,this._toggle()},_editable:function(a){var b=this,c=b.element,d=a.disable,e=a.readonly,f=b.wrapper.add(b.filterInput).off(k),g=b._inputWrapper.off(t);e||d?d?(f.removeAttr(u),g.addClass(q).removeClass(p)):(g.addClass(p).removeClass(q),f.on("focusin"+k,x(b._focusinHandler,b)).on("focusout"+k,x(b._focusoutHandler,b))):(c.removeAttr(l).removeAttr(m),g.addClass(p).removeClass(q).on(t,b._toggleHover),f.attr(u,f.data(u)).attr(r,!1).attr(s,!1).on("keydown"+k,x(b._keydown,b)).on("focusin"+k,x(b._focusinHandler,b)).on("focusout"+k,x(b._focusoutHandler,b)).on("mousedown"+k,x(b._wrapperMousedown,b)),b.wrapper.on("click"+k,x(b._wrapperClick,b)),b.filterInput||f.on("keypress"+k,x(b._keypress,b))),c.attr(l,d).attr(m,e),f.attr(r,d).attr(s,e)},_option:function(a,b){return'<option value="'+a+'">'+b+"</option>"},_keydown:function(a){var b,c,d=this,e=a.keyCode,f=a.altKey,g=(d.ul[0],d.popup.visible());if(d.filterInput&&(b=d.filterInput[0]===h()),e===j.LEFT?(e=j.UP,c=!0):e===j.RIGHT&&(e=j.DOWN,c=!0),!c||!b){if(a.keyCode=e,f&&e===j.UP&&d._focusElement(d.wrapper),
e===j.ENTER&&d._typing&&d.filterInput&&g)return void a.preventDefault();c=d._move(a),c||(g&&d.filterInput||(e===j.HOME?(c=!0,d._firstItem()):e===j.END&&(c=!0,d._lastItem()),c&&(d._select(d._focus()),a.preventDefault())),f||c||!d.filterInput||d._search())}},_matchText:function(a,b){var c=this,d=c.options.ignoreCase,e=!1;return a+="",d&&(a=a.toLowerCase()),0===a.indexOf(c._word)&&(c.optionLabel[0]&&(b+=1),c._select(b),c.popup.visible()||c._change(),e=!0),e},_selectNext:function(a){for(var b,c=this,d=a,e=c.dataSource.flatView(),f=e.length;a<f;a++)if(b=c._text(e[a]),b&&c._matchText(b,a)&&(1!==c._word.length||d!==c.selectedIndex))return!0;if(d>0&&d<f)for(a=0;a<=d;a++)if(b=c._text(e[a]),b&&c._matchText(b,a))return!0;return!1},_keypress:function(a){var b=this;if(0!==a.which&&a.keyCode!==d.keys.ENTER){var c=String.fromCharCode(a.charCode||a.keyCode),e=b.selectedIndex,f=b._word.length;b.options.ignoreCase&&(c=c.toLowerCase())," "===c&&a.preventDefault(),f||(b._word=c),b._last===c&&f<=1&&e>-1&&b._selectNext(e)||(f&&(b._word+=c),b._last=c,b._search())}},_popupOpen:function(){var a=this.popup;a.wrapper=d.wrap(a.element),a.element.closest(".km-root")[0]&&(a.wrapper.addClass("km-popup km-widget"),this.wrapper.addClass("km-widget"))},_popup:function(){f.fn._popup.call(this),this.popup.one("open",x(this._popupOpen,this))},_click:function(b){var c=b.item||a(b.currentTarget);return this.trigger("select",{item:c})?void this.close():(this._userTriggered=!0,this._select(c),this._focusElement(this.wrapper),void this._blur())},_focusElement:function(a){var b=h(),c=this.wrapper,d=this.filterInput,e=a===d?c:d,f=g.mobileOS&&(g.touch||g.MSPointers||g.pointers);d&&d[0]===a[0]&&f||d&&e[0]===b&&(this._prevent=!0,this._focused=a.focus())},_filter:function(a){if(a){var c=this,d=c.options.ignoreCase;d&&(a=a.toLowerCase()),c._select(function(e){var f=c._text(e);if(f!==b)return f+="",d&&(f=f.toLowerCase()),0===f.indexOf(a)})}},_search:function(){var a=this,b=a.dataSource,c=a.selectedIndex;if(clearTimeout(a._typing),"none"!==a.options.filter)a._typing=setTimeout(function(){var b=a.filterInput.val();a._prev!==b&&(a._prev=b,a.search(b)),a._typing=null},a.options.delay);else{if(a._typing=setTimeout(function(){a._word=""},a.options.delay),c===-1&&(c=0),!a.ul[0].firstChild)return void b.fetch().done(function(){b.data()[0]&&c>-1&&a._selectNext(c)});a._selectNext(c)}},_get:function(b){var c,d,e,f=a(b);if(this.optionLabel[0]&&("number"==typeof b?b>-1&&(b-=1):f.hasClass("k-list-optionlabel")&&(b=-1)),"function"==typeof b){for(c=this.dataSource.flatView(),e=0;e<c.length;e++)if(b(c[e])){b=e,d=!0;break}d||(b=-1)}return b},_firstItem:function(){this.optionLabel[0]?this._focus(this.optionLabel):this.listView.first()},_lastItem:function(){this.optionLabel.removeClass("k-state-focused"),this.listView.last()},_nextItem:function(){this.optionLabel.hasClass("k-state-focused")?(this.optionLabel.removeClass("k-state-focused"),this.listView.first()):this.listView.next()},_prevItem:function(){this.optionLabel.hasClass("k-state-focused")||(this.listView.prev(),this.listView.focus()||this.optionLabel.addClass("k-state-focused"))},_focusItem:function(){var a=this.listView,c=a.focus(),d=a.select();d=d[d.length-1],d===b&&this.options.highlightFirst&&!c&&(d=0),d!==b?a.focus(d):this.options.optionLabel?(this._focus(this.optionLabel),this._select(this.optionLabel)):a.scrollToIndex(0)},_focus:function(a){var c=this.listView,d=this.optionLabel;return a===b?(a=c.focus(),!a&&d.hasClass("k-state-focused")&&(a=d),a):(d.removeClass("k-state-focused"),a=this._get(a),c.focus(a),void(a===-1&&d.addClass("k-state-focused")))},_select:function(a,b){var c=this;c.optionLabel;a=c._get(a),c.listView.select(a),b||c._state!==v||(c.listView.filter(!1),c._state=w),a===-1&&c._selectValue(null)},_selectValue:function(a){var c=this,d=c.options.optionLabel,e=c.optionLabel,f=c.listView.select(),g="",h="";f=f[f.length-1],f===b&&(f=-1),e.removeClass("k-state-focused k-state-selected"),a?(h=a,g=c._dataValue(a),d&&(f+=1)):d&&(c._focus(e.addClass("k-state-selected")),h=c._optionLabelText(),g="string"==typeof d?"":c._value(d),f=0),c.selectedIndex=f,null===g&&(g=""),c._textAccessor(h),c._accessor(g,f),c._triggerCascade()},_mobile:function(){var a=this,b=a.popup,c=g.mobileOS,d=b.element.parents(".km-root").eq(0);d.length&&c&&(b.options.animation.open.effects=c.android||c.meego?"fadeIn":c.ios||c.wp?"slideIn:up":b.options.animation.open.effects)},_filterHeader:function(){var b,c=this.options,d="none"!==c.filter;this.filterInput&&(this.filterInput.off(k).parent().remove(),this.filterInput=null),d&&(b='<span unselectable="on" class="k-icon k-i-search">select</span>',this.filterInput=a('<input class="k-textbox"/>').attr({role:"listbox","aria-haspopup":!0,"aria-expanded":!1}),this.list.prepend(a('<span class="k-list-filter" />').append(this.filterInput.add(b))))},_span:function(){var b,c=this,d=c.wrapper,e="span.k-input";b=d.find(e),b[0]||(d.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(c.element),b=d.find(e)),c.span=b,c._inputWrapper=a(d[0].firstChild),c._arrow=d.find(".k-icon")},_wrapper:function(){var a,b=this,c=b.element,d=c[0];a=c.parent(),a.is("span.k-widget")||(a=c.wrap("<span />").parent(),a[0].style.cssText=d.style.cssText,a[0].title=d.title),c.hide(),b._focused=b.wrapper=a.addClass("k-widget k-dropdown k-header").addClass(d.className).css("display","").attr({unselectable:"on",role:"listbox","aria-haspopup":!0,"aria-expanded":!1})},_clearSelection:function(a){this.select(a.value()?0:-1)},_inputTemplate:function(){var b=this,c=b.options.valueTemplate;c=c?d.template(c):a.proxy(d.template("#:this._text(data)#",{useWithBlock:!1}),b),b.valueTemplate=c},_textAccessor:function(c){var d=null,e=this.valueTemplate,f=this.options,g=f.optionLabel,h=this.span;if(c===b)return h.text();a.isPlainObject(c)||c instanceof i?d=c:g&&this._optionLabelText()===c&&(d=g,e=this.optionLabelTemplate),d||(d=this._assignInstance(c,this._accessor()));var j=function(){return{elements:h.get(),data:[{dataItem:d}]}};this.angular("cleanup",j),h.html(e(d)),this.angular("compile",j)},_preselect:function(a,b){a||b||(b=this._optionLabelText()),this._accessor(a),this._textAccessor(b),this._old=this._accessor(),this._oldIndex=this.selectedIndex,this.listView.setValue(a),this._initialIndex=null,this._presetValue=!0},_assignInstance:function(a,b){var d=this.options.dataTextField,e={};return d?(c(e,d.split("."),a),c(e,this.options.dataValueField.split("."),b),e=new i(e)):e=a,e}});e.plugin(y)}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=c.ui,e=d.Widget,f="dir",g="asc",h="single",i="field",j="desc",k=".kendoColumnSorter",l=".k-link",m="aria-sort",n=a.proxy,o=e.extend({init:function(a,b){var c,d=this;e.fn.init.call(d,a,b),d._refreshHandler=n(d.refresh,d),d.dataSource=d.options.dataSource.bind("change",d._refreshHandler),c=d.element.find(l),c[0]||(c=d.element.wrapInner('<a class="k-link" href="#"/>').find(l)),d.link=c,d.element.on("click"+k,n(d._click,d))},options:{name:"ColumnSorter",mode:h,allowUnsort:!0,compare:null,filter:""},destroy:function(){var a=this;e.fn.destroy.call(a),a.element.off(k),a.dataSource.unbind("change",a._refreshHandler),a._refreshHandler=a.element=a.link=a.dataSource=null},refresh:function(){var b,d,e,h,k=this,l=k.dataSource.sort()||[],n=k.element,o=n.attr(c.attr(i));for(n.removeAttr(c.attr(f)),n.removeAttr(m),b=0,d=l.length;b<d;b++)e=l[b],o==e.field&&n.attr(c.attr(f),e.dir);h=n.attr(c.attr(f)),n.find(".k-i-arrow-n,.k-i-arrow-s").remove(),h===g?(a('<span class="k-icon k-i-arrow-n" />').appendTo(k.link),n.attr(m,"ascending")):h===j&&(a('<span class="k-icon k-i-arrow-s" />').appendTo(k.link),n.attr(m,"descending"))},_click:function(a){var d,e,k=this,l=k.element,m=l.attr(c.attr(i)),n=l.attr(c.attr(f)),o=k.options,p=null===k.options.compare?b:k.options.compare,q=k.dataSource.sort()||[];if(a.preventDefault(),!o.filter||l.is(o.filter)){if(n=n===g?j:n===j&&o.allowUnsort?b:g,o.mode===h)q=[{field:m,dir:n,compare:p}];else if("multiple"===o.mode){for(d=0,e=q.length;d<e;d++)if(q[d].field===m){q.splice(d,1);break}q.push({field:m,dir:n,compare:p})}this.dataSource.sort(q)}}});d.plugin(o)}(window.kendo.jQuery),function(a,b){function c(a,b,c,d){var e,f=a.getFullYear(),g=b.getFullYear(),h=c.getFullYear();return f-=f%d,e=f+(d-1),f<g&&(f=g),e>h&&(e=h),f+"-"+e}function d(a){for(var b,c=0,d=a.min,e=a.max,f=a.start,g=a.setter,i=a.build,j=a.cells||12,k=a.perRow||4,l=a.content||E,m=a.empty||F,n=a.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';c<j;c++)c>0&&c%k===0&&(n+='</tr><tr role="row">'),b=i(f,c),n+=h(f,d,e)?l(b):m(b),g(f,1);return n+"</tr></tbody></table>"}function e(a,b,c){var d=a.getFullYear(),e=b.getFullYear(),f=e,g=0;return c&&(e-=e%c,f=e-e%c+c-1),d>f?g=1:d<e&&(g=-1),g}function f(){var a=new na;return new na(a.getFullYear(),a.getMonth(),a.getDate())}function g(a,b,c){var d=f();return a&&(d=new na((+a))),b>d?d=new na((+b)):c<d&&(d=new na((+c))),d}function h(a,b,c){return+a>=+b&&+a<=+c}function i(a,b){return a.slice(b).concat(a.slice(0,b))}function j(a,b,c){b=b instanceof na?b.getFullYear():a.getFullYear()+c*b,a.setFullYear(b)}function k(b){a(this).toggleClass(U,ca.indexOf(b.type)>-1||b.type==aa)}function l(a){a.preventDefault()}function m(a){return B(a).calendars.standard}function n(a){var c=oa[a.start],d=oa[a.depth],e=B(a.culture);a.format=z(a.format||e.calendars.standard.patterns.d),isNaN(c)&&(c=0,a.start=P),(d===b||d>c)&&(a.depth=P),a.dates||(a.dates=[])}function o(a){H&&a.find("*").attr("unselectable","on")}function p(a,b){for(var c=0,d=b.length;c<d;c++)if(a===+b[c])return!0;return!1}function q(a,b){return!!a&&(a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth()&&a.getDate()===b.getDate())}function r(a,b){return!!a&&(a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth())}var s=window.kendo,t=s.support,u=s.ui,v=u.Widget,w=s.keys,x=s.parseDate,y=s.date.adjustDST,z=s._extractFormat,A=s.template,B=s.getCulture,C=s.support.transitions,D=C?C.css+"transform-origin":"",E=A('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:!1}),F=A('<td role="gridcell">&nbsp;</td>',{useWithBlock:!1}),G=s.support.browser,H=G.msie&&G.version<9,I=".kendoCalendar",J="click"+I,K="keydown"+I,L="id",M="min",N="left",O="slideIn",P="month",Q="century",R="change",S="navigate",T="value",U="k-state-hover",V="k-state-disabled",W="k-state-focused",X="k-other-month",Y=' class="'+X+'"',Z="k-nav-today",$="td:has(.k-link)",_="blur"+I,aa="focus",ba=aa+I,ca=t.touch?"touchstart":"mouseenter",da=t.touch?"touchstart"+I:"mouseenter"+I,ea=t.touch?"touchend"+I+" touchmove"+I:"mouseleave"+I,fa=6e4,ga=864e5,ha="_prevArrow",ia="_nextArrow",ja="aria-disabled",ka="aria-selected",la=a.proxy,ma=a.extend,na=Date,oa={month:0,year:1,decade:2,century:3},pa=v.extend({init:function(b,c){var d,e,f=this;v.fn.init.call(f,b,c),b=f.wrapper=f.element,c=f.options,c.url=window.unescape(c.url),f._templates(),f._header(),f._footer(f.footer),e=b.addClass("k-widget k-calendar").on(da+" "+ea,$,k).on(K,"table.k-content",la(f._move,f)).on(J,$,function(b){var c=b.currentTarget.firstChild;c.href.indexOf("#")!=-1&&b.preventDefault(),f._click(a(c))}).on("mouseup"+I,"table.k-content, .k-footer",function(){f._focusView(f.options.focusOnNav!==!1)}).attr(L),e&&(f._cellID=e+"_cell_selected"),n(c),d=x(c.value,c.format,c.culture),f._index=oa[c.start],f._current=new na((+g(d,c.min,c.max))),f._addClassProxy=function(){f._active=!0,f._cell.addClass(W)},f._removeClassProxy=function(){f._active=!1,f._cell.removeClass(W)},f.value(d),s.notify(f)},options:{name:"Calendar",value:null,min:new na(1900,0,1),max:new na(2099,11,31),dates:[],url:"",culture:"",footer:"",format:"",month:{},start:P,depth:P,animation:{horizontal:{effects:O,reverse:!0,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}}},events:[R,S],setOptions:function(a){var b=this;n(a),a.dates[0]||(a.dates=b.options.dates),v.fn.setOptions.call(b,a),b._templates(),b._footer(b.footer),b._index=oa[b.options.start],b.navigate()},destroy:function(){var a=this,b=a._today;a.element.off(I),a._title.off(I),a[ha].off(I),a[ia].off(I),s.destroy(a._table),b&&s.destroy(b.off(I)),v.fn.destroy.call(a)},current:function(){return this._current},view:function(){return this._view},focus:function(a){a=a||this._table,this._bindTable(a),a.focus()},min:function(a){return this._option(M,a)},max:function(a){return this._option("max",a)},navigateToPast:function(){this._navigate(ha,-1)},navigateToFuture:function(){this._navigate(ia,1)},navigateUp:function(){var a=this,b=a._index;a._title.hasClass(V)||a.navigate(a._current,++b)},navigateDown:function(a){var b=this,c=b._index,d=b.options.depth;if(a)return c===oa[d]?void(+b._value!=+a&&(b.value(a),b.trigger(R))):void b.navigate(a,--c)},navigate:function(c,d){d=isNaN(d)?oa[d]:d;var e,f,h,i,j=this,k=j.options,l=k.culture,m=k.min,n=k.max,p=j._title,q=j._table,r=j._oldTable,s=j._value,t=j._current,u=c&&+c>+t,v=d!==b&&d!==j._index;c||(c=t),j._current=c=new na((+g(c,m,n))),d===b?d=j._index:j._index=d,j._view=f=qa.views[d],h=f.compare,i=d===oa[Q],p.toggleClass(V,i).attr(ja,i),i=h(c,m)<1,j[ha].toggleClass(V,i).attr(ja,i),i=h(c,n)>-1,j[ia].toggleClass(V,i).attr(ja,i),q&&r&&r.data("animating")&&(r.kendoStop(!0,!0),q.kendoStop(!0,!0)),j._oldTable=q,q&&!j._changeView||(p.html(f.title(c,m,n,l)),j._table=e=a(f.content(ma({min:m,max:n,date:c,url:k.url,dates:k.dates,format:k.format,culture:l},j[f.name]))),o(e),j._animate({from:q,to:e,vertical:v,future:u}),j._focus(c),j.trigger(S)),d===oa[k.depth]&&s&&j._class("k-state-selected",f.toDateString(s)),j._class(W,f.toDateString(c)),!q&&j._cell&&j._cell.removeClass(W),j._changeView=!0},value:function(a){var c=this,d=c._view,e=c.options,f=c._view,g=e.min,i=e.max;return a===b?c._value:(a=x(a,e.format,e.culture),null!==a&&(a=new na((+a)),h(a,g,i)||(a=null)),c._value=a,void(f&&null===a&&c._cell?c._cell.removeClass("k-state-selected"):(c._changeView=!a||d&&0!==d.compare(a,c._current),c.navigate(a))))},_move:function(b){var c,d,e,f,h=this,i=h.options,j=b.keyCode,k=h._view,l=h._index,m=new na((+h._current)),n=s.support.isRtl(h.wrapper);return b.target===h._table[0]&&(h._active=!0),b.ctrlKey?j==w.RIGHT&&!n||j==w.LEFT&&n?(h.navigateToFuture(),d=!0):j==w.LEFT&&!n||j==w.RIGHT&&n?(h.navigateToPast(),d=!0):j==w.UP?(h.navigateUp(),d=!0):j==w.DOWN&&(h._click(a(h._cell[0].firstChild)),d=!0):(j==w.RIGHT&&!n||j==w.LEFT&&n?(c=1,d=!0):j==w.LEFT&&!n||j==w.RIGHT&&n?(c=-1,d=!0):j==w.UP?(c=0===l?-7:-4,d=!0):j==w.DOWN?(c=0===l?7:4,d=!0):j==w.ENTER?(h._click(a(h._cell[0].firstChild)),d=!0):j==w.HOME||j==w.END?(e=j==w.HOME?"first":"last",f=k[e](m),m=new na(f.getFullYear(),f.getMonth(),f.getDate(),m.getHours(),m.getMinutes(),m.getSeconds(),m.getMilliseconds()),d=!0):j==w.PAGEUP?(d=!0,h.navigateToPast()):j==w.PAGEDOWN&&(d=!0,h.navigateToFuture()),(c||e)&&(e||k.setDate(m,c),h._focus(g(m,i.min,i.max)))),d&&b.preventDefault(),h._current},_animate:function(a){var b=this,c=a.from,d=a.to,e=b._active;c?c.parent().data("animating")?(c.off(I),c.parent().kendoStop(!0,!0).remove(),c.remove(),d.insertAfter(b.element[0].firstChild),b._focusView(e)):c.is(":visible")&&b.options.animation!==!1?b[a.vertical?"_vertical":"_horizontal"](c,d,a.future):(d.insertAfter(c),c.off(I).remove(),b._focusView(e)):(d.insertAfter(b.element[0].firstChild),b._bindTable(d))},_horizontal:function(a,b,c){var d=this,e=d._active,f=d.options.animation.horizontal,g=f.effects,h=a.outerWidth();g&&g.indexOf(O)!=-1&&(a.add(b).css({width:h}),a.wrap("<div/>"),d._focusView(e,a),a.parent().css({position:"relative",width:2*h,"float":N,"margin-left":c?0:-h}),b[c?"insertAfter":"insertBefore"](a),ma(f,{effects:O+":"+(c?"right":N),complete:function(){a.off(I).remove(),d._oldTable=null,b.unwrap(),d._focusView(e)}}),a.parent().kendoStop(!0,!0).kendoAnimate(f))},_vertical:function(a,b){var c,d,e=this,f=e.options.animation.vertical,g=f.effects,h=e._active;g&&g.indexOf("zoom")!=-1&&(b.css({position:"absolute",top:a.prev().outerHeight(),left:0}).insertBefore(a),D&&(c=e._cellByDate(e._view.toDateString(e._current)),d=c.position(),d=d.left+parseInt(c.width()/2,10)+"px "+(d.top+parseInt(c.height()/2,10)+"px"),b.css(D,d)),a.kendoStop(!0,!0).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){a.off(I).remove(),e._oldTable=null,b.css({position:"static",top:0,left:0}),e._focusView(h)}}),b.kendoStop(!0,!0).kendoAnimate(f))},_cellByDate:function(b){return this._table.find("td:not(."+X+")").filter(function(){return a(this.firstChild).attr(s.attr(T))===b})},_class:function(b,c){var d=this,e=d._cellID,f=d._cell;f&&f.removeAttr(ka).removeAttr("aria-label").removeAttr(L),f=d._table.find("td:not(."+X+")").removeClass(b).filter(function(){return a(this.firstChild).attr(s.attr(T))===c}).attr(ka,!0),b!==W||d._active||d.options.focusOnNav===!1||(b=""),f.addClass(b),f[0]&&(d._cell=f),e&&(f.attr(L,e),d._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",e))},_bindTable:function(a){a.on(ba,this._addClassProxy).on(_,this._removeClassProxy)},_click:function(a){var b=this,c=b.options,d=new Date((+b._current)),e=a.attr(s.attr(T)).split("/");e=new na(e[0],e[1],e[2]),y(e,0),b._view.setDate(d,e),b.navigateDown(g(d,c.min,c.max))},_focus:function(a){var b=this,c=b._view;0!==c.compare(a,b._current)?b.navigate(a):(b._current=a,b._class(W,c.toDateString(a)))},_focusView:function(a,b){a&&this.focus(b)},_footer:function(b){var c=this,d=f(),e=c.element,g=e.find(".k-footer");return b?(g[0]||(g=a('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(e)),c._today=g.show().find(".k-link").html(b(d)).attr("title",s.toString(d,"D",c.options.culture)),void c._toggle()):(c._toggle(!1),void g.hide())},_header:function(){var a,b=this,c=b.element;c.find(".k-header")[0]||c.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev"><span class="k-icon k-i-arrow-w"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="#" role="button" class="k-link k-nav-next"><span class="k-icon k-i-arrow-e"></span></a></div>'),a=c.find(".k-link").on(da+" "+ea+" "+ba+" "+_,k).click(!1),b._title=a.eq(1).on(J,function(){b._active=b.options.focusOnNav!==!1,b.navigateUp()}),b[ha]=a.eq(0).on(J,function(){b._active=b.options.focusOnNav!==!1,b.navigateToPast()}),b[ia]=a.eq(2).on(J,function(){b._active=b.options.focusOnNav!==!1,b.navigateToFuture()})},_navigate:function(a,b){var c=this,d=c._index+1,e=new na((+c._current));a=c[a],a.hasClass(V)||(d>3?e.setFullYear(e.getFullYear()+100*b):qa.views[d].setDate(e,b),c.navigate(e))},_option:function(a,c){var d,e=this,f=e.options,g=e._value||e._current;return c===b?f[a]:(c=x(c,f.format,f.culture),void(c&&(f[a]=new na((+c)),d=a===M?c>g:g>c,(d||r(g,c))&&(d&&(e._value=null),e._changeView=!0),e._changeView||(e._changeView=!(!f.month.content&&!f.month.empty)),e.navigate(e._value),e._toggle())))},_toggle:function(a){var c=this,d=c.options,e=c._today;a===b&&(a=h(f(),d.min,d.max)),e&&(e.off(J),a?e.addClass(Z).removeClass(V).on(J,la(c._todayClick,c)):e.removeClass(Z).addClass(V).on(J,l))},_todayClick:function(a){var b=this,c=oa[b.options.depth],d=f();a.preventDefault(),0===b._view.compare(b._current,d)&&b._index==c&&(b._changeView=!1),b._value=d,b.navigate(d,c),b.trigger(R)},_templates:function(){var a=this,b=a.options,c=b.footer,d=b.month,e=d.content,f=d.empty;a.month={content:A('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+s.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(e||"#=data.value#")+"</a></td>",{useWithBlock:!!e}),empty:A('<td role="gridcell">'+(f||"&nbsp;")+"</td>",{useWithBlock:!!f})},a.footer=c!==!1?A(c||'#= kendo.toString(data,"D","'+b.culture+'") #',{useWithBlock:!1}):null}});u.plugin(pa);var qa={firstDayOfMonth:function(a){return new na(a.getFullYear(),a.getMonth(),1)},firstVisibleDay:function(a,b){b=b||s.culture().calendar;for(var c=b.firstDay,d=new na(a.getFullYear(),a.getMonth(),0,a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds());d.getDay()!=c;)qa.setTime(d,-1*ga);return d},setTime:function(a,b){var c=a.getTimezoneOffset(),d=new na(a.getTime()+b),e=d.getTimezoneOffset()-c;a.setTime(d.getTime()+e*fa)},views:[{name:P,title:function(a,b,c,d){return m(d).months.names[a.getMonth()]+" "+a.getFullYear()},content:function(a){for(var b=this,c=0,e=a.min,f=a.max,g=a.date,h=a.dates,j=a.format,k=a.culture,l=a.url,n=l&&h[0],o=m(k),q=o.firstDay,r=o.days,t=i(r.names,q),u=i(r.namesShort,q),v=qa.firstVisibleDay(g,o),w=b.first(g),x=b.last(g),z=b.toDateString,A=new na,B='<table tabindex="0" role="grid" class="k-content" cellspacing="0"><thead><tr role="row">';c<7;c++)B+='<th scope="col" title="'+t[c]+'">'+u[c]+"</th>";return A=new na(A.getFullYear(),A.getMonth(),A.getDate()),y(A,0),A=+A,d({cells:42,perRow:7,html:B+='</tr></thead><tbody><tr role="row">',start:new na(v.getFullYear(),v.getMonth(),v.getDate()),min:new na(e.getFullYear(),e.getMonth(),e.getDate()),max:new na(f.getFullYear(),f.getMonth(),f.getDate()),content:a.content,empty:a.empty,setter:b.setDate,build:function(a){var b=[],c=a.getDay(),d="",e="#";return(a<w||a>x)&&b.push(X),+a===A&&b.push("k-today"),0!==c&&6!==c||b.push("k-weekend"),n&&p(+a,h)&&(e=l.replace("{0}",s.toString(a,j,k)),d=" k-action-link"),{date:a,dates:h,ns:s.ns,title:s.toString(a,"D",k),value:a.getDate(),dateString:z(a),cssClass:b[0]?' class="'+b.join(" ")+'"':"",linkClass:d,url:e}}})},first:function(a){return qa.firstDayOfMonth(a)},last:function(a){var b=new na(a.getFullYear(),a.getMonth()+1,0),c=qa.firstDayOfMonth(a),d=Math.abs(b.getTimezoneOffset()-c.getTimezoneOffset());return d&&b.setHours(c.getHours()+d/60),b},compare:function(a,b){var c,d=a.getMonth(),e=a.getFullYear(),f=b.getMonth(),g=b.getFullYear();return c=e>g?1:e<g?-1:d==f?0:d>f?1:-1},setDate:function(a,b){var c=a.getHours();b instanceof na?a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()):qa.setTime(a,b*ga),y(a,c)},toDateString:function(a){return a.getFullYear()+"/"+a.getMonth()+"/"+a.getDate()}},{name:"year",title:function(a){return a.getFullYear()},content:function(a){var b=m(a.culture).months.namesAbbr,c=this.toDateString,e=a.min,f=a.max;return d({min:new na(e.getFullYear(),e.getMonth(),1),max:new na(f.getFullYear(),f.getMonth(),1),start:new na(a.date.getFullYear(),0,1),setter:this.setDate,build:function(a){return{value:b[a.getMonth()],ns:s.ns,dateString:c(a),cssClass:""}}})},first:function(a){return new na(a.getFullYear(),0,a.getDate())},last:function(a){return new na(a.getFullYear(),11,a.getDate())},compare:function(a,b){return e(a,b)},setDate:function(a,b){var c,d=a.getHours();b instanceof na?(c=b.getMonth(),a.setFullYear(b.getFullYear(),c,a.getDate()),c!==a.getMonth()&&a.setDate(0)):(c=a.getMonth()+b,a.setMonth(c),c>11&&(c-=12),c>0&&a.getMonth()!=c&&a.setDate(0)),y(a,d)},toDateString:function(a){return a.getFullYear()+"/"+a.getMonth()+"/1"}},{name:"decade",title:function(a,b,d){return c(a,b,d,10)},content:function(a){var b=a.date.getFullYear(),c=this.toDateString;return d({start:new na(b-b%10-1,0,1),min:new na(a.min.getFullYear(),0,1),max:new na(a.max.getFullYear(),0,1),setter:this.setDate,build:function(a,b){return{value:a.getFullYear(),ns:s.ns,dateString:c(a),cssClass:0===b||11==b?Y:""}}})},first:function(a){var b=a.getFullYear();return new na(b-b%10,a.getMonth(),a.getDate())},last:function(a){var b=a.getFullYear();return new na(b-b%10+9,a.getMonth(),a.getDate())},compare:function(a,b){return e(a,b,10)},setDate:function(a,b){j(a,b,1)},toDateString:function(a){return a.getFullYear()+"/0/1"}},{name:Q,title:function(a,b,d){return c(a,b,d,100)},content:function(a){var b=a.date.getFullYear(),c=a.min.getFullYear(),e=a.max.getFullYear(),f=this.toDateString,g=c,h=e;return g-=g%10,h-=h%10,h-g<10&&(h=g+9),d({start:new na(b-b%100-10,0,1),min:new na(g,0,1),max:new na(h,0,1),setter:this.setDate,build:function(a,b){var d=a.getFullYear(),g=d+9;return d<c&&(d=c),g>e&&(g=e),{ns:s.ns,value:d+" - "+g,dateString:f(a),cssClass:0===b||11==b?Y:""}}})},first:function(a){var b=a.getFullYear();return new na(b-b%100,a.getMonth(),a.getDate())},last:function(a){var b=a.getFullYear();return new na(b-b%100+99,a.getMonth(),a.getDate())},compare:function(a,b){return e(a,b,100)},setDate:function(a,b){j(a,b,10)},toDateString:function(a){var b=a.getFullYear();return b-b%10+"/0/1"}}]};qa.isEqualDatePart=q,qa.makeUnselectable=o,qa.restrictValue=g,qa.isInRange=h,qa.normalize=n,qa.viewsEnum=oa,s.calendar=qa}(window.kendo.jQuery),function(a,b){function c(b){var c=b.parseFormats,d=b.format;J.normalize(b),c=a.isArray(c)?c:[c],c.length||c.push("yyyy-MM-dd"),a.inArray(d,c)===-1&&c.splice(0,0,b.format),b.parseFormats=c}function d(a){a.preventDefault()}var e=window.kendo,f=e.ui,g=f.Widget,h=e.parseDate,i=e.keys,j=e.template,k=e._activeElement,l="<div />",m="<span />",n=".kendoDatePicker",o="click"+n,p="open",q="close",r="change",s="disabled",t="readonly",u="k-state-default",v="k-state-focused",w="k-state-selected",x="k-state-disabled",y="k-state-hover",z="mouseenter"+n+" mouseleave"+n,A="mousedown"+n,B="id",C="min",D="max",E="month",F="aria-disabled",G="aria-expanded",H="aria-hidden",I="aria-readonly",J=e.calendar,K=J.isInRange,L=J.restrictValue,M=J.isEqualDatePart,N=a.extend,O=a.proxy,P=Date,Q=function(b){var c,d=this,g=document.body,h=a(l).attr(H,"true").addClass("k-calendar-container").appendTo(g);d.options=b=b||{},c=b.id,c&&(c+="_dateview",h.attr(B,c),d._dateViewID=c),d.popup=new f.Popup(h,N(b.popup,b,{name:"Popup",isRtl:e.support.isRtl(b.anchor)})),d.div=h,d.value(b.value)};Q.prototype={_calendar:function(){var b,c=this,g=c.calendar,h=c.options;g||(b=a(l).attr(B,e.guid()).appendTo(c.popup.element).on(A,d).on(o,"td:has(.k-link)",O(c._click,c)),c.calendar=g=new f.Calendar(b),c._setOptions(h),e.calendar.makeUnselectable(g.element),g.navigate(c._value||c._current,h.start),c.value(c._value))},_setOptions:function(a){this.calendar.setOptions({focusOnNav:!1,change:a.change,culture:a.culture,dates:a.dates,depth:a.depth,footer:a.footer,format:a.format,max:a.max,min:a.min,month:a.month,start:a.start})},setOptions:function(a){var b=this.options;this.options=N(b,a,{change:b.change,close:b.close,open:b.open}),this.calendar&&this._setOptions(this.options)},destroy:function(){this.popup.destroy()},open:function(){var a=this;a._calendar(),a.popup.open()},close:function(){this.popup.close()},min:function(a){this._option(C,a)},max:function(a){this._option(D,a)},toggle:function(){var a=this;a[a.popup.visible()?q:p]()},move:function(a){var b=this,c=a.keyCode,d=b.calendar,e=a.ctrlKey&&c==i.DOWN||c==i.ENTER;if(a.altKey)c==i.DOWN?(b.open(),a.preventDefault()):c==i.UP&&(b.close(),a.preventDefault());else if(b.popup.visible()){if(c==i.ESC||e&&d._cell.hasClass(w))return b.close(),void a.preventDefault();b._current=d._move(a)}},current:function(a){this._current=a,this.calendar._focus(a)},value:function(a){var b=this,c=b.calendar,d=b.options;b._value=a,b._current=new P((+L(a,d.min,d.max))),c&&c.value(a)},_click:function(a){a.currentTarget.className.indexOf(w)!==-1&&this.close()},_option:function(a,b){var c=this,d=c.calendar;c.options[a]=b,d&&d[a](b)}},Q.normalize=c,e.DateView=Q;var R=g.extend({init:function(b,d){var f,i,j=this;g.fn.init.call(j,b,d),b=j.element,d=j.options,d.min=h(b.attr("min"))||h(d.min),d.max=h(b.attr("max"))||h(d.max),c(d),j._initialOptions=N({},d),j._wrapper(),j.dateView=new Q(N({},d,{id:b.attr(B),anchor:j.wrapper,change:function(){j._change(this.value()),j.close()},close:function(a){j.trigger(q)?a.preventDefault():(b.attr(G,!1),i.attr(H,!0))},open:function(a){var c,d=j.options;j.trigger(p)?a.preventDefault():(j.element.val()!==j._oldText&&(c=h(b.val(),d.parseFormats,d.culture),j.dateView[c?"current":"value"](c)),b.attr(G,!0),i.attr(H,!1),j._updateARIA(c))}})),i=j.dateView.div,j._icon();try{b[0].setAttribute("type","text")}catch(k){b[0].type="text"}b.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":j.dateView._dateViewID}),j._reset(),j._template(),f=b.is("[disabled]")||a(j.element).parents("fieldset").is(":disabled"),f?j.enable(!1):j.readonly(b.is("[readonly]")),j._old=j._update(d.value||j.element.val()),j._oldText=b.val(),e.notify(j)},events:[p,q,r],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:E,depth:E,animation:{},month:{},dates:[],ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#'},setOptions:function(a){var b=this,d=b._value;g.fn.setOptions.call(b,a),a=b.options,a.min=h(a.min),a.max=h(a.max),c(a),b.dateView.setOptions(a),d&&(b.element.val(e.toString(d,a.format,a.culture)),b._updateARIA(d))},_editable:function(a){var b=this,c=b._dateIcon.off(n),e=b.element.off(n),f=b._inputWrapper.off(n),g=a.readonly,h=a.disable;g||h?(f.addClass(h?x:u).removeClass(h?u:x),e.attr(s,h).attr(t,g).attr(F,h).attr(I,g)):(f.addClass(u).removeClass(x).on(z,b._toggleHover),e.removeAttr(s).removeAttr(t).attr(F,!1).attr(I,!1).on("keydown"+n,O(b._keydown,b)).on("focusout"+n,O(b._blur,b)).on("focus"+n,function(){b._inputWrapper.addClass(v)}),c.on(o,O(b._click,b)).on(A,d))},readonly:function(a){this._editable({readonly:a===b||a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a=a===b||a)})},destroy:function(){var a=this;g.fn.destroy.call(a),a.dateView.destroy(),a.element.off(n),a._dateIcon.off(n),a._inputWrapper.off(n),a._form&&a._form.off("reset",a._resetHandler)},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(a){return this._option(C,a)},max:function(a){return this._option(D,a)},value:function(a){var c=this;return a===b?c._value:(c._old=c._update(a),null===c._old&&c.element.val(""),void(c._oldText=c.element.val()))},_toggleHover:function(b){a(b.currentTarget).toggleClass(y,"mouseenter"===b.type)},_blur:function(){var a=this,b=a.element.val();a.close(),b!==a._oldText&&a._change(b),a._inputWrapper.removeClass(v)},_click:function(){var a=this,b=a.element;a.dateView.toggle(),e.support.touch||b[0]===k()||b.focus()},_change:function(a){var b=this;a=b._update(a),+b._old!=+a&&(b._old=a,b._oldText=b.element.val(),b.element.trigger(r),b.trigger(r))},_keydown:function(a){var b=this,c=b.dateView,d=b.element.val();c.popup.visible()||a.keyCode!=i.ENTER||d===b._oldText?(c.move(a),b._updateARIA(c._current)):b._change(d)},_icon:function(){var b,c=this,d=c.element;b=d.next("span.k-select"),b[0]||(b=a('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span></span>').insertAfter(d)),c._dateIcon=b.attr({role:"button","aria-controls":c.dateView._dateViewID})},_option:function(a,c){var d=this,e=d.options;return c===b?e[a]:(c=h(c,e.parseFormats,e.culture),void(c&&(e[a]=new P((+c)),d.dateView[a](c))))},_update:function(a){var b,c=this,d=c.options,f=d.min,g=d.max,i=c._value,j=h(a,d.parseFormats,d.culture),k=null===j&&null===i||j instanceof Date&&i instanceof Date;return+j===+i&&k?(b=e.toString(j,d.format,d.culture),b!==a&&c.element.val(null===j?a:b),j):(null!==j&&M(j,f)?j=L(j,f,g):K(j,f,g)||(j=null),c._value=j,c.dateView.value(j),c.element.val(j?e.toString(j,d.format,d.culture):a),c._updateARIA(j),j)},_wrapper:function(){var b,c=this,d=c.element;b=d.parents(".k-datepicker"),b[0]||(b=d.wrap(m).parent().addClass("k-picker-wrap k-state-default"),b=b.wrap(m).parent()),b[0].style.cssText=d[0].style.cssText,d.css({width:"100%",height:d[0].style.height}),c.wrapper=b.addClass("k-widget k-datepicker k-header").addClass(d[0].className),c._inputWrapper=a(b[0].firstChild)},_reset:function(){var b=this,c=b.element,d=c.attr("form"),e=d?a("#"+d):c.closest("form");e[0]&&(b._resetHandler=function(){b.value(c[0].defaultValue),b.max(b._initialOptions.max),
b.min(b._initialOptions.min)},b._form=e.on("reset",b._resetHandler))},_template:function(){this._ariaTemplate=j(this.options.ARIATemplate)},_updateARIA:function(a){var b,c=this,d=c.dateView.calendar;c.element.removeAttr("aria-activedescendant"),d&&(b=d._cell,b.attr("aria-label",c._ariaTemplate({current:a||d.current()})),c.element.attr("aria-activedescendant",b.attr("id")))}});f.plugin(R)}(window.kendo.jQuery),function(a,b){function c(a,b){return'<span unselectable="on" class="k-link"><span unselectable="on" class="k-icon k-i-arrow-'+a+'" title="'+b+'">'+b+"</span></span>"}var d=window.kendo,e=d.caret,f=d.keys,g=d.ui,h=g.Widget,i=d._activeElement,j=d._extractFormat,k=d.parseFloat,l=d.support.placeholder,m=d.getCulture,n=d._round,o="change",p="disabled",q="readonly",r="k-input",s="spin",t=".kendoNumericTextBox",u="touchend",v="mouseleave"+t,w="mouseenter"+t+" "+v,x="k-state-default",y="k-state-focused",z="k-state-hover",A="focus",B=".",C="k-state-selected",D="k-state-disabled",E="aria-disabled",F="aria-readonly",G=/^(-)?(\d*)$/,H=null,I=a.proxy,J=a.extend,K=h.extend({init:function(c,e){var f,g,i,k,l,m=this,n=e&&e.step!==b;h.fn.init.call(m,c,e),e=m.options,c=m.element.on("focusout"+t,I(m._focusout,m)).attr("role","spinbutton"),e.placeholder=e.placeholder||c.attr("placeholder"),m._initialOptions=J({},e),m._reset(),m._wrapper(),m._arrows(),m._input(),d.support.mobileOS?m._text.on(u+t+" "+A+t,function(a){m._toggleText(!1),c.focus()}):m._text.on(A+t,I(m._click,m)),f=m.min(c.attr("min")),g=m.max(c.attr("max")),i=m._parse(c.attr("step")),e.min===H&&f!==H&&(e.min=f),e.max===H&&g!==H&&(e.max=g),n||i===H||(e.step=i),c.attr("aria-valuemin",e.min).attr("aria-valuemax",e.max),e.format=j(e.format),k=e.value,m.value(k!==H?k:c.val()),l=c.is("[disabled]")||a(m.element).parents("fieldset").is(":disabled"),l?m.enable(!1):m.readonly(c.is("[readonly]")),d.notify(m)},options:{name:"NumericTextBox",decimals:H,min:H,max:H,value:H,step:1,culture:"",format:"n",spinners:!0,placeholder:"",upArrowText:"Increase value",downArrowText:"Decrease value"},events:[o,s],_editable:function(a){var b=this,c=b.element,d=a.disable,e=a.readonly,f=b._text.add(c),g=b._inputWrapper.off(w);b._toggleText(!0),b._upArrowEventHandler.unbind("press"),b._downArrowEventHandler.unbind("press"),c.off("keydown"+t).off("keypress"+t).off("paste"+t),e||d?(g.addClass(d?D:x).removeClass(d?x:D),f.attr(p,d).attr(q,e).attr(E,d).attr(F,e)):(g.addClass(x).removeClass(D).on(w,b._toggleHover),f.removeAttr(p).removeAttr(q).attr(E,!1).attr(F,!1),b._upArrowEventHandler.bind("press",function(a){a.preventDefault(),b._spin(1),b._upArrow.addClass(C)}),b._downArrowEventHandler.bind("press",function(a){a.preventDefault(),b._spin(-1),b._downArrow.addClass(C)}),b.element.on("keydown"+t,I(b._keydown,b)).on("keypress"+t,I(b._keypress,b)).on("paste"+t,I(b._paste,b)))},readonly:function(a){this._editable({readonly:a===b||a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a=a===b||a)})},destroy:function(){var a=this;a.element.add(a._text).add(a._upArrow).add(a._downArrow).add(a._inputWrapper).off(t),a._upArrowEventHandler.destroy(),a._downArrowEventHandler.destroy(),a._form&&a._form.off("reset",a._resetHandler),h.fn.destroy.call(a)},min:function(a){return this._option("min",a)},max:function(a){return this._option("max",a)},step:function(a){return this._option("step",a)},value:function(a){var c,d=this;return a===b?d._value:(a=d._parse(a),c=d._adjust(a),void(a===c&&(d._update(a),d._old=d._value)))},focus:function(){this._focusin()},_adjust:function(a){var b=this,c=b.options,d=c.min,e=c.max;return a===H?a:(d!==H&&a<d?a=d:e!==H&&a>e&&(a=e),a)},_arrows:function(){var b,e=this,f=function(){clearTimeout(e._spinning),b.removeClass(C)},g=e.options,h=g.spinners,i=e.element;b=i.siblings(".k-icon"),b[0]||(b=a(c("n",g.upArrowText)+c("s",g.downArrowText)).insertAfter(i),b.wrapAll('<span class="k-select"/>')),h||(b.parent().toggle(h),e._inputWrapper.addClass("k-expand-padding")),e._upArrow=b.eq(0),e._upArrowEventHandler=new d.UserEvents(e._upArrow,{release:f}),e._downArrow=b.eq(1),e._downArrowEventHandler=new d.UserEvents(e._downArrow,{release:f})},_blur:function(){var a=this;a._toggleText(!0),a._change(a.element.val())},_click:function(a){var b=this;clearTimeout(b._focusing),b._focusing=setTimeout(function(){var c,d,f,g=a.target,h=e(g)[0],i=g.value.substring(0,h),j=b._format(b.options.format),k=j[","],l=0;k&&(d=new RegExp("\\"+k,"g"),f=new RegExp("([\\d\\"+k+"]+)(\\"+j[B]+")?(\\d+)?")),f&&(c=f.exec(i)),c&&(l=c[0].replace(d,"").length,i.indexOf("(")!=-1&&b._value<0&&l++),b._focusin(),e(b.element[0],l)})},_change:function(a){var b=this;b._update(a),a=b._value,b._old!=a&&(b._old=a,b.element.trigger(o),b.trigger(o))},_culture:function(a){return a||m(this.options.culture)},_focusin:function(){var a=this;a._inputWrapper.addClass(y),a._toggleText(!1),a.element[0].focus()},_focusout:function(){var a=this;clearTimeout(a._focusing),a._inputWrapper.removeClass(y).removeClass(z),a._blur()},_format:function(a,b){var c=this._culture(b).numberFormat;return a=a.toLowerCase(),a.indexOf("c")>-1?c=c.currency:a.indexOf("p")>-1&&(c=c.percent),c},_input:function(){var b,c=this,d="k-formatted-value",e=c.element.addClass(r).show()[0],f=e.accessKey,g=c.wrapper;b=g.find(B+d),b[0]||(b=a('<input type="text"/>').insertBefore(e).addClass(d));try{e.setAttribute("type","text")}catch(h){e.type="text"}b[0].tabIndex=e.tabIndex,b[0].style.cssText=e.style.cssText,b[0].title=e.title,b.prop("placeholder",c.options.placeholder),f&&(b.attr("accesskey",f),e.accessKey=""),c._text=b.addClass(e.className)},_keydown:function(a){var b=this,c=a.keyCode;b._key=c,c==f.DOWN?b._step(-1):c==f.UP?b._step(1):c==f.ENTER&&b._change(b.element.val())},_keypress:function(a){if(0!==a.which&&!a.metaKey&&!a.ctrlKey&&a.keyCode!==f.BACKSPACE&&a.keyCode!==f.ENTER){var b,c=this,d=c.options.min,g=c.element,h=e(g),i=h[0],j=h[1],k=String.fromCharCode(a.which),l=c._format(c.options.format),m=c._key===f.NUMPAD_DOT,n=g.val();m&&(k=l[B]),n=n.substring(0,i)+k+n.substring(j),b=c._numericRegex(l).test(n),b&&m?(g.val(n),e(g,i+k.length),a.preventDefault()):(null!==d&&d>=0&&"-"===n.charAt(0)||!b)&&a.preventDefault(),c._key=0}},_numericRegex:function(a){var b=this,c=a[B],d=b.options.decimals;return c===B&&(c="\\"+c),d===H&&(d=a.decimals),0===d?G:(b._separator!==c&&(b._separator=c,b._floatRegExp=new RegExp("^(-)?(((\\d+("+c+"\\d*)?)|("+c+"\\d*)))?$")),b._floatRegExp)},_paste:function(a){var b=this,c=a.target,d=c.value;setTimeout(function(){b._parse(c.value)===H&&b._update(d)})},_option:function(a,c){var d=this,e=d.options;return c===b?e[a]:(c=d._parse(c),void((c||"step"!==a)&&(e[a]=c,d.element.attr("aria-value"+a,c).attr(a,c))))},_spin:function(a,b){var c=this;b=b||500,clearTimeout(c._spinning),c._spinning=setTimeout(function(){c._spin(a,50)},b),c._step(a)},_step:function(a){var b=this,c=b.element,d=b._parse(c.val())||0;i()!=c[0]&&b._focusin(),d+=b.options.step*a,b._update(b._adjust(d)),b.trigger(s)},_toggleHover:function(b){a(b.currentTarget).toggleClass(z,"mouseenter"===b.type)},_toggleText:function(a){var b=this;b._text.toggle(a),b.element.toggle(!a)},_parse:function(a,b){return k(a,this._culture(b),this.options.format)},_update:function(a){var b,c=this,e=c.options,f=e.format,g=e.decimals,h=c._culture(),i=c._format(f,h);g===H&&(g=i.decimals),a=c._parse(a,h),b=a!==H,b&&(a=parseFloat(n(a,g))),c._value=a=c._adjust(a),c._placeholder(d.toString(a,f,h)),b?(a=a.toString(),a.indexOf("e")!==-1&&(a=n(+a,g)),a=a.replace(B,i[B])):a="",c.element.val(a).attr("aria-valuenow",a)},_placeholder:function(a){this._text.val(a),l||a||this._text.val(this.options.placeholder)},_wrapper:function(){var b,c=this,d=c.element,e=d[0];b=d.parents(".k-numerictextbox"),b.is("span.k-numerictextbox")||(b=d.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent(),b=b.wrap("<span/>").parent()),b[0].style.cssText=e.style.cssText,e.style.width="",c.wrapper=b.addClass("k-widget k-numerictextbox").addClass(e.className).css("display",""),c._inputWrapper=a(b[0].firstChild)},_reset:function(){var b=this,c=b.element,d=c.attr("form"),e=d?a("#"+d):c.closest("form");e[0]&&(b._resetHandler=function(){setTimeout(function(){b.value(c[0].value),b.max(b._initialOptions.max),b.min(b._initialOptions.min)})},b._form=e.on("reset",b._resetHandler))}});g.plugin(K)}(window.kendo.jQuery),function(a,b){function c(b){var c,d=h.ui.validator.ruleResolvers||{},e={};for(c in d)a.extend(!0,e,d[c].resolve(b));return e}function d(a){return a.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")}function e(a){return a=(a+"").split("."),a.length>1?a[1].length:0}function f(b){return a(a.parseHTML?a.parseHTML(b):b)}function g(b,c){for(var d,e,f=a(),g=0,i=b.length;g<i;g++)d=b[g],l.test(d.className)&&(e=d.getAttribute(h.attr("for")),e===c&&(f=f.add(d)));return f}var h=window.kendo,i=h.ui.Widget,j=".kendoValidator",k="k-invalid-msg",l=new RegExp(k,"i"),m="k-invalid",n="k-valid",o=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,p=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,q=":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",r=":checkbox:not([disabled],[readonly])",s="[type=number],[type=range]",t="blur",u="name",v="form",w="novalidate",x=a.proxy,y=function(a,b){return"string"==typeof b&&(b=new RegExp("^(?:"+b+")$")),b.test(a)},z=function(a,b,c){var d=a.val();return!a.filter(b).length||""===d||y(d,c)},A=function(a,b){return!!a.length&&null!=a[0].attributes[b]};h.ui.validator||(h.ui.validator={rules:{},messages:{}});var B=i.extend({init:function(b,d){var e=this,f=c(b),g="["+h.attr("validate")+"!=false]";d=d||{},d.rules=a.extend({},h.ui.validator.rules,f.rules,d.rules),d.messages=a.extend({},h.ui.validator.messages,f.messages,d.messages),i.fn.init.call(e,b,d),e._errorTemplate=h.template(e.options.errorTemplate),e.element.is(v)&&e.element.attr(w,w),e._inputSelector=q+g,e._checkboxSelector=r+g,e._errors={},e._attachEvents(),e._isValidated=!1},events:["validate","change"],options:{name:"Validator",errorTemplate:'<span class="k-widget k-tooltip k-tooltip-validation"><span class="k-icon k-warning"> </span> #=message#</span>',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date",dateCompare:"End date should be greater than or equal to the start date"},rules:{required:function(a){var b=a.filter("[type=checkbox]").length&&!a.is(":checked"),c=a.val();return!(A(a,"required")&&(""===c||!c||b))},pattern:function(a){return!a.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length||""===a.val()||y(a.val(),a.attr("pattern"))},min:function(a){if(a.filter(s+",["+h.attr("type")+"=number]").filter("[min]").length&&""!==a.val()){var b=parseFloat(a.attr("min"))||0,c=h.parseFloat(a.val());return b<=c}return!0},max:function(a){if(a.filter(s+",["+h.attr("type")+"=number]").filter("[max]").length&&""!==a.val()){var b=parseFloat(a.attr("max"))||0,c=h.parseFloat(a.val());return b>=c}return!0},step:function(a){if(a.filter(s+",["+h.attr("type")+"=number]").filter("[step]").length&&""!==a.val()){var b,c=parseFloat(a.attr("min"))||0,d=parseFloat(a.attr("step"))||1,f=parseFloat(a.val()),g=e(d);return g?(b=Math.pow(10,g),Math.floor((f-c)*b)%(d*b)/Math.pow(100,g)===0):(f-c)%d===0}return!0},email:function(a){return z(a,"[type=email],["+h.attr("type")+"=email]",o)},url:function(a){return z(a,"[type=url],["+h.attr("type")+"=url]",p)},date:function(a){return!a.filter("[type^=date],["+h.attr("type")+"=date]").length||""===a.val()||null!==h.parseDate(a.val(),a.attr(h.attr("format")))}},validateOnBlur:!0},destroy:function(){i.fn.destroy.call(this),this.element.off(j)},value:function(){return!!this._isValidated&&0===this.errors().length},_submit:function(a){return!!this.validate()||(a.stopPropagation(),a.stopImmediatePropagation(),a.preventDefault(),!1)},_checkElement:function(a){var b=this.value();this.validateInput(a),this.value()!==b&&this.trigger("change")},_attachEvents:function(){var b=this;b.element.is(v)&&b.element.on("submit"+j,x(b._submit,b)),b.options.validateOnBlur&&(b.element.is(q)?(b.element.on(t+j,function(){b._checkElement(b.element)}),b.element.is(r)&&b.element.on("click"+j,function(){b._checkElement(b.element)})):(b.element.on(t+j,b._inputSelector,function(){b._checkElement(a(this))}),b.element.on("click"+j,b._checkboxSelector,function(){b._checkElement(a(this))})))},validate:function(){var a,b,c,d=!1,e=this.value();if(this._errors={},this.element.is(q))d=this.validateInput(this.element);else{var f=!1;for(a=this.element.find(this._inputSelector),b=0,c=a.length;b<c;b++)this.validateInput(a.eq(b))||(f=!0);d=!f}return this.trigger("validate",{valid:d}),e!==d&&this.trigger("change"),d},validateInput:function(b){b=a(b),this._isValidated=!0;var c,e=this,g=e._errorTemplate,i=e._checkValidity(b),j=i.valid,l="."+k,o=b.attr(u)||"",p=e._findMessageContainer(o).add(b.next(l).filter(function(){var b=a(this);return!b.filter("["+h.attr("for")+"]").length||b.attr(h.attr("for"))===o})).hide();if(b.removeAttr("aria-invalid"),j)delete e._errors[o];else{c=e._extractMessage(b,i.key),e._errors[o]=c;var q=f(g({message:d(c)})),r=p.attr("id");e._decorateMessageContainer(q,o),r&&q.attr("id",r),p.replaceWith(q).length||q.insertAfter(b),q.show(),b.attr("aria-invalid",!0)}return b.toggleClass(m,!j),b.toggleClass(n,j),j},hideMessages:function(){var a=this,b="."+k,c=a.element;c.is(q)?c.next(b).hide():c.find(b).hide()},_findMessageContainer:function(b){for(var c,d=h.ui.validator.messageLocators,e=a(),f=0,i=this.element.length;f<i;f++)e=e.add(g(this.element[f].getElementsByTagName("*"),b));for(c in d)e=e.add(d[c].locate(this.element,b));return e},_decorateMessageContainer:function(a,b){var c,d=h.ui.validator.messageLocators;a.addClass(k).attr(h.attr("for"),b||"");for(c in d)d[c].decorate(a,b);a.attr("role","alert")},_extractMessage:function(a,b){var c=this,d=c.options.messages[b],e=a.attr(u);return d=h.isFunction(d)?d(a):d,h.format(a.attr(h.attr(b+"-msg"))||a.attr("validationMessage")||a.attr("title")||d||"",e,a.attr(b))},_checkValidity:function(a){var b,c=this.options.rules;for(b in c)if(!c[b].call(this,a))return{valid:!1,key:b};return{valid:!0}},errors:function(){var a,b=[],c=this._errors;for(a in c)b.push(c[a]);return b}});h.ui.plugin(B)}(window.kendo.jQuery),function(a,b){function c(b,c,d){return F.extend({init:function(a,b,c){var d=this;F.fn.init.call(d,a.element[0],b,c),d.widget=a,d._dataBinding=v(d.dataBinding,d),d._dataBound=v(d.dataBound,d),d._itemChange=v(d.itemChange,d)},itemChange:function(a){g(a.item[0],a.data,this._ns(a.ns),[a.data].concat(this.bindings[b]._parents()))},dataBinding:function(a){var b,c,d=this.widget,e=a.removedItems||d.items();for(b=0,c=e.length;b<c;b++)j(e[b])},_ns:function(b){b=b||o.ui;var c=[o.ui,o.dataviz.ui,o.mobile.ui];return c.splice(a.inArray(b,c),1),c.unshift(b),o.rolesFromNamespaces(c)},dataBound:function(a){var d,e,f,h,i=this.widget,j=a.addedItems||i.items(),k=i[c],l=(k.group()||[],o.data.HierarchicalDataSource);if(!(l&&k instanceof l)&&j.length)for(f=a.addedDataItems||k.flatView(),h=this.bindings[b]._parents(),d=0,e=f.length;d<e;d++)g(j[d],f[d],this._ns(a.ns),[f[d]].concat(h))},refresh:function(a){var e,f=this,g=f.widget;a=a||{},a.action||(f.destroy(),g.bind("dataBinding",f._dataBinding),g.bind("dataBound",f._dataBound),g.bind("itemChange",f._itemChange),e=f.bindings[b].get(),g[c]instanceof o.data.DataSource&&g[c]!=e&&(e instanceof o.data.DataSource?g[d](e):e&&e._dataSource?g[d](e._dataSource):(g[c].data(e),f.bindings.value&&(g instanceof o.ui.Select||g instanceof o.ui.MultiSelect)&&g.value(n(f.bindings.value.get(),g.options.dataValueField)))))},destroy:function(){var a=this.widget;a.unbind("dataBinding",this._dataBinding),a.unbind("dataBound",this._dataBound),a.unbind("itemChange",this._itemChange)}})}function d(a,b){var c=o.initWidget(a,{},b);if(c)return new J(c)}function e(a){var b,c,d,f,g,h,i,j={};for(i=a.match(K),b=0,c=i.length;b<c;b++)d=i[b],f=d.indexOf(":"),g=d.substring(0,f),h=d.substring(f+1),"{"==h.charAt(0)&&(h=e(h)),j[g]=h;return j}function f(a,b,c){var d,e={};for(d in a)e[d]=new c(b,a[d]);return e}function g(a,b,c,h){var j,k,l,m=a.getAttribute("data-"+o.ns+"role"),n=a.getAttribute("data-"+o.ns+"bind"),p=a.children,q=[],r=!0,s={};if(h=h||[b],(m||n)&&i(a),m&&(l=d(a,c)),n&&(n=e(n.replace(L,"")),l||(s=o.parseOptions(a,{textField:"",valueField:"",template:"",valueUpdate:B,valuePrimitive:!1,autoBind:!0}),s.roles=c,l=new I(a,s)),l.source=b,k=f(n,h,C),s.template&&(k.template=new E(h,"",s.template)),k.click&&(n.events=n.events||{},n.events.click=n.click,k.click.destroy(),delete k.click),k.source&&(r=!1),n.attr&&(k.attr=f(n.attr,h,C)),n.style&&(k.style=f(n.style,h,C)),n.events&&(k.events=f(n.events,h,D)),l.bind(k)),l&&(a.kendoBindingTarget=l),r&&p){for(j=0;j<p.length;j++)q[j]=p[j];for(j=0;j<q.length;j++)g(q[j],b,c,h)}}function h(b,c){var d,e,f,h=o.rolesFromNamespaces([].slice.call(arguments,2));for(c=o.observable(c),b=a(b),d=0,e=b.length;d<e;d++)f=b[d],1===f.nodeType&&g(f,c,h)}function i(a){var b=a.kendoBindingTarget;b&&(b.destroy(),A?delete a.kendoBindingTarget:a.removeAttribute?a.removeAttribute("kendoBindingTarget"):a.kendoBindingTarget=null)}function j(a){i(a),k(a)}function k(a){var b=a.children;if(b)for(var c=0,d=b.length;c<d;c++)j(b[c])}function l(b){var c,d;for(b=a(b),c=0,d=b.length;c<d;c++)j(b[c])}function m(a,b){var c=a.element,d=c[0].kendoBindingTarget;d&&h(c,d.source,b)}function n(a,b){var c,d,e=[],f=0;if(!b)return a;if(a instanceof r){for(c=a.length;f<c;f++)d=a[f],e[f]=d.get?d.get(b):d[b];a=e}else a instanceof q&&(a=a.get(b));return a}var o=window.kendo,p=(o.support.browser,o.Observable),q=o.data.ObservableObject,r=o.data.ObservableArray,s={}.toString,t={},u=(Array.prototype.slice,o.Class),v=a.proxy,w="value",x="source",y="events",z="checked",A=!0,B="change";!function(){var a=document.createElement("a");try{delete a.test}catch(b){A=!1}}();var C=p.extend({init:function(a,b){var c=this;p.fn.init.call(c),c.source=a[0],c.parents=a,c.path=b,c.dependencies={},c.dependencies[b]=!0,c.observable=c.source instanceof p,c._access=function(a){c.dependencies[a.field]=!0},c.observable&&(c._change=function(a){c.change(a)},c.source.bind(B,c._change))},_parents:function(){var b=this.parents,c=this.get();if(c&&"function"==typeof c.parent){var d=c.parent();a.inArray(d,b)<0&&(b=[d].concat(b))}return b},change:function(a){var b,c,d=a.field,e=this;if("this"===e.path)e.trigger(B,a);else for(b in e.dependencies)if(0===b.indexOf(d)&&(c=b.charAt(d.length),!c||"."===c||"["===c)){e.trigger(B,a);break}},start:function(a){a.bind("get",this._access)},stop:function(a){a.unbind("get",this._access)},get:function(){var a=this,c=a.source,d=0,e=a.path,f=c;if(!a.observable)return f;for(a.start(a.source),f=c.get(e);f===b&&c;)c=a.parents[++d],c instanceof q&&(f=c.get(e));if(f===b)for(c=a.source;f===b&&c;)c=c.parent(),c instanceof q&&(f=c.get(e));return"function"==typeof f&&(d=e.lastIndexOf("."),d>0&&(c=c.get(e.substring(0,d))),a.start(c),f=c!==a.source?f.call(c,a.source):f.call(c),a.stop(c)),c&&c!==a.source&&(a.currentSource=c,c.unbind(B,a._change).bind(B,a._change)),a.stop(a.source),f},set:function(a){var b=this.currentSource||this.source,c=o.getter(this.path)(b);"function"==typeof c?b!==this.source?c.call(b,this.source,a):c.call(b,a):b.set(this.path,a)},destroy:function(){this.observable&&(this.source.unbind(B,this._change),this.currentSource&&this.currentSource.unbind(B,this._change)),this.unbind()}}),D=C.extend({get:function(){var a,b=this.source,c=this.path,d=0;for(a=b.get(c);!a&&b;)b=this.parents[++d],b instanceof q&&(a=b.get(c));return v(a,b)}}),E=C.extend({init:function(a,b,c){var d=this;C.fn.init.call(d,a,b),d.template=c},render:function(a){var b;return this.start(this.source),b=o.render(this.template,a),this.stop(this.source),b}}),F=u.extend({init:function(a,b,c){this.element=a,this.bindings=b,this.options=c},bind:function(a,b){var c=this;a=b?a[b]:a,a.bind(B,function(a){c.refresh(b||a)}),c.refresh(b)},destroy:function(){}}),G=F.extend({dataType:function(){var a=this.element.getAttribute("data-type")||this.element.type||"text";return a.toLowerCase()},parsedValue:function(){return this._parseValue(this.element.value,this.dataType())},_parseValue:function(a,b){return"date"==b?a=o.parseDate(a,"yyyy-MM-dd"):"datetime-local"==b?a=o.parseDate(a,["yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm"]):"number"==b?a=o.parseFloat(a):"boolean"==b&&(a=a.toLowerCase(),a=null!==o.parseFloat(a)?Boolean(o.parseFloat(a)):"true"===a.toLowerCase()),a}});t.attr=F.extend({refresh:function(a){this.element.setAttribute(a,this.bindings.attr[a].get())}}),t.style=F.extend({refresh:function(a){this.element.style[a]=this.bindings.style[a].get()||""}}),t.enabled=F.extend({refresh:function(){this.bindings.enabled.get()?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled","disabled")}}),t.readonly=F.extend({refresh:function(){this.bindings.readonly.get()?this.element.setAttribute("readonly","readonly"):this.element.removeAttribute("readonly")}}),t.disabled=F.extend({refresh:function(){this.bindings.disabled.get()?this.element.setAttribute("disabled","disabled"):this.element.removeAttribute("disabled")}}),t.events=F.extend({init:function(a,b,c){F.fn.init.call(this,a,b,c),this.handlers={}},refresh:function(b){var c=a(this.element),d=this.bindings.events[b],e=this.handlers[b];e&&c.off(b,e),e=this.handlers[b]=d.get(),c.on(b,d.source,e)},destroy:function(){var b,c=a(this.element);for(b in this.handlers)c.off(b,this.handlers[b])}}),t.text=F.extend({refresh:function(){var b=this.bindings.text.get();null==b&&(b=""),a(this.element).text(b)}}),t.visible=F.extend({refresh:function(){this.bindings.visible.get()?this.element.style.display="":this.element.style.display="none"}}),t.invisible=F.extend({refresh:function(){this.bindings.invisible.get()?this.element.style.display="none":this.element.style.display=""}}),t.html=F.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}}),t.value=G.extend({init:function(b,c,d){G.fn.init.call(this,b,c,d),this._change=v(this.change,this),this.eventName=d.valueUpdate||B,a(this.element).on(this.eventName,this._change),this._initChange=!1},change:function(){this._initChange=this.eventName!=B,this.bindings[w].set(this.parsedValue()),this._initChange=!1},refresh:function(){if(!this._initChange){var a=this.bindings[w].get();null==a&&(a="");var b=this.dataType();"date"==b?a=o.toString(a,"yyyy-MM-dd"):"datetime-local"==b&&(a=o.toString(a,"yyyy-MM-ddTHH:mm:ss")),this.element.value=a}this._initChange=!1},destroy:function(){a(this.element).off(this.eventName,this._change)}}),t.source=F.extend({init:function(a,b,c){F.fn.init.call(this,a,b,c);var d=this.bindings.source.get();d instanceof o.data.DataSource&&c.autoBind!==!1&&d.fetch()},refresh:function(a){var b=this,c=b.bindings.source.get();c instanceof r||c instanceof o.data.DataSource?(a=a||{},"add"==a.action?b.add(a.index,a.items):"remove"==a.action?b.remove(a.index,a.items):"itemchange"!=a.action&&b.render()):b.render()},container:function(){var a=this.element;return"table"==a.nodeName.toLowerCase()&&(a.tBodies[0]||a.appendChild(document.createElement("tbody")),a=a.tBodies[0]),a},template:function(){var a=this.options,b=a.template,c=this.container().nodeName.toLowerCase();return b||(b="select"==c?a.valueField||a.textField?o.format('<option value="#:{0}#">#:{1}#</option>',a.valueField||a.textField,a.textField||a.valueField):"<option>#:data#</option>":"tbody"==c?"<tr><td>#:data#</td></tr>":"ul"==c||"ol"==c?"<li>#:data#</li>":"#:data#",b=o.template(b)),b},add:function(b,c){var d,e,f,h,i=this.container(),j=i.cloneNode(!1),k=i.children[b];if(a(j).html(o.render(this.template(),c)),j.children.length)for(d=this.bindings.source._parents(),e=0,f=c.length;e<f;e++)h=j.children[0],i.insertBefore(h,k||null),g(h,c[e],this.options.roles,[c[e]].concat(d))},remove:function(a,b){var c,d=this.container();for(c=0;c<b.length;c++){var e=d.children[a];j(e),d.removeChild(e)}},render:function(){var b,c,d,e=this.bindings.source.get(),f=this.container(),h=this.template();if(e instanceof o.data.DataSource&&(e=e.view()),e instanceof r||"[object Array]"===s.call(e)||(e=[e]),this.bindings.template){if(k(f),a(f).html(this.bindings.template.render(e)),f.children.length)for(b=this.bindings.source._parents(),c=0,d=e.length;c<d;c++)g(f.children[c],e[c],this.options.roles,[e[c]].concat(b))}else a(f).html(o.render(h,e))}}),t.input={checked:G.extend({init:function(b,c,d){G.fn.init.call(this,b,c,d),this._change=v(this.change,this),a(this.element).change(this._change)},change:function(){var a=this.element,b=this.value();if("radio"==a.type)b=this.parsedValue(),this.bindings[z].set(b);else if("checkbox"==a.type){var c,d=this.bindings[z].get();if(d instanceof r){if(b=this.parsedValue(),b instanceof Date){for(var e=0;e<d.length;e++)if(d[e]instanceof Date&&+d[e]===+b){c=e;break}}else c=d.indexOf(b);c>-1?d.splice(c,1):d.push(b)}else this.bindings[z].set(b)}},refresh:function(){var a=this.bindings[z].get(),b=a,c=this.dataType(),d=this.element;if("checkbox"==d.type)if(b instanceof r){var e=-1;if(a=this.parsedValue(),a instanceof Date){for(var f=0;f<b.length;f++)if(b[f]instanceof Date&&+b[f]===+a){e=f;break}}else e=b.indexOf(a);d.checked=e>=0}else d.checked=b;else"radio"==d.type&&null!=a&&("date"==c?a=o.toString(a,"yyyy-MM-dd"):"datetime-local"==c&&(a=o.toString(a,"yyyy-MM-ddTHH:mm:ss")),d.value===a.toString()&&(d.checked=!0))},value:function(){var a=this.element,b=a.value;return"checkbox"==a.type&&(b=a.checked),b},destroy:function(){a(this.element).off(B,this._change)}})},t.select={source:t.source.extend({refresh:function(c){var d=this,e=d.bindings.source.get();e instanceof r||e instanceof o.data.DataSource?(c=c||{},"add"==c.action?d.add(c.index,c.items):"remove"==c.action?d.remove(c.index,c.items):"itemchange"!=c.action&&c.action!==b||(d.render(),d.bindings.value&&d.bindings.value&&(d.element.value=n(d.bindings.value.get(),a(d.element).data("valueField"))))):d.render()}}),value:G.extend({init:function(b,c,d){G.fn.init.call(this,b,c,d),this._change=v(this.change,this),a(this.element).change(this._change)},parsedValue:function(){var a,b,c,d,e=this.dataType(),f=[];for(c=0,d=this.element.options.length;c<d;c++)b=this.element.options[c],b.selected&&(a=b.attributes.value,a=a&&a.specified?b.value:b.text,f.push(this._parseValue(a,e)));return f},change:function(){var a,c,d,e,f,g=[],h=(this.element,this.options.valueField||this.options.textField),i=this.options.valuePrimitive;if(g=this.parsedValue(),h)for(a=this.bindings.source.get(),a instanceof o.data.DataSource&&(a=a.view()),c=0;c<g.length;c++)for(e=0,f=a.length;e<f;e++){var j=i?this._parseValue(g[c],this.dataType())===a[e].get(h):this._parseValue(a[e].get(h),this.dataType()).toString()===g[c];if(j){g[c]=a[e];break}}d=this.bindings[w].get(),d instanceof r?d.splice.apply(d,[0,d.length].concat(g)):i||!(d instanceof q||null===d||d===b)&&h?this.bindings[w].set(g[0].get(h)):this.bindings[w].set(g[0])},refresh:function(){var a,b,c=this.element,d=c.options,e=(this.options.valuePrimitive,this.bindings[w].get()),f=e,g=this.options.valueField||this.options.textField,h=!1,i=this.dataType();f instanceof r||(f=new r([e])),c.selectedIndex=-1;for(var j=0;j<f.length;j++)for(e=f[j],g&&e instanceof q&&(e=e.get(g)),"date"==i?e=o.toString(f[j],"yyyy-MM-dd"):"datetime-local"==i&&(e=o.toString(f[j],"yyyy-MM-ddTHH:mm:ss")),a=0;a<d.length;a++)b=d[a].value,""===b&&""!==e&&(b=d[a].text),null!=e&&b==e.toString()&&(d[a].selected=!0,h=!0)},destroy:function(){a(this.element).off(B,this._change)}})},t.widget={events:F.extend({init:function(a,b,c){F.fn.init.call(this,a.element[0],b,c),this.widget=a,this.handlers={}},refresh:function(a){var b=this.bindings.events[a],c=this.handlers[a];c&&this.widget.unbind(a,c),c=b.get(),this.handlers[a]=function(a){a.data=b.source,c(a),a.data===b.source&&delete a.data},this.widget.bind(a,this.handlers[a])},destroy:function(){var a;for(a in this.handlers)this.widget.unbind(a,this.handlers[a])}}),checked:F.extend({init:function(a,b,c){F.fn.init.call(this,a.element[0],b,c),this.widget=a,this._change=v(this.change,this),this.widget.bind(B,this._change)},change:function(){this.bindings[z].set(this.value())},refresh:function(){this.widget.check(this.bindings[z].get()===!0)},value:function(){var a=this.element,b=a.value;return"on"!=b&&"off"!=b||(b=a.checked),b},destroy:function(){this.widget.unbind(B,this._change)}}),visible:F.extend({init:function(a,b,c){F.fn.init.call(this,a.element[0],b,c),this.widget=a},refresh:function(){var a=this.bindings.visible.get();this.widget.wrapper[0].style.display=a?"":"none"}}),invisible:F.extend({init:function(a,b,c){F.fn.init.call(this,a.element[0],b,c),this.widget=a},refresh:function(){var a=this.bindings.invisible.get();this.widget.wrapper[0].style.display=a?"none":""}}),enabled:F.extend({init:function(a,b,c){F.fn.init.call(this,a.element[0],b,c),this.widget=a},refresh:function(){this.widget.enable&&this.widget.enable(this.bindings.enabled.get())}}),disabled:F.extend({init:function(a,b,c){F.fn.init.call(this,a.element[0],b,c),this.widget=a},refresh:function(){this.widget.enable&&this.widget.enable(!this.bindings.disabled.get())}}),source:c("source","dataSource","setDataSource"),value:F.extend({init:function(b,c,d){F.fn.init.call(this,b.element[0],c,d),this.widget=b,this._change=a.proxy(this.change,this),this.widget.first(B,this._change);var e=this.bindings.value.get();this._valueIsObservableObject=!d.valuePrimitive&&(null==e||e instanceof q),this._valueIsObservableArray=e instanceof r,this._initChange=!1},change:function(){var a,b,c,d,e,f,g,h=this.widget.value(),i=this.options.dataValueField||this.options.dataTextField,j="[object Array]"===s.call(h),k=this._valueIsObservableObject,l=[];if(this._initChange=!0,i)if(this.bindings.source&&(g=this.bindings.source.get()),
""===h&&(k||this.options.valuePrimitive))h=null;else{for((!g||g instanceof o.data.DataSource)&&(g=this.widget.dataSource.view()),j&&(b=h.length,l=h.slice(0)),e=0,f=g.length;e<f;e++)if(c=g[e],d=c.get(i),j){for(a=0;a<b;a++)if(d==l[a]){l[a]=c;break}}else if(d==h){h=k?c:d;break}l[0]&&(h=this._valueIsObservableArray?l:k||!i?l[0]:l[0].get(i))}this.bindings.value.set(h),this._initChange=!1},refresh:function(){if(!this._initChange){var a,c=this.widget,d=c.options,e=d.dataTextField,f=d.dataValueField||e,g=this.bindings.value.get(),h=d.text||"",i=0,j=[];if(g===b&&(g=null),f)if(g instanceof r){for(a=g.length;i<a;i++)j[i]=g[i].get(f);g=j}else g instanceof q&&(h=g.get(e),g=g.get(f));d.autoBind!==!1||d.cascadeFrom||!c.listView||c.listView.isBound()?c.value(g):(e!==f||h||(h=g),c._preselect(g,h))}this._initChange=!1},destroy:function(){this.widget.unbind(B,this._change)}}),gantt:{dependencies:c("dependencies","dependencies","setDependenciesDataSource")},multiselect:{value:F.extend({init:function(b,c,d){F.fn.init.call(this,b.element[0],c,d),this.widget=b,this._change=a.proxy(this.change,this),this.widget.first(B,this._change),this._initChange=!1},change:function(){var a=this,c=a.bindings[w].get(),d=a.options.valuePrimitive,e=d?a.widget.value():a.widget.dataItems(),f=this.options.dataValueField||this.options.dataTextField;if(e=e.slice(0),a._initChange=!0,c instanceof r){for(var g,h,i,j=[],k=e.length,l=0,m=0,n=c[l],o=!1;n!==b;){for(i=!1,m=0;m<k;m++)if(d?o=e[m]==n:(h=e[m],h=h.get?h.get(f):h,o=h==(n.get?n.get(f):n)),o){e.splice(m,1),k-=1,i=!0;break}i?l+=1:(j.push(n),H(c,l,1),g=l),n=c[l]}H(c,c.length,0,e),j.length&&c.trigger("change",{action:"remove",items:j,index:g}),e.length&&c.trigger("change",{action:"add",items:e,index:c.length-1})}else a.bindings[w].set(e);a._initChange=!1},refresh:function(){if(!this._initChange){var a,c,d=this.options,e=this.widget,f=d.dataValueField||d.dataTextField,g=this.bindings.value.get(),h=g,i=0,j=[];if(g===b&&(g=null),f)if(g instanceof r){for(a=g.length;i<a;i++)c=g[i],j[i]=c.get?c.get(f):c;g=j}else g instanceof q&&(g=g.get(f));d.autoBind!==!1||d.valuePrimitive===!0||e.listView.isBound()?e.value(g):e._preselect(h,g)}},destroy:function(){this.widget.unbind(B,this._change)}})},scheduler:{source:c("source","dataSource","setDataSource").extend({dataBound:function(a){var b,c,d,e,f=this.widget,h=a.addedItems||f.items();if(h.length)for(d=a.addedDataItems||f.dataItems(),e=this.bindings.source._parents(),b=0,c=d.length;b<c;b++)g(h[b],d[b],this._ns(a.ns),[d[b]].concat(e))}})}};var H=function(a,b,c,d){d=d||[],c=c||0;var e,f=d.length,g=a.length,h=[].slice.call(a,b+c),i=h.length;if(f){for(f=b+f,e=0;b<f;b++)a[b]=d[e],e++;a.length=f}else if(c)for(a.length=b,c+=b;b<c;)delete a[--c];if(i){for(i=b+i,e=0;b<i;b++)a[b]=h[e],e++;a.length=i}for(b=a.length;b<g;)delete a[b],b++},I=u.extend({init:function(a,b){this.target=a,this.options=b,this.toDestroy=[]},bind:function(a){var b,c,d,e,f,g=this instanceof J,h=this.binders();for(b in a)b==w?c=!0:b==x?d=!0:b!=y||g?b==z?f=!0:this.applyBinding(b,a,h):e=!0;d&&this.applyBinding(x,a,h),c&&this.applyBinding(w,a,h),f&&this.applyBinding(z,a,h),e&&!g&&this.applyBinding(y,a,h)},binders:function(){return t[this.target.nodeName.toLowerCase()]||{}},applyBinding:function(a,b,c){var d,e=c[a]||t[a],f=this.toDestroy,g=b[a];if(e)if(e=new e(this.target,b,this.options),f.push(e),g instanceof C)e.bind(g),f.push(g);else for(d in g)e.bind(g,d),f.push(g[d]);else if("template"!==a)throw new Error("The "+a+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element")},destroy:function(){var a,b,c=this.toDestroy;for(a=0,b=c.length;a<b;a++)c[a].destroy()}}),J=I.extend({binders:function(){return t.widget[this.target.options.name.toLowerCase()]||{}},applyBinding:function(a,b,c){var d,e=c[a]||t.widget[a],f=this.toDestroy,g=b[a];if(!e)throw new Error("The "+a+" binding is not supported by the "+this.target.options.name+" widget");if(e=new e(this.target,b,this.target.options),f.push(e),g instanceof C)e.bind(g),f.push(g);else for(d in g)e.bind(g,d),f.push(g[d])}}),K=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,L=/\s/g;o.unbind=l,o.bind=h,o.data.binders=t,o.data.Binder=F,o.notify=m,o.observable=function(a){return a instanceof q||(a=new q(a)),a},o.observableHierarchy=function(a){function b(a){var c,d;for(c=0;c<a.length;c++)a[c]._initChildren(),d=a[c].children,d.fetch(),a[c].items=d.data(),b(a[c].items)}var c=o.data.HierarchicalDataSource.create(a);return c.fetch(),b(c.data()),c._data._dataSource=c,c._data}}(window.kendo.jQuery),function(a,b){function c(b){return b=null!=b?b:"",b.type||a.type(b)||"string"}function d(b){b.find(":input:not(:button, ["+h.attr("role")+"=upload], ["+h.attr("skip")+"], [type=file]), select").each(function(){var b=h.attr("bind"),c=this.getAttribute(b)||"",d="checkbox"===this.type||"radio"===this.type?"checked:":"value:",e=this.name;c.indexOf(d)===-1&&e&&(c+=(c.length?",":"")+d+e,a(this).attr(b,c))})}function e(a){var b,d,e=(a.model.fields||a.model)[a.field],f=c(e),g=e?e.validation:{},i=h.attr("type"),j=h.attr("bind"),k={name:a.field};for(b in g)d=g[b],o(b,s)>=0?k[i]=b:m(d)||(k[b]=n(d)?d.value||b:d),k[h.attr(b+"-msg")]=d.message;return o(f,s)>=0&&(k[i]=f),k[j]=("boolean"===f?"checked:":"value:")+a.field,k}function f(a){var b,c,d,e,f,g;if(a&&a.length)for(g=[],b=0,c=a.length;b<c;b++)d=a[b],f=d.text||d.value||d,e=null==d.value?d.text||d:d.value,g[b]={text:f,value:e};return g}function g(a,b){var c,d,e=a?a.validation||{}:{};for(c in e)d=e[c],n(d)&&d.value&&(d=d.value),m(d)&&(b[c]=d)}var h=window.kendo,i=h.ui,j=i.Widget,k=a.extend,l=h.support.browser.msie&&h.support.browser.version<9,m=h.isFunction,n=a.isPlainObject,o=a.inArray,p=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,q='<div class="k-widget k-tooltip k-tooltip-validation" style="margin:0.5em"><span class="k-icon k-warning"> </span>#=message#<div class="k-callout k-callout-n"></div></div>',r="change",s=["url","email","number","date","boolean"],t={number:function(b,c){var d=e(c);a('<input type="text"/>').attr(d).appendTo(b).kendoNumericTextBox({format:c.format}),a("<span "+h.attr("for")+'="'+c.field+'" class="k-invalid-msg"/>').hide().appendTo(b)},date:function(b,c){var d=e(c),f=c.format;f&&(f=h._extractFormat(f)),d[h.attr("format")]=f,a('<input type="text"/>').attr(d).appendTo(b).kendoDatePicker({format:c.format}),a("<span "+h.attr("for")+'="'+c.field+'" class="k-invalid-msg"/>').hide().appendTo(b)},string:function(b,c){var d=e(c);a('<input type="text" class="k-input k-textbox"/>').attr(d).appendTo(b)},"boolean":function(b,c){var d=e(c);a('<input type="checkbox" />').attr(d).appendTo(b)},values:function(b,c){var d=e(c);a("<select "+h.attr("text-field")+'="text"'+h.attr("value-field")+'="value"'+h.attr("source")+"='"+h.stringify(f(c.values)).replace(/\'/g,"&apos;")+"'"+h.attr("role")+'="dropdownlist"/>').attr(d).appendTo(b),a("<span "+h.attr("for")+'="'+c.field+'" class="k-invalid-msg"/>').hide().appendTo(b)}},u=j.extend({init:function(b,c){var d=this;c.target&&(c.$angular=c.target.options.$angular),j.fn.init.call(d,b,c),d._validateProxy=a.proxy(d._validate,d),d.refresh()},events:[r],options:{name:"Editable",editors:t,clearContainer:!0,errorTemplate:q},editor:function(a,b){var d=this,e=d.options.editors,f=n(a),g=f?a.field:a,i=d.options.model||{},j=f&&a.values,l=j?"values":c(b),m=f&&a.editor,o=m?a.editor:e[l],q=d.element.find("["+h.attr("container-for")+"="+g.replace(p,"\\$1")+"]");o=o?o:e.string,m&&"string"==typeof a.editor&&(o=function(b){b.append(a.editor)}),q=q.length?q:d.element,o(q,k(!0,{},f?a:{field:g},{model:i}))},_validate:function(b){var c,d=this,e=b.value,f=d._validationEventInProgress,g={},i=h.attr("bind"),j=b.field.replace(p,"\\$1"),k=new RegExp("(value|checked)\\s*:\\s*"+j+"\\s*(,|$)");g[b.field]=b.value,c=a(":input["+i+'*="'+j+'"]',d.element).filter("["+h.attr("validate")+"!='false']").filter(function(b){return k.test(a(this).attr(i))}),c.length>1&&(c=c.filter(function(){var b=a(this);return!b.is(":radio")||b.val()==e}));try{d._validationEventInProgress=!0,(!d.validatable.validateInput(c)||!f&&d.trigger(r,{values:g}))&&b.preventDefault()}finally{d._validationEventInProgress=!1}},end:function(){return this.validatable.validate()},destroy:function(){var a=this;a.angular("cleanup",function(){return{elements:a.element}}),j.fn.destroy.call(a),a.options.model.unbind("set",a._validateProxy),h.unbind(a.element),a.validatable&&a.validatable.destroy(),h.destroy(a.element),a.element.removeData("kendoValidator")},refresh:function(){var c,e,f,i,j,k,m,o=this,p=o.options.fields||[],q=o.options.clearContainer?o.element.empty():o.element,r=o.options.model||{},s={};for(a.isArray(p)||(p=[p]),c=0,e=p.length;c<e;c++)f=p[c],i=n(f),j=i?f.field:f,k=(r.fields||r)[j],g(k,s),o.editor(f,k);if(o.options.target&&o.angular("compile",function(){return{elements:q,data:[{dataItem:r}]}}),!e){m=r.fields||r;for(j in m)g(m[j],s)}d(q),o.validatable&&o.validatable.destroy(),h.bind(q,o.options.model),o.options.model.unbind("set",o._validateProxy),o.options.model.bind("set",o._validateProxy),o.validatable=new h.ui.Validator(q,{validateOnBlur:!1,errorTemplate:o.options.errorTemplate||b,rules:s});var t=q.find(":kendoFocusable").eq(0).focus();l&&t.focus()}});i.plugin(u)}(window.kendo.jQuery),function(a,b){function c(a){return"undefined"!=typeof a}function d(a,b,c){return Math.max(Math.min(parseInt(a,10),c===1/0?c:parseInt(c,10)),parseInt(b,10))}function e(a,b){return function(){var c=this,d=c.wrapper,e=d[0].style,f=c.options;return f.isMaximized||f.isMinimized?c:(c.restoreOptions={width:e.width,height:e.height},d.children(y).hide().end().children(w).find(U).parent().hide().eq(0).before(i.action({name:"Restore"})),b.call(c),"maximize"==a?c.wrapper.children(w).find(X).parent().hide():c.wrapper.children(w).find(X).parent().show(),c)}}function f(){return!this.type||this.type.toLowerCase().indexOf("script")>=0}function g(a){var b=this;b.owner=a,b._draggable=new l(a.wrapper,{filter:">"+y,group:a.wrapper.id+"-resizing",dragstart:o(b.dragstart,b),drag:o(b.drag,b),dragend:o(b.dragend,b)}),b._draggable.userEvents.bind("press",o(b.addOverlay,b)),b._draggable.userEvents.bind("release",o(b.removeOverlay,b))}function h(a,b){var c=this;c.owner=a,c._draggable=new l(a.wrapper,{filter:b,group:a.wrapper.id+"-moving",dragstart:o(c.dragstart,c),drag:o(c.drag,c),dragend:o(c.dragend,c),dragcancel:o(c.dragcancel,c)}),c._draggable.userEvents.stopPropagation=!1}var i,j=window.kendo,k=j.ui.Widget,l=j.ui.Draggable,m=a.isPlainObject,n=j._activeElement,o=a.proxy,p=a.extend,q=a.each,r=j.template,s="body",t=".kendoWindow",u=".k-window",v=".k-window-title",w=v+"bar",x=".k-window-content",y=".k-resize-handle",z=".k-overlay",A="k-content-frame",B="k-loading",C="k-state-hover",D="k-state-focused",E="k-window-maximized",F=":visible",G="hidden",H="cursor",I="open",J="activate",K="deactivate",L="close",M="refresh",N="resize",O="resizeEnd",P="dragstart",Q="dragend",R="error",S="overflow",T="zIndex",U=".k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize",V=".k-i-pin",W=".k-i-unpin",X=V+","+W,Y=".k-window-titlebar .k-window-action",Z=".k-window-titlebar .k-i-refresh",$=j.isLocalUrl,_=k.extend({init:function(d,e){var g,h,i,l,n,p,q,r=this,s={},y=!1,z=e&&e.actions&&!e.actions.length;k.fn.init.call(r,d,e),e=r.options,l=e.position,d=r.element,n=e.content,z&&(e.actions=[]),r.appendTo=a(e.appendTo),r._animations(),n&&!m(n)&&(n=e.content={url:n}),d.find("script").filter(f).remove(),d.parent().is(r.appendTo)||l.top!==b&&l.left!==b||(d.is(F)?(s=d.offset(),y=!0):(h=d.css("visibility"),i=d.css("display"),d.css({visibility:G,display:""}),s=d.offset(),d.css({visibility:h,display:i})),l.top===b&&(l.top=s.top),l.left===b&&(l.left=s.left)),c(e.visible)&&null!==e.visible||(e.visible=d.is(F)),g=r.wrapper=d.closest(u),d.is(".k-content")&&g[0]||(d.addClass("k-window-content k-content"),r._createWindow(d,e),g=r.wrapper=d.closest(u),r._dimensions()),r._position(),e.pinned&&r.pin(!0),n&&r.refresh(n),e.visible&&r.toFront(),p=g.children(x),r._tabindex(p),e.visible&&e.modal&&r._overlay(g.is(F)).css({opacity:.5}),g.on("mouseenter"+t,Y,o(r._buttonEnter,r)).on("mouseleave"+t,Y,o(r._buttonLeave,r)).on("click"+t,"> "+Y,o(r._windowActionHandler,r)),p.on("keydown"+t,o(r._keydown,r)).on("focus"+t,o(r._focus,r)).on("blur"+t,o(r._blur,r)),this._resizable(),this._draggable(),q=d.attr("id"),q&&(q+="_wnd_title",g.children(w).children(v).attr("id",q),p.attr({role:"dialog","aria-labelledby":q})),g.add(g.children(".k-resize-handle,"+w)).on("mousedown"+t,o(r.toFront,r)),r.touchScroller=j.touchScroller(d),r._resizeHandler=o(r._onDocumentResize,r),r._marker=j.guid().substring(0,8),a(window).on("resize"+t+r._marker,r._resizeHandler),e.visible&&(r.trigger(I),r.trigger(J)),j.notify(r)},_buttonEnter:function(b){a(b.currentTarget).addClass(C)},_buttonLeave:function(b){a(b.currentTarget).removeClass(C)},_focus:function(){this.wrapper.addClass(D)},_blur:function(){this.wrapper.removeClass(D)},_dimensions:function(){var a=this.wrapper,b=this.options,c=b.width,e=b.height,f=b.maxHeight,g=["minWidth","minHeight","maxWidth","maxHeight"];this.title(b.title);for(var h=0;h<g.length;h++){var i=b[g[h]];i&&i!=1/0&&a.css(g[h],i)}f&&f!=1/0&&this.element.css("maxHeight",f),c&&(c.toString().indexOf("%")>0?a.width(c):a.width(d(c,b.minWidth,b.maxWidth))),e&&(e.toString().indexOf("%")>0?a.height(e):a.height(d(e,b.minHeight,b.maxHeight))),b.visible||a.hide()},_position:function(){var a=this.wrapper,b=this.options.position;0===b.top&&(b.top=b.top.toString()),0===b.left&&(b.left=b.left.toString()),a.css({top:b.top||"",left:b.left||""})},_animations:function(){var a=this.options;a.animation===!1&&(a.animation={open:{effects:{}},close:{hide:!0,effects:{}}})},_resize:function(){j.resize(this.element.children())},_resizable:function(){var b=this.options.resizable,c=this.wrapper;this.resizing&&(c.off("dblclick"+t).children(y).remove(),this.resizing.destroy(),this.resizing=null),b&&(c.on("dblclick"+t,w,o(function(b){a(b.target).closest(".k-window-action").length||this.toggleMaximization()},this)),q("n e s w se sw ne nw".split(" "),function(a,b){c.append(i.resizeHandle(b))}),this.resizing=new g(this)),c=null},_draggable:function(){var a=this.options.draggable;this.dragging&&(this.dragging.destroy(),this.dragging=null),a&&(this.dragging=new h(this,a.dragHandle||w))},_actions:function(){var b=this.options.actions,c=this.wrapper.children(w),d=c.find(".k-window-actions");b=a.map(b,function(a){return{name:a}}),d.html(j.render(i.action,b))},setOptions:function(a){k.fn.setOptions.call(this,a),this._animations(),this._dimensions(),this._position(),this._resizable(),this._draggable(),this._actions()},events:[I,J,K,L,M,N,O,P,Q,R],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:.7}},fade:{direction:"out"}},duration:350,hide:!0}},title:"",actions:["Close"],autoFocus:!0,modal:!1,resizable:!0,draggable:!0,minWidth:90,minHeight:50,maxWidth:1/0,maxHeight:1/0,pinned:!1,position:{},content:null,visible:null,height:null,width:null,appendTo:"body"},_closable:function(){return a.inArray("close",a.map(this.options.actions,function(a){return a.toLowerCase()}))>-1},_keydown:function(a){var b,c,e,f,g,h,i=this,k=i.options,l=j.keys,m=a.keyCode,n=i.wrapper,o=10,p=i.options.isMaximized;a.target!=a.currentTarget||i._closing||(m==l.ESC&&i._closable()&&i._close(!1),!k.draggable||a.ctrlKey||p||(b=j.getOffset(n),m==l.UP?c=n.css("top",b.top-o):m==l.DOWN?c=n.css("top",b.top+o):m==l.LEFT?c=n.css("left",b.left-o):m==l.RIGHT&&(c=n.css("left",b.left+o))),k.resizable&&a.ctrlKey&&!p&&(m==l.UP?(c=!0,f=n.height()-o):m==l.DOWN&&(c=!0,f=n.height()+o),m==l.LEFT?(c=!0,e=n.width()-o):m==l.RIGHT&&(c=!0,e=n.width()+o),c&&(g=d(e,k.minWidth,k.maxWidth),h=d(f,k.minHeight,k.maxHeight),isNaN(g)||(n.width(g),i.options.width=g+"px"),isNaN(h)||(n.height(h),i.options.height=h+"px"),i.resize())),c&&a.preventDefault())},_overlay:function(b){var c=this.appendTo.children(z),d=this.wrapper;return c.length||(c=a("<div class='k-overlay' />")),c.insertBefore(d[0]).toggle(b).css(T,parseInt(d.css(T),10)-1),c},_actionForIcon:function(a){var b=/\bk-i-\w+\b/.exec(a[0].className)[0];return{"k-i-close":"_close","k-i-maximize":"maximize","k-i-minimize":"minimize","k-i-restore":"restore","k-i-refresh":"refresh","k-i-pin":"pin","k-i-unpin":"unpin"}[b]},_windowActionHandler:function(b){if(!this._closing){var c=a(b.target).closest(".k-window-action").find(".k-icon"),d=this._actionForIcon(c);return d?(b.preventDefault(),this[d](),!1):void 0}},_modals:function(){var b=this,c=a(u).filter(function(){var c=a(this),d=b._object(c),e=d&&d.options;return e&&e.modal&&e.visible&&c.is(F)}).sort(function(b,c){return+a(b).css("zIndex")-+a(c).css("zIndex")});return b=null,c},_object:function(a){var b=a.children(x);return b.data("kendoWindow")||b.data("kendo"+this.options.name)},center:function(){var b,c,d=this,e=d.options.position,f=d.wrapper,g=a(window),h=0,i=0;return d.options.isMaximized?d:(d.options.pinned||(h=g.scrollTop(),i=g.scrollLeft()),c=i+Math.max(0,(g.width()-f.width())/2),b=h+Math.max(0,(g.height()-f.height()-parseInt(f.css("paddingTop"),10))/2),f.css({left:c,top:b}),e.top=b,e.left=c,d)},title:function(a){var b,c=this,d=c.wrapper,e=c.options,f=d.children(w),g=f.children(v);return arguments.length?(a===!1?(d.addClass("k-window-titleless"),f.remove()):(f.length?g.html(a):(d.prepend(i.titlebar(e)),c._actions(),f=d.children(w)),b=f.outerHeight(),d.css("padding-top",b),f.css("margin-top",-b)),c.options.title=a,c):g.text()},content:function(a,b){var d=this.wrapper.children(x),e=d.children(".km-scroll-container");return d=e[0]?e:d,c(a)?(this.angular("cleanup",function(){return{elements:d.children()}}),j.destroy(this.element.children()),d.empty().html(a),this.angular("compile",function(){for(var a=[],c=d.length;--c>=0;)a.push({dataItem:b});return{elements:d.children(),data:a}}),this):d.html()},open:function(){var b,c=this,d=c.wrapper,e=c.options,f=e.animation.open,g=d.children(x),h=a(document);if(!c.trigger(I)){if(c._closing&&d.kendoStop(!0,!0),c._closing=!1,c.toFront(),e.autoFocus&&c.element.focus(),e.visible=!0,e.modal){if(b=c._overlay(!1),b.kendoStop(!0,!0),f.duration&&j.effects.Fade){var i=j.fx(b).fadeIn();i.duration(f.duration||0),i.endValue(.5),i.play()}else b.css("opacity",.5);b.show()}d.is(F)||(g.css(S,G),d.show().kendoStop().kendoAnimate({effects:f.effects,duration:f.duration,complete:o(this._activate,this)}))}return e.isMaximized&&(c._documentScrollTop=h.scrollTop(),c._documentScrollLeft=h.scrollLeft(),a("html, body").css(S,G)),c},_activate:function(){this.options.autoFocus&&this.element.focus(),this.trigger(J),this.wrapper.children(x).css(S,"")},_removeOverlay:function(c){var d=this._modals(),e=this.options,f=e.modal&&!d.length,g=e.modal?this._overlay(!0):a(b),h=e.animation.close;if(f)if(!c&&h.duration&&j.effects.Fade){var i=j.fx(g).fadeOut();i.duration(h.duration||0),i.startValue(.5),i.play()}else this._overlay(!1).remove();else d.length&&this._object(d.last())._overlay(!0)},_close:function(b){var c=this,d=c.wrapper,e=c.options,f=e.animation.open,g=e.animation.close,h=a(document);if(d.is(F)&&!c.trigger(L,{userTriggered:!b})){if(c._closing)return;c._closing=!0,e.visible=!1,a(u).each(function(b,c){var e=a(c).children(x);c!=d&&e.find("> ."+A).length>0&&e.children(z).remove()}),this._removeOverlay(),d.kendoStop().kendoAnimate({effects:g.effects||f.effects,reverse:g.reverse===!0,duration:g.duration,complete:o(this._deactivate,this)})}c.options.isMaximized&&(a("html, body").css(S,""),c._documentScrollTop&&c._documentScrollTop>0&&h.scrollTop(c._documentScrollTop),c._documentScrollLeft&&c._documentScrollLeft>0&&h.scrollLeft(c._documentScrollLeft))},_deactivate:function(){this.wrapper.hide().css("opacity",""),this.trigger(K);var a=this._object(this._modals().last());a&&a.toFront()},close:function(){return this._close(!0),this},_actionable:function(b){return a(b).is(Y+","+Y+" .k-icon,:input,a")},_shouldFocus:function(b){var c=n(),d=this.element;return this.options.autoFocus&&!a(c).is(d)&&!this._actionable(b)&&(!d.find(c).length||!d.find(b).length)},toFront:function(b){var c=this,d=c.wrapper,e=d[0],f=+d.css(T),g=f,h=b&&b.target||null;if(a(u).each(function(b,c){var d=a(c),g=d.css(T),h=d.children(x);isNaN(g)||(f=Math.max(+g,f)),c!=e&&h.find("> ."+A).length>0&&h.append(i.overlay)}),(!d[0].style.zIndex||g<f)&&d.css(T,f+2),c.element.find("> .k-overlay").remove(),c._shouldFocus(h)){c.element.focus();var j=a(window).scrollTop(),k=parseInt(d.position().top,10);k>0&&k<j&&(j>0?a(window).scrollTop(k):d.css("top",j))}return d=null,c},toggleMaximization:function(){return this._closing?this:this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var b=this,c=b.options,d=c.minHeight,e=b.restoreOptions,f=a(document);return c.isMaximized||c.isMinimized?(d&&d!=1/0&&b.wrapper.css("min-height",d),b.wrapper.css({position:c.pinned?"fixed":"absolute",left:e.left,top:e.top,width:e.width,height:e.height}).removeClass(E).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-restore").parent().remove().end().end().find(U).parent().show().end().end().find(X).parent().show(),b.options.width=e.width,b.options.height=e.height,a("html, body").css(S,""),this._documentScrollTop&&this._documentScrollTop>0&&f.scrollTop(this._documentScrollTop),this._documentScrollLeft&&this._documentScrollLeft>0&&f.scrollLeft(this._documentScrollLeft),c.isMaximized=c.isMinimized=!1,b.resize(),b):b},maximize:e("maximize",function(){var b=this,c=b.wrapper,d=c.position(),e=a(document);p(b.restoreOptions,{left:d.left,top:d.top}),c.css({left:0,top:0,position:"fixed"}).addClass(E),this._documentScrollTop=e.scrollTop(),this._documentScrollLeft=e.scrollLeft(),a("html, body").css(S,G),b.options.isMaximized=!0,b._onDocumentResize()}),minimize:e("minimize",function(){var a=this;a.wrapper.css({height:"",minHeight:""}),a.element.hide(),a.options.isMinimized=!0}),pin:function(b){var c=this,d=a(window),e=c.wrapper,f=parseInt(e.css("top"),10),g=parseInt(e.css("left"),10);(b||!c.options.pinned&&!c.options.isMaximized)&&(e.css({position:"fixed",top:f-d.scrollTop(),left:g-d.scrollLeft()}),e.children(w).find(V).addClass("k-i-unpin").removeClass("k-i-pin"),c.options.pinned=!0)},unpin:function(){var b=this,c=a(window),d=b.wrapper,e=parseInt(d.css("top"),10),f=parseInt(d.css("left"),10);b.options.pinned&&!b.options.isMaximized&&(d.css({position:"",top:e+c.scrollTop(),left:f+c.scrollLeft()}),d.children(w).find(W).addClass("k-i-pin").removeClass("k-i-unpin"),b.options.pinned=!1)},_onDocumentResize:function(){var b,c,d=this,e=d.wrapper,f=a(window),g=j.support.zoomLevel();d.options.isMaximized&&(b=f.width()/g,c=f.height()/g-parseInt(e.css("padding-top"),10),e.css({width:b,height:c}),d.options.width=b,d.options.height=c,d.resize())},refresh:function(b){var d,e,f,g=this,h=g.options,j=a(g.element);return m(b)||(b={url:b}),b=p({},h.content,b),e=c(h.iframe)?h.iframe:b.iframe,f=b.url,f?(c(e)||(e=!$(f)),e?(d=j.find("."+A)[0],d?d.src=f||d.src:j.html(i.contentFrame(p({},h,{content:b}))),j.find("."+A).unbind("load"+t).on("load"+t,o(this._triggerRefresh,this))):g._ajaxRequest(b)):(b.template&&g.content(r(b.template)({})),g.trigger(M)),j.toggleClass("k-window-iframecontent",!!e),g},_triggerRefresh:function(){this.trigger(M)},_ajaxComplete:function(){clearTimeout(this._loadingIconTimeout),this.wrapper.find(Z).removeClass(B)},_ajaxError:function(a,b){this.trigger(R,{status:b,xhr:a})},_ajaxSuccess:function(a){return function(b){var c=b;a&&(c=r(a)(b||{})),this.content(c,b),this.element.prop("scrollTop",0),this.trigger(M)}},_showLoading:function(){this.wrapper.find(Z).addClass(B)},_ajaxRequest:function(b){this._loadingIconTimeout=setTimeout(o(this._showLoading,this),100),a.ajax(p({type:"GET",dataType:"html",cache:!1,error:o(this._ajaxError,this),complete:o(this._ajaxComplete,this),success:o(this._ajaxSuccess(b.template),this)},b))},destroy:function(){var c=this;c.resizing&&c.resizing.destroy(),c.dragging&&c.dragging.destroy(),c.wrapper.off(t).children(x).off(t).end().find(".k-resize-handle,.k-window-titlebar").off(t),a(window).off("resize"+t+c._marker),clearTimeout(c._loadingIconTimeout),k.fn.destroy.call(c),c.unbind(b),j.destroy(c.wrapper),c._removeOverlay(!0),c.wrapper.empty().remove(),c.wrapper=c.appendTo=c.element=a()},_createWindow:function(){var b,c,d=this.element,e=this.options,f=j.support.isRtl(d);e.scrollable===!1&&d.attr("style","overflow:hidden;"),c=a(i.wrapper(e)),b=d.find("iframe:not(.k-content)").map(function(){var a=this.getAttribute("src");return this.src="",a}),c.toggleClass("k-rtl",f).appendTo(this.appendTo).append(d).find("iframe:not(.k-content)").each(function(a){this.src=b[a]}),c.find(".k-window-title").css(f?"left":"right",c.find(".k-window-actions").outerWidth()+10),d.css("visibility","").show(),d.find("[data-role=editor]").each(function(){var b=a(this).data("kendoEditor");b&&b.refresh()}),c=d=null}});i={wrapper:r("<div class='k-widget k-window' />"),action:r("<a role='button' href='\\#' class='k-window-action k-link'><span role='presentation' class='k-icon k-i-#= name.toLowerCase() #'>#= name #</span></a>"),titlebar:r("<div class='k-window-titlebar k-header'>&nbsp;<span class='k-window-title'>#= title #</span><div class='k-window-actions' /></div>"),overlay:"<div class='k-overlay' />",contentFrame:r("<iframe frameborder='0' title='#= title #' class='"+A+"' src='#= content.url #'>This page requires frames in order to show content</iframe>"),resizeHandle:r("<div class='k-resize-handle k-resize-#= data #'></div>")},g.prototype={addOverlay:function(){this.owner.wrapper.append(i.overlay)},removeOverlay:function(){this.owner.wrapper.find(z).remove()},dragstart:function(b){var c=this,d=c.owner,e=d.wrapper;c.elementPadding=parseInt(e.css("padding-top"),10),c.initialPosition=j.getOffset(e,"position"),c.resizeDirection=b.currentTarget.prop("className").replace("k-resize-handle k-resize-",""),c.initialSize={width:e.width(),height:e.height()},c.containerOffset=j.getOffset(d.appendTo,"position"),e.children(y).not(b.currentTarget).hide(),a(s).css(H,b.currentTarget.css(H))},drag:function(a){var b,c,e,f,g=this,h=g.owner,i=h.wrapper,j=h.options,k=g.resizeDirection,l=g.containerOffset,m=g.initialPosition,n=g.initialSize,o=Math.max(a.x.location,l.left),p=Math.max(a.y.location,l.top);k.indexOf("e")>=0?(b=o-m.left,i.width(d(b,j.minWidth,j.maxWidth))):k.indexOf("w")>=0&&(f=m.left+n.width,b=d(f-o,j.minWidth,j.maxWidth),i.css({left:f-b-l.left,width:b})),k.indexOf("s")>=0?(c=p-m.top-g.elementPadding,i.height(d(c,j.minHeight,j.maxHeight))):k.indexOf("n")>=0&&(e=m.top+n.height,c=d(e-p,j.minHeight,j.maxHeight),i.css({top:e-c-l.top,height:c})),b&&(h.options.width=b+"px"),c&&(h.options.height=c+"px"),h.resize()},dragend:function(b){var c=this,d=c.owner,e=d.wrapper;return e.children(y).not(b.currentTarget).show(),a(s).css(H,""),d.touchScroller&&d.touchScroller.reset(),27==b.keyCode&&e.css(c.initialPosition).css(c.initialSize),d.trigger(O),!1},destroy:function(){this._draggable&&this._draggable.destroy(),this._draggable=this.owner=null}},h.prototype={dragstart:function(b){var c=this.owner,d=c.element,e=d.find(".k-window-actions"),f=j.getOffset(c.appendTo);c.trigger(P),c.initialWindowPosition=j.getOffset(c.wrapper,"position"),c.startPosition={left:b.x.client-c.initialWindowPosition.left,top:b.y.client-c.initialWindowPosition.top},e.length>0?c.minLeftPosition=e.outerWidth()+parseInt(e.css("right"),10)-d.outerWidth():c.minLeftPosition=20-d.outerWidth(),c.minLeftPosition-=f.left,c.minTopPosition=-f.top,c.wrapper.append(i.overlay).children(y).hide(),a(s).css(H,b.currentTarget.css(H))},drag:function(b){var c=this.owner,d=c.options.position,e=Math.max(b.y.client-c.startPosition.top,c.minTopPosition),f=Math.max(b.x.client-c.startPosition.left,c.minLeftPosition),g={left:f,top:e};a(c.wrapper).css(g),d.top=e,d.left=f},_finishDrag:function(){var b=this.owner;b.wrapper.children(y).toggle(!b.options.isMinimized).end().find(z).remove(),a(s).css(H,"")},dragcancel:function(a){this._finishDrag(),a.currentTarget.closest(u).css(this.owner.initialWindowPosition)},dragend:function(){return this._finishDrag(),this.owner.trigger(Q),!1},destroy:function(){this._draggable&&this._draggable.destroy(),this._draggable=this.owner=null}},j.ui.plugin(_)}(window.kendo.jQuery),function(a,b){function c(b,d){b.filters&&(b.filters=a.grep(b.filters,function(a){return c(a,d),a.filters?a.filters.length:a.field!=d}))}function d(a){var b,c,d,e,f,g;if(a&&a.length)for(g=[],b=0,c=a.length;b<c;b++)d=a[b],f=d.text||d.value||d,e=null==d.value?d.text||d:d.value,g[b]={text:f,value:e};return g}function e(b,c){return a.grep(b,function(b){return b.filters?(b.filters=a.grep(b.filters,function(a){return a.field!=c}),b.filters.length):b.field!=c})}function f(b,c){b.filters&&(b.filters=a.grep(b.filters,function(a){return f(a,c),a.filters?a.filters.length:a.field==c&&"eq"==a.operator}))}function g(c){return"and"==c.logic&&c.filters.length>1?[]:c.filters?a.map(c.filters,function(a){return g(a)}):null!==c.value&&c.value!==b?[c.value]:[]}function h(a,c){for(var d=j.getter(c,!0),e=[],f=0,g={};f<a.length;){var h=a[f++],i=d(h);i===b||null===i||g.hasOwnProperty(i)||(e.push(h),g[i]=!0)}return e}function i(a,b){return function(c){var d=a(c);return h(d,b)}}var j=window.kendo,k=j.ui,l=a.proxy,m="kendoPopup",n="init",o="refresh",p="change",q=".kendoFilterMenu",r="Is equal to",s="Is not equal to",t={number:"numerictextbox",date:"datepicker"},u={string:"text",number:"number",date:"date"},v=j.isFunction,w=k.Widget,x='<div><div class="k-filter-help-text">#=messages.info#</div><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label><div><button type="submit" class="k-button k-primary">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>',y='<div><div class="k-filter-help-text">#=messages.info#</div><select data-#=ns#bind="value: filters[0].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[0].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#"></select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}##if(extra){#<select class="k-filter-and" data-#=ns#bind="value: logic" data-#=ns#role="dropdownlist"><option value="and">#=messages.and#</option><option value="or">#=messages.or#</option></select><select data-#=ns#bind="value: filters[1].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[1].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#"></select>#}else{#<input data-#=ns#bind="value: filters[1].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""#/>#}##}#<div><button type="submit" class="k-button k-primary">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>',z='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-cancel">#=messages.cancel#</button>#=title#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form class="k-filter-menu k-mobile-list"><ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#</span><ul><li class="k-item"><label class="k-label">#=messages.operator#<select data-#=ns#bind="value: filters[0].operator">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></label></li><li class="k-item"><label class="k-label">#=messages.value##if(values){#<select data-#=ns#bind="value:filters[0].value"><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="#=inputType#" #=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}#</label></li>#if(extra){#</ul><ul class="k-filter-help-text"><li><span class="k-link"></span><li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="and" />#=messages.and#</label></li><li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="or" />#=messages.or#</label></li></ul><ul class="k-filter-help-text"><li><span class="k-link"></span><li class="k-item"><label class="k-label">#=messages.operator#<select data-#=ns#bind="value: filters[1].operator">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></label></li><li class="k-item"><label class="k-label">#=messages.value##if(values){#<select data-#=ns#bind="value:filters[1].value"><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input data-#=ns#bind="value:filters[1].value" class="k-textbox" type="#=inputType#" #=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}#</label></li>#}#</ul></li><li class="k-button-container"><button type="reset" class="k-button">#=messages.clear#</button></li></ul></div></form></div>',A='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-cancel">#=messages.cancel#</button>#=title#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form class="k-filter-menu k-mobile-list"><ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#</span><ul><li class="k-item"><label class="k-label"><input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label></li><li class="k-item"><label class="k-label"><input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label></li></ul></li><li class="k-button-container"><button type="reset" class="k-button">#=messages.clear#</button></li></ul></form></div>',B=w.extend({
init:function(b,c){var d,e,f,g,h=this,i="string";w.fn.init.call(h,b,c),d=h.operators=c.operators||{},b=h.element,c=h.options,c.appendToElement||(f=b.addClass("k-with-icon k-filterable").find(".k-grid-filter"),f[0]||(f=b.prepend('<a class="k-grid-filter" href="#"><span class="k-icon k-filter"/></a>').find(".k-grid-filter")),f.attr("tabindex",-1).on("click"+q,l(h._click,h))),h.link=f||a(),h.dataSource=c.dataSource,h.field=c.field||b.attr(j.attr("field")),h.model=h.dataSource.reader.model,h._parse=function(a){return a+""},h.model&&h.model.fields&&(g=h.model.fields[h.field],g&&(i=g.type||"string",g.parse&&(h._parse=l(g.parse,g)))),c.values&&(i="enums"),h.type=i,d=d[i]||c.operators[i];for(e in d)break;h._defaultFilter=function(){return{field:h.field,operator:e||"eq",value:""}},h._refreshHandler=l(h.refresh,h),h.dataSource.bind(p,h._refreshHandler),c.appendToElement?h._init():h.refresh()},_init:function(){var b,c=this,d=c.options.ui,e=v(d);c.pane=c.options.pane,c.pane&&(c._isMobile=!0),e||(b=d||t[c.type]),c._isMobile?c._createMobileForm(b):c._createForm(b),c.form.on("submit"+q,l(c._submit,c)).on("reset"+q,l(c._reset,c)),e&&c.form.find(".k-textbox").removeClass("k-textbox").each(function(){d(a(this))}),c.form.find("["+j.attr("role")+"=numerictextbox]").removeClass("k-textbox").end().find("["+j.attr("role")+"=datetimepicker]").removeClass("k-textbox").end().find("["+j.attr("role")+"=timepicker]").removeClass("k-textbox").end().find("["+j.attr("role")+"=datepicker]").removeClass("k-textbox"),c.refresh(),c.trigger(n,{field:c.field,container:c.form})},_createForm:function(b){var c=this,e=c.options,f=c.operators||{},g=c.type;f=f[g]||e.operators[g],c.form=a('<form class="k-filter-menu"/>').html(j.template("boolean"===g?x:y)({field:c.field,format:e.format,ns:j.ns,messages:e.messages,extra:e.extra,operators:f,type:g,role:b,values:d(e.values)})),e.appendToElement?(c.element.append(c.form),c.popup=c.element.closest(".k-popup").data(m)):c.popup=c.form[m]({anchor:c.link,open:l(c._open,c),activate:l(c._activate,c),close:function(){c.options.closeCallback&&c.options.closeCallback(c.element)}}).data(m),c.form.on("keydown"+q,l(c._keydown,c))},_createMobileForm:function(b){var c=this,e=c.options,f=c.operators||{},g=c.type;f=f[g]||e.operators[g],c.form=a("<div />").html(j.template("boolean"===g?A:z)({field:c.field,title:e.title||c.field,format:e.format,ns:j.ns,messages:e.messages,extra:e.extra,operators:f,type:g,role:b,useRole:!j.support.input.date&&"date"===g||"number"===g,inputType:u[g],values:d(e.values)})),c.view=c.pane.append(c.form.html()),c.form=c.view.element.find("form"),c.view.element.on("click",".k-submit",function(a){c.form.submit(),a.preventDefault()}).on("click",".k-cancel",function(a){c._closeForm(),a.preventDefault()})},refresh:function(){var a=this,b=a.dataSource.filter()||{filters:[],logic:"and"};a.filterModel=j.observable({logic:"and",filters:[a._defaultFilter(),a._defaultFilter()]}),a.form&&j.bind(a.form.children().first(),a.filterModel),a._bind(b)?a.link.addClass("k-state-active"):a.link.removeClass("k-state-active")},destroy:function(){var a=this;w.fn.destroy.call(a),a.form&&(j.unbind(a.form),j.destroy(a.form),a.form.unbind(q),a.popup&&(a.popup.destroy(),a.popup=null),a.form=null),a.view&&(a.view.purge(),a.view=null),a.link.unbind(q),a._refreshHandler&&(a.dataSource.unbind(p,a._refreshHandler),a.dataSource=null),a.element=a.link=a._refreshHandler=a.filterModel=null},_bind:function(a){var b,c,d,e,f=this,g=a.filters,h=!1,i=0,j=f.filterModel;for(b=0,c=g.length;b<c;b++)e=g[b],e.field==f.field?(j.set("logic",a.logic),d=j.filters[i],d||(j.filters.push({field:f.field}),d=j.filters[i]),d.set("value",f._parse(e.value)),d.set("operator",e.operator),i++,h=!0):e.filters&&(h=h||f._bind(e));return h},_merge:function(b){var d,e,f,g=this,h=b.logic||"and",i=b.filters,j=g.dataSource.filter()||{filters:[],logic:"and"};for(c(j,g.field),i=a.grep(i,function(a){return""!==a.value&&null!=a.value}),e=0,f=i.length;e<f;e++)d=i[e],d.value=g._parse(d.value);return i.length&&(j.filters.length?(b.filters=i,"and"!==j.logic&&(j.filters=[{logic:j.logic,filters:j.filters}],j.logic="and"),i.length>1?j.filters.push(b):j.filters.push(i[0])):(j.filters=i,j.logic=h)),j},filter:function(a){a=this._merge(a),a.filters.length&&this.dataSource.filter(a)},clear:function(){var b=this,c=b.dataSource.filter()||{filters:[]};c.filters=a.grep(c.filters,function(a){return a.filters?(a.filters=e(a.filters,b.field),a.filters.length):a.field!=b.field}),c.filters.length||(c=null),b.dataSource.filter(c)},_submit:function(a){a.preventDefault(),a.stopPropagation(),this.filter(this.filterModel.toJSON()),this._closeForm()},_reset:function(){this.clear(),this._closeForm()},_closeForm:function(){this._isMobile?this.pane.navigate("",this.options.animations.right):this.popup.close()},_click:function(a){a.preventDefault(),a.stopPropagation(),this.popup||this.pane||this._init(),this._isMobile?this.pane.navigate(this.view,this.options.animations.left):this.popup.toggle()},_open:function(){var b;a(".k-filter-menu").not(this.form).each(function(){b=a(this).data(m),b&&b.close()})},_activate:function(){this.form.find(":kendoFocusable:first").focus()},_keydown:function(a){a.keyCode==j.keys.ESC&&this.popup.close()},events:[n],options:{name:"FilterMenu",extra:!0,appendToElement:!1,type:"string",operators:{string:{eq:r,neq:s,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with"},number:{eq:r,neq:s,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"},date:{eq:r,neq:s,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before"},enums:{eq:r,neq:s}},messages:{info:"Show items with value that:",isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",and:"And",or:"Or",selectValue:"-Select value-",operator:"Operator",value:"Value",cancel:"Cancel"},animations:{left:"slide",right:"slide:right"}}}),C=".kendoFilterMultiCheck",D=j.data.DataSource,E=w.extend({init:function(b,c){w.fn.init.call(this,b,c),c=this.options,this.element=a(b);var d=this.field=this.options.field||this.element.attr(j.attr("field")),e=c.checkSource;c.forceUnique?(e=c.dataSource.options,delete e.pageSize,this.checkSource=D.create(e),this.checkSource.reader.data=i(this.checkSource.reader.data,this.field)):this.checkSource=D.create(e),this.dataSource=c.dataSource,this.model=this.dataSource.reader.model,this._parse=function(a){return a+""},this.model&&this.model.fields&&(d=this.model.fields[this.field],d&&(d.parse&&(this._parse=l(d.parse,d)),this.type=d.type||"string")),c.appendToElement?this._init():this._createLink(),this._refreshHandler=l(this.refresh,this),this.dataSource.bind(p,this._refreshHandler)},_createLink:function(){var a=this.element,b=a.addClass("k-with-icon k-filterable").find(".k-grid-filter");b[0]||(b=a.prepend('<a class="k-grid-filter" href="#"><span class="k-icon k-filter"/></a>').find(".k-grid-filter")),this._link=b.attr("tabindex",-1).on("click"+q,l(this._click,this))},_init:function(){var a=this,b=this.options.forceUnique,c=this.options;this.pane=c.pane,this.pane&&(this._isMobile=!0),this._createForm(),b&&!this.checkSource.options.serverPaging&&this.dataSource.data().length?(this.checkSource.data(h(this.dataSource.data(),this.field)),this.refresh()):(k.progress(a.container,!0),this.checkSource.fetch(function(){k.progress(a.container,!1),a.refresh.call(a)})),this.options.forceUnique||(this.checkChangeHandler=function(){a.container.empty(),a.refresh()},this.checkSource.bind(p,this.checkChangeHandler)),this.form.on("keydown"+C,l(this._keydown,this)).on("submit"+C,l(this._filter,this)).on("reset"+C,l(this._reset,this)),this.trigger(n,{field:this.field,container:this.form})},_createForm:function(){var b=this.options,c="<ul class='k-reset k-multicheck-wrap'></ul><button type='submit' class='k-button k-primary'>"+b.messages.filter+"</button>";if(c+="<button type='reset' class='k-button'>"+b.messages.clear+"</button>",this.form=a('<form class="k-filter-menu"/>').html(c),this.container=this.form.find(".k-multicheck-wrap"),this._isMobile){this.view=this.pane.append(this.form.addClass("k-mobile-list").wrap("<div/>").parent().html());var d=this.view.element;this.form=d.find("form"),this.container=d.find(".k-multicheck-wrap");var e=this;d.on("click",".k-primary",function(a){e.form.submit(),a.preventDefault()}).on("click","[type=reset]",function(a){e._reset(),a.preventDefault()})}else b.appendToElement?(this.popup=this.element.closest(".k-popup").data(m),this.element.append(this.form)):this.popup=this.form.kendoPopup({anchor:this._link}).data(m)},createCheckAllItem:function(){var b=this.options,c=j.template(b.itemTemplate({field:"all",mobile:this._isMobile})),d=a(c({all:b.messages.checkAll}));this.container.prepend(d),this.checkBoxAll=d.find(":checkbox").eq(0).addClass("k-check-all"),this.checkAllHandler=l(this.checkAll,this),this.checkBoxAll.on(p+C,this.checkAllHandler)},updateCheckAllState:function(){if(this.checkBoxAll){var a=this.container.find(":checkbox:not(.k-check-all)").length==this.container.find(":checked:not(.k-check-all)").length;this.checkBoxAll.prop("checked",a)}},refresh:function(a){var b=this.options.forceUnique,c=this.dataSource,d=this.getFilterArray();this._link&&this._link.toggleClass("k-state-active",0!==d.length),this.form&&(!a||!b||a.sender!==c||c.options.serverPaging||"itemchange"!=a.action&&"add"!=a.action&&"remove"!=a.action||(this.checkSource.data(h(this.dataSource.data(),this.field)),this.container.empty()),this.container.is(":empty")&&this.createCheckBoxes(),this.checkValues(d),this.trigger(o))},getFilterArray:function(){var b=a.extend(!0,{},{filters:[],logic:"and"},this.dataSource.filter());f(b,this.field);var c=g(b);return c},createCheckBoxes:function(){var a=this.options,b={field:this.field,format:a.format,mobile:this._isMobile,type:this.type},c=j.template(a.itemTemplate(b)),d=this.checkSource.data();a.values&&(d=a.values,b.valueField="value",b.field="text",c=j.template(a.itemTemplate(b)));var e=j.render(c,d);a.checkAll&&(this.createCheckAllItem(),this.container.on(p+C,":checkbox",l(this.updateCheckAllState,this))),this.container.append(e)},checkAll:function(){var a=this.checkBoxAll.is(":checked");this.container.find(":checkbox").prop("checked",a)},checkValues:function(b){var c=this;a(a.grep(this.container.find(":checkbox").prop("checked",!1),function(d){var e=!1;if(!a(d).is(".k-check-all"))for(var f=c._parse(a(d).val()),g=0;g<b.length;g++)if(e="date"==c.type?b[g].getTime()==f.getTime():b[g]==f)return e})).prop("checked",!0),this.updateCheckAllState()},_filter:function(b){b.preventDefault(),b.stopPropagation();var c={logic:"or"},d=this;c.filters=a.map(this.form.find(":checkbox:checked:not(.k-check-all)"),function(b){return{value:a(b).val(),operator:"eq",field:d.field}}),c=this._merge(c),c.filters.length&&this.dataSource.filter(c),this._closeForm()},destroy:function(){var a=this;w.fn.destroy.call(a),a.form&&(j.unbind(a.form),j.destroy(a.form),a.form.unbind(C),a.popup&&(a.popup.destroy(),a.popup=null),a.form=null,a.container&&(a.container.unbind(C),a.container=null),a.checkBoxAll&&a.checkBoxAll.unbind(C)),a.view&&(a.view.purge(),a.view=null),a._link&&a._link.unbind(q),a._refreshHandler&&(a.dataSource.unbind(p,a._refreshHandler),a.dataSource=null),a.checkChangeHandler&&a.checkSource.unbind(p,a.checkChangeHandler),a.element=a.checkSource=a.container=a.checkBoxAll=a._link=a._refreshHandler=a.checkAllHandler=null},options:{name:"FilterMultiCheck",itemTemplate:function(a){var c=a.field,d=a.format,e=a.valueField,f=a.mobile,g="";return e===b&&(e=c),"date"==a.type&&(g=":yyyy-MM-ddTHH:mm:sszzz"),"<li class='k-item'><label class='k-label'><input type='checkbox' class='"+(f?"k-check":"")+"'  value='#:kendo.format('{0"+g+"}',"+e+")#'/>#:kendo.format('"+(d?d:"{0}")+"', "+c+")#</label></li>"},checkAll:!0,appendToElement:!1,messages:{checkAll:"Select All",clear:"Clear",filter:"Filter"},forceUnique:!0,animations:{left:"slide",right:"slide:right"}},events:[n,o]});a.extend(E.fn,{_click:B.fn._click,_keydown:B.fn._keydown,_reset:B.fn._reset,_closeForm:B.fn._closeForm,clear:B.fn.clear,_merge:B.fn._merge}),k.plugin(B),k.plugin(E)}(window.kendo.jQuery),function(a,b){function c(a,b){return a=a.split(" ")[!b+0]||a,a.replace("top","up").replace("bottom","down")}function d(a,b,c){a=a.split(" ")[!b+0]||a;var d={origin:["bottom",c?"right":"left"],position:["top",c?"right":"left"]},e=/left|right/.test(a);return e?(d.origin=["top",a],d.position[1]=i.directions[a].reverse):(d.origin[0]=a,d.position[0]=i.directions[a].reverse),d.origin=d.origin.join(" "),d.position=d.position.join(" "),d}function e(b,c){try{return a.contains(b,c)}catch(d){return!1}}function f(b){b=a(b),b.addClass("k-item").children(w).addClass(E),b.children("a").addClass(z).children(w).addClass(E),b.filter(":not([disabled])").addClass(S),b.filter(".k-separator:empty").append("&nbsp;"),b.filter("li[disabled]").addClass(V).removeAttr("disabled").attr("aria-disabled",!0),b.filter("[role]").length||b.attr("role","menuitem"),b.children("."+z).length||b.contents().filter(function(){return!(this.nodeName.match(u)||3==this.nodeType&&!a.trim(this.nodeValue))}).wrapAll("<span class='"+z+"'/>"),g(b),h(b)}function g(b){b=a(b),b.find("> .k-link > [class*=k-i-arrow]:not(.k-sprite)").remove(),b.filter(":has(.k-menu-group)").children(".k-link:not(:has([class*=k-i-arrow]:not(.k-sprite)))").each(function(){var b=a(this),c=b.parent().parent();b.append("<span class='k-icon "+(c.hasClass(y+"-horizontal")?"k-i-arrow-s":"k-i-arrow-e")+"'/>")})}function h(b){b=a(b),b.filter(".k-first:not(:first-child)").removeClass(D),b.filter(".k-last:not(:last-child)").removeClass(A),b.filter(":first-child").addClass(D),b.filter(":last-child").addClass(A)}var i=window.kendo,j=i.ui,k=i._activeElement,l=i.support.touch&&i.support.mobileOS,m="mousedown",n="click",o=a.extend,p=a.proxy,q=a.each,r=i.template,s=i.keys,t=j.Widget,u=/^(ul|a|div)$/i,v=".kendoMenu",w="img",x="open",y="k-menu",z="k-link",A="k-last",B="close",C="timer",D="k-first",E="k-image",F="select",G="zIndex",H="activate",I="deactivate",J="touchstart"+v+" MSPointerDown"+v+" pointerdown"+v,K=i.support.pointers,L=i.support.msPointers,M=L||K,N=K?"pointerover":L?"MSPointerOver":"mouseenter",O=K?"pointerout":L?"MSPointerOut":"mouseleave",P=l||M,Q=a(document.documentElement),R="kendoPopup",S="k-state-default",T="k-state-hover",U="k-state-focused",V="k-state-disabled",W=".k-menu",X=".k-menu-group",Y=X+",.k-animation-container",Z=":not(.k-list) > .k-item",$=".k-item.k-state-disabled",_=".k-item:not(.k-state-disabled)",aa=".k-item:not(.k-state-disabled) > .k-link",ba=":not(.k-item.k-separator)",ca=ba+":eq(0)",da=ba+":last",ea="> div:not(.k-animation-container,.k-list-container)",fa={2:1,touch:1},ga={content:r("<div class='k-content #= groupCssClass() #' tabindex='-1'>#= content(item) #</div>"),group:r("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>#= renderItems(data) #</ul>"),itemWrapper:r("<#= tag(item) # class='#= textClass(item) #'#= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:r("<li class='#= wrapperCssClass(group, item) #' role='menuitem' #=item.items ? \"aria-haspopup='true'\": \"\"##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),image:r("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:r("<span class='#= arrowClass(item, group) #'></span>"),sprite:r("<span class='k-sprite #= spriteCssClass #'></span>"),empty:r("")},ha={wrapperCssClass:function(a,b){var c="k-item",d=b.index;return c+=b.enabled===!1?" k-state-disabled":" k-state-default",a.firstLevel&&0===d&&(c+=" k-first"),d==a.length-1&&(c+=" k-last"),b.cssClass&&(c+=" "+b.cssClass),c},textClass:function(){return z},textAttributes:function(a){return a.url?" href='"+a.url+"'":""},arrowClass:function(a,b){var c="k-icon";return c+=b.horizontal?" k-i-arrow-s":" k-i-arrow-e"},text:function(a){return a.encoded===!1?a.text:i.htmlEncode(a.text)},tag:function(a){return a.url?"a":"span"},groupAttributes:function(a){return a.expanded!==!0?" style='display:none'":""},groupCssClass:function(){return"k-group k-menu-group"},content:function(a){return a.content?a.content:"&nbsp;"}},ia=t.extend({init:function(b,c){var d=this;t.fn.init.call(d,b,c),b=d.wrapper=d.element,c=d.options,d._initData(c),d._updateClasses(),d._animations(c),d.nextItemZIndex=100,d._tabindex(),d._focusProxy=p(d._focusHandler,d),b.on(J,_,d._focusProxy).on(n+v,$,!1).on(n+v,_,p(d._click,d)).on("keydown"+v,p(d._keydown,d)).on("focus"+v,p(d._focus,d)).on("focus"+v,".k-content",p(d._focus,d)).on(J+" "+m+v,".k-content",p(d._preventClose,d)).on("blur"+v,p(d._removeHoverItem,d)).on("blur"+v,"[tabindex]",p(d._checkActiveElement,d)).on(N+v,_,p(d._mouseenter,d)).on(O+v,_,p(d._mouseleave,d)).on(N+v+" "+O+v+" "+m+v+" "+n+v,aa,p(d._toggleHover,d)),c.openOnClick&&(d.clicked=!1,d._documentClickHandler=p(d._documentClick,d),a(document).click(d._documentClickHandler)),b.attr("role","menubar"),b[0].id&&(d._ariaId=i.format("{0}_mn_active",b[0].id)),i.notify(d)},events:[x,B,H,I,F],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:!1,closeOnClick:!0,hoverDelay:100,popupCollision:b},_initData:function(a){var b=this;a.dataSource&&(b.angular("cleanup",function(){return{elements:b.element.children()}}),b.element.empty(),b.append(a.dataSource,b.element),b.angular("compile",function(){return{elements:b.element.children()}}))},setOptions:function(a){var b=this.options.animation;this._animations(a),a.animation=o(!0,b,a.animation),"dataSource"in a&&this._initData(a),this._updateClasses(),t.fn.setOptions.call(this,a)},destroy:function(){var b=this;t.fn.destroy.call(b),b.element.off(v),b._documentClickHandler&&a(document).unbind("click",b._documentClickHandler),i.destroy(b.element)},enable:function(a,b){return this._toggleDisabled(a,b!==!1),this},disable:function(a){return this._toggleDisabled(a,!1),this},append:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.length?b.find("> .k-menu-group, > .k-animation-container > .k-menu-group"):null);return q(c.items,function(){c.group.append(this),g(this)}),g(b),h(c.group.find(".k-first, .k-last").add(c.items)),this},insertBefore:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.parent());return q(c.items,function(){b.before(this),g(this),h(this)}),h(b),this},insertAfter:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.parent());return q(c.items,function(){b.after(this),g(this),h(this)}),h(b),this},_insert:function(b,c,d){var e,g,h=this;c&&c.length||(d=h.element);var i=a.isPlainObject(b),j={firstLevel:d.hasClass(y),horizontal:d.hasClass(y+"-horizontal"),expanded:!0,length:d.children().length};return c&&!d.length&&(d=a(ia.renderGroup({group:j})).appendTo(c)),i||a.isArray(b)?e=a(a.map(i?[b]:b,function(b,c){return"string"==typeof b?a(b).get():a(ia.renderItem({group:j,item:o(b,{index:c})})).get()})):(e="string"==typeof b&&"<"!=b.charAt(0)?h.element.find(b):a(b),g=e.find("> ul").addClass("k-menu-group").attr("role","menu"),e=e.filter("li"),e.add(g.find("> li")).each(function(){f(this)})),{items:e,group:d}},remove:function(a){a=this.element.find(a);var b=this,c=a.parentsUntil(b.element,Z),d=a.parent("ul:not(.k-menu)");if(a.remove(),d&&!d.children(Z).length){var e=d.parent(".k-animation-container");e.length?e.remove():d.remove()}return c.length&&(c=c.eq(0),g(c),h(c)),b},open:function(e){var f=this,g=f.options,h="horizontal"==g.orientation,j=g.direction,k=i.support.isRtl(f.wrapper);return e=f.element.find(e),/^(top|bottom|default)$/.test(j)&&(j=k?h?(j+" left").replace("default","bottom"):"left":h?(j+" right").replace("default","bottom"):"right"),e.siblings().find(">.k-popup:visible,>.k-animation-container>.k-popup:visible").each(function(){var b=a(this).data("kendoPopup");b&&b.close()}),e.each(function(){var e=a(this);clearTimeout(e.data(C)),e.data(C,setTimeout(function(){var m,n=e.find(".k-menu-group:first:hidden");if(n[0]&&f._triggerEvent({item:e[0],type:x})===!1){if(!n.find(".k-menu-group")[0]&&n.children(".k-item").length>1){var p=a(window).height(),q=function(){n.css({maxHeight:p-(n.outerHeight()-n.height())-i.getShadows(n).bottom,overflow:"auto"})};i.support.browser.msie&&i.support.browser.version<=7?setTimeout(q,0):q()}else n.css({maxHeight:"",overflow:""});e.data(G,e.css(G)),e.css(G,f.nextItemZIndex++),m=n.data(R);var r=e.parent().hasClass(y),s=r&&h,t=d(j,r,k),u=g.animation.open.effects,v=u!==b?u:"slideIn:"+c(j,r);m?(m=n.data(R),m.options.origin=t.origin,m.options.position=t.position,m.options.animation.open.effects=v):m=n.kendoPopup({activate:function(){f._triggerEvent({item:this.wrapper.parent(),type:H})},deactivate:function(a){a.sender.element.removeData("targetTransform").css({opacity:""}),f._triggerEvent({item:this.wrapper.parent(),type:I})},origin:t.origin,position:t.position,collision:g.popupCollision!==b?g.popupCollision:s?"fit":"fit flip",anchor:e,appendTo:e,animation:{open:o(!0,{effects:v},g.animation.open),close:g.animation.close},close:function(a){var b=a.sender.wrapper.parent();f._triggerEvent({item:b[0],type:B})?a.preventDefault():(b.css(G,b.data(G)),b.removeData(G),l&&(b.removeClass(T),f._removeHoverItem()))}}).data(R),n.removeAttr("aria-hidden"),m.open()}},f.options.hoverDelay))}),f},close:function(b,c){var d=this,e=d.element;return b=e.find(b),b.length||(b=e.find(">.k-item")),b.each(function(){var b=a(this);!c&&d._isRootItem(b)&&(d.clicked=!1),clearTimeout(b.data(C)),b.data(C,setTimeout(function(){var a=b.find(".k-menu-group:not(.k-list-container):not(.k-calendar-container):first:visible").data(R);a&&(a.close(),a.element.attr("aria-hidden",!0))},d.options.hoverDelay))}),d},_toggleDisabled:function(b,c){this.element.find(b).each(function(){a(this).toggleClass(S,c).toggleClass(V,!c).attr("aria-disabled",!c)})},_toggleHover:function(b){var c=a(i.eventTarget(b)||b.target).closest(Z),d=b.type==N||m.indexOf(b.type)!==-1;c.parents("li."+V).length||c.toggleClass(T,d||"mousedown"==b.type||"click"==b.type),this._removeHoverItem()},_preventClose:function(){this.options.closeOnClick||(this._closurePrevented=!0)},_checkActiveElement:function(b){var c=this,d=a(b?b.currentTarget:this._hoverItem()),f=c._findRootParent(d)[0];this._closurePrevented||setTimeout(function(){document.hasFocus()&&(e(f,i._activeElement())||!b||e(f,b.currentTarget))||c.close(f)},0),this._closurePrevented=!1},_removeHoverItem:function(){var a=this._hoverItem();a&&a.hasClass(U)&&(a.removeClass(U),this._oldHoverItem=null)},_updateClasses:function(){var a,b=this.element,c=".k-menu-init div ul";b.removeClass("k-menu-horizontal k-menu-vertical"),b.addClass("k-widget k-reset k-header k-menu-init "+y).addClass(y+"-"+this.options.orientation),b.find("li > ul").filter(function(){return!i.support.matchesSelector.call(this,c)}).addClass("k-group k-menu-group").attr("role","menu").attr("aria-hidden",b.is(":visible")).end().find("li > div").addClass("k-content").attr("tabindex","-1"),a=b.find("> li,.k-menu-group > li"),b.removeClass("k-menu-init"),a.each(function(){f(this)})},_mouseenter:function(b){var c=this,d=a(b.currentTarget),f=d.children(".k-animation-container").length||d.children(X).length;b.delegateTarget==d.parents(W)[0]&&(c.options.openOnClick&&!c.clicked||l||(K||L)&&b.originalEvent.pointerType in fa&&c._isRootItem(d.closest(Z))||!e(b.currentTarget,b.relatedTarget)&&f&&c.open(d),(c.options.openOnClick&&c.clicked||P)&&d.siblings().each(p(function(a,b){c.close(b,!0)},c)))},_mouseleave:function(b){var c=this,d=a(b.currentTarget),f=d.children(".k-animation-container").length||d.children(X).length;return d.parentsUntil(".k-animation-container",".k-list-container,.k-calendar-container")[0]?void b.stopImmediatePropagation():void(c.options.openOnClick||l||(K||L)&&b.originalEvent.pointerType in fa||e(b.currentTarget,b.relatedTarget||b.target)||!f||e(b.currentTarget,i._activeElement())||c.close(d))},_click:function(b){var c,d,e,f=this,g=f.options,h=a(i.eventTarget(b)),j=h[0]?h[0].nodeName.toUpperCase():"",k="INPUT"==j||"SELECT"==j||"BUTTON"==j||"LABEL"==j,l=h.closest("."+z),m=h.closest(Z),n=l.attr("href"),o=h.attr("href"),p=a("<a href='#' />").attr("href"),q=!!n&&n!==p,r=q&&!!n.match(/^#/),s=!!o&&o!==p,t=g.openOnClick&&e&&f._isRootItem(m);if(!h.closest(ea,m[0]).length){if(m.hasClass(V))return void b.preventDefault();if(b.handled||!f._triggerEvent({item:m[0],type:F})||k||b.preventDefault(),b.handled=!0,d=m.children(Y),e=d.is(":visible"),g.closeOnClick&&(!q||r)&&(!d.length||t))return m.removeClass(T).css("height"),f._oldHoverItem=f._findRootParent(m),f.close(l.parentsUntil(f.element,Z)),f.clicked=!1,void("MSPointerUp".indexOf(b.type)!=-1&&b.preventDefault());q&&b.enterKey&&l[0].click(),(f._isRootItem(m)&&g.openOnClick||i.support.touch||(K||L)&&f._isRootItem(m.closest(Z)))&&(q||k||s||b.preventDefault(),f.clicked=!0,c=d.is(":visible")?B:x,(g.closeOnClick||c!=B)&&f[c](m))}},_documentClick:function(a){e(this.element[0],a.target)||(this.clicked=!1)},_focus:function(b){var c=this,d=b.target,e=c._hoverItem(),f=k();return d==c.wrapper[0]||a(d).is(":kendoFocusable")?void(f===b.currentTarget&&(e.length?c._moveHover([],e):c._oldHoverItem||c._moveHover([],c.wrapper.children().first()))):(b.stopPropagation(),a(d).closest(".k-content").closest(".k-menu-group").closest(".k-item").addClass(U),void c.wrapper.focus())},_keydown:function(a){var b,c,d,e=this,f=a.keyCode,g=e._oldHoverItem,h=i.support.isRtl(e.wrapper);if(a.target==a.currentTarget||f==s.ESC){if(g||(g=e._oldHoverItem=e._hoverItem()),c=e._itemBelongsToVertival(g),d=e._itemHasChildren(g),f==s.RIGHT)b=e[h?"_itemLeft":"_itemRight"](g,c,d);else if(f==s.LEFT)b=e[h?"_itemRight":"_itemLeft"](g,c,d);else if(f==s.DOWN)b=e._itemDown(g,c,d);else if(f==s.UP)b=e._itemUp(g,c,d);else if(f==s.ESC)b=e._itemEsc(g,c);else if(f==s.ENTER||f==s.SPACEBAR)b=g.children(".k-link"),b.length>0&&(e._click({target:b[0],preventDefault:function(){},enterKey:!0}),e._moveHover(g,e._findRootParent(g)));else if(f==s.TAB)return b=e._findRootParent(g),e._moveHover(g,b),void e._checkActiveElement();b&&b[0]&&(a.preventDefault(),a.stopPropagation())}},_hoverItem:function(){return this.wrapper.find(".k-item.k-state-hover,.k-item.k-state-focused").filter(":visible")},_itemBelongsToVertival:function(a){var b=this.wrapper.hasClass("k-menu-vertical");return a.length?a.parent().hasClass("k-menu-group")||b:b},_itemHasChildren:function(a){return!!a.length&&a.children("ul.k-menu-group, div.k-animation-container").length>0},_moveHover:function(b,c){var d=this,e=d._ariaId;b.length&&c.length&&b.removeClass(U),c.length&&(c[0].id&&(e=c[0].id),c.addClass(U),d._oldHoverItem=c,e&&(d.element.removeAttr("aria-activedescendant"),a("#"+e).removeAttr("id"),c.attr("id",e),d.element.attr("aria-activedescendant",e)))},_findRootParent:function(a){return this._isRootItem(a)?a:a.parentsUntil(W,"li.k-item").last()},_isRootItem:function(a){return a.parent().hasClass(y)},_itemRight:function(a,b,c){var d,e,f=this;if(!a.hasClass(V))return b?c?(f.open(a),d=a.find(".k-menu-group").children().first()):"horizontal"==f.options.orientation&&(e=f._findRootParent(a),f.close(e),d=e.nextAll(ca)):(d=a.nextAll(ca),d.length||(d=a.prevAll(da))),d&&!d.length?d=f.wrapper.children(".k-item").first():d||(d=[]),f._moveHover(a,d),d},_itemLeft:function(a,b){var c,d=this;return b?(c=a.parent().closest(".k-item"),d.close(c),d._isRootItem(c)&&"horizontal"==d.options.orientation&&(c=c.prevAll(ca))):(c=a.prevAll(ca),c.length||(c=a.nextAll(da))),c.length||(c=d.wrapper.children(".k-item").last()),d._moveHover(a,c),c},_itemDown:function(a,b,c){var d,e=this;if(b)d=a.nextAll(ca);else{if(!c||a.hasClass(V))return;e.open(a),d=a.find(".k-menu-group").children().first()}return!d.length&&a.length?d=a.parent().children().first():a.length||(d=e.wrapper.children(".k-item").first()),e._moveHover(a,d),d},_itemUp:function(a,b){var c,d=this;if(b)return c=a.prevAll(ca),!c.length&&a.length?c=a.parent().children().last():a.length||(c=d.wrapper.children(".k-item").last()),d._moveHover(a,c),c},_itemEsc:function(a,b){var c,d=this;return b?(c=a.parent().closest(".k-item"),d.close(c),d._moveHover(a,c),c):a},_triggerEvent:function(a){var b=this;return b.trigger(a.type,{type:a.type,item:a.item})},_focusHandler:function(b){var c=this,d=a(i.eventTarget(b)).closest(Z);setTimeout(function(){c._moveHover([],d),d.children(".k-content")[0]&&d.parent().closest(".k-item").removeClass(U)},200)},_animations:function(a){a&&"animation"in a&&!a.animation&&(a.animation={open:{effects:{}},close:{hide:!0,effects:{}}})}});o(ia,{renderItem:function(a){a=o({menu:{},group:{}},a);var b=ga.empty,c=a.item;return ga.item(o(a,{image:c.imageUrl?ga.image:b,sprite:c.spriteCssClass?ga.sprite:b,itemWrapper:ga.itemWrapper,renderContent:ia.renderContent,arrow:c.items||c.content?ga.arrow:b,subGroup:ia.renderGroup},ha))},renderGroup:function(a){return ga.group(o({renderItems:function(a){for(var b="",c=0,d=a.items,e=d?d.length:0,f=o({length:e},a.group);c<e;c++)b+=ia.renderItem(o(a,{group:f,item:o({index:c},d[c])}));return b}},a,ha))},renderContent:function(a){return ga.content(o(a,ha))}});var ja=ia.extend({init:function(b,c){var d=this;ia.fn.init.call(d,b,c),d.target=a(d.options.target),d._popup(),d._wire()},options:{name:"ContextMenu",filter:null,showOn:"contextmenu",orientation:"vertical",alignToAnchor:!1,target:"body"},events:[x,B,H,I,F],setOptions:function(b){var c=this;ia.fn.setOptions.call(c,b),c.target.off(c.showOn+v,c._showProxy),c.userEvents&&c.userEvents.destroy(),c.target=a(c.options.target),b.orientation&&c.popup.wrapper[0]&&c.popup.element.unwrap(),c._wire(),ia.fn.setOptions.call(this,b)},destroy:function(){var a=this;a.target.off(a.options.showOn+v),Q.off(i.support.mousedown+v,a._closeProxy),a.userEvents&&a.userEvents.destroy(),ia.fn.destroy.call(a)},open:function(c,d){var f=this;return c=a(c)[0],e(f.element[0],a(c)[0])?ia.fn.open.call(f,c):f._triggerEvent({item:f.element,type:x})===!1&&(f.popup.visible()&&f.options.filter&&f.popup.close(!0),d!==b?(f.popup.wrapper.hide(),f.popup.open(c,d)):(f.popup.options.anchor=(c?c:f.popup.anchor)||f.target,f.popup.open()),Q.off(f.popup.downEvent,f.popup._mousedownProxy),Q.on(i.support.mousedown+v,f._closeProxy)),f},close:function(){var b=this;e(b.element[0],a(arguments[0])[0])?ia.fn.close.call(b,arguments[0]):b.popup.visible()&&b._triggerEvent({item:b.element,type:B})===!1&&(b.popup.close(),Q.off(i.support.mousedown+v,b._closeProxy),b.unbind(F,b._closeTimeoutProxy))},_showHandler:function(a){var b,c=a,d=this,f=d.options;a.event&&(c=a.event,c.pageX=a.x.location,c.pageY=a.y.location),e(d.element[0],a.relatedTarget||a.target)||(d._eventOrigin=c,c.preventDefault(),c.stopImmediatePropagation(),d.element.find("."+U).removeClass(U),(f.filter&&i.support.matchesSelector.call(c.currentTarget,f.filter)||!f.filter)&&(f.alignToAnchor?d.open(c.currentTarget):(d.popup.options.anchor=c.currentTarget,d._targetChild?(b=d.target.offset(),d.open(c.pageX-b.left,c.pageY-b.top)):d.open(c.pageX,c.pageY))))},_closeHandler:function(b){var c=this,d=(c.options,a(b.relatedTarget||b.target)),f=d.closest(c.target.selector)[0]==c.target[0],g=d.closest(_).children(Y),h=e(c.element[0],d[0]);c._eventOrigin=b;var i=3!==b.which;c.popup.visible()&&(i&&f||!f)&&(c.options.closeOnClick&&!g[0]&&h||!h)&&(h?(this.unbind(F,this._closeTimeoutProxy),c.bind(F,c._closeTimeoutProxy)):c.close())},_wire:function(){var a=this,b=a.options,c=a.target;a._showProxy=p(a._showHandler,a),a._closeProxy=p(a._closeHandler,a),a._closeTimeoutProxy=p(a.close,a),c[0]&&(i.support.mobileOS&&"contextmenu"==b.showOn?(a.userEvents=new i.UserEvents(c,{filter:b.filter,allowSelection:!1}),c.on(b.showOn+v,!1),a.userEvents.bind("hold",a._showProxy)):b.filter?c.on(b.showOn+v,b.filter,a._showProxy):c.on(b.showOn+v,a._showProxy));
},_triggerEvent:function(c){var d=this,e=a(d.popup.options.anchor)[0],f=d._eventOrigin;return d._eventOrigin=b,d.trigger(c.type,o({type:c.type,item:c.item||this.element[0],target:e},f?{event:f}:{}))},_popup:function(){var a=this;a._triggerProxy=p(a._triggerEvent,a),a.popup=a.element.addClass("k-context-menu").kendoPopup({anchor:a.target||"body",copyAnchorStyles:a.options.copyAnchorStyles,collision:a.options.popupCollision||"fit",animation:a.options.animation,activate:a._triggerProxy,deactivate:a._triggerProxy}).data("kendoPopup"),a._targetChild=e(a.target[0],a.popup.element[0])}});j.plugin(ia),j.plugin(ja)}(window.kendo.jQuery),function(a,b){function c(b){return a.trim(b).replace(/&nbsp;/gi,"")}function d(a,b){var c,d,e,f={};for(c=0,d=a.length;c<d;c++)e=a[c],f[e[b]]=e;return f}function e(a){for(var b=[],c=0;c<a.length;c++)a[c].columns?b=b.concat(e(a[c].columns)):b.push(a[c]);return b}var f=window.kendo,g=f.ui,h=a.proxy,i=a.extend,j=a.grep,k=a.map,l=a.inArray,m="k-state-selected",n="asc",o="desc",p="change",q="init",r="select",s="kendoPopup",t="kendoFilterMenu",u="kendoMenu",v=".kendoColumnMenu",w=g.Widget,x=w.extend({init:function(b,c){var d,e=this;w.fn.init.call(e,b,c),b=e.element,c=e.options,e.owner=c.owner,e.dataSource=c.dataSource,e.field=b.attr(f.attr("field")),e.title=b.attr(f.attr("title")),d=b.find(".k-header-column-menu"),d[0]||(d=b.addClass("k-with-icon").prepend('<a class="k-header-column-menu" href="#"><span class="k-icon k-i-arrowhead-s"/></a>').find(".k-header-column-menu")),e.link=d.attr("tabindex",-1).on("click"+v,h(e._click,e)),e.wrapper=a('<div class="k-column-menu"/>')},_init:function(){var a=this;a.pane=a.options.pane,a.pane&&(a._isMobile=!0),a._isMobile?a._createMobileMenu():a._createMenu(),a._angularItems("compile"),a._refreshHandler=h(a.refresh,a),a.dataSource.bind(p,a._refreshHandler),a._sort(),a._columns(),a._filter(),a._lockColumns(),a.trigger(q,{field:a.field,container:a.wrapper})},events:[q],options:{name:"ColumnMenu",messages:{sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filter:"Filter",columns:"Columns",done:"Done",settings:"Column Settings",lock:"Lock",unlock:"Unlock"},filter:"",columns:!0,sortable:!0,filterable:!0,animations:{left:"slide"}},_createMenu:function(){var a=this,b=a.options;a.wrapper.html(f.template(y)({ns:f.ns,messages:b.messages,sortable:b.sortable,filterable:b.filterable,columns:a._ownerColumns(),showColumns:b.columns,lockedColumns:b.lockedColumns})),a.popup=a.wrapper[s]({anchor:a.link,open:h(a._open,a),activate:h(a._activate,a),close:function(){a.options.closeCallback&&a.options.closeCallback(a.element)}}).data(s),a.menu=a.wrapper.children()[u]({orientation:"vertical",closeOnClick:!1}).data(u)},_createMobileMenu:function(){var a=this,b=a.options,c=f.template(z)({ns:f.ns,field:a.field,title:a.title||a.field,messages:b.messages,sortable:b.sortable,filterable:b.filterable,columns:a._ownerColumns(),showColumns:b.columns,lockedColumns:b.lockedColumns});a.view=a.pane.append(c),a.wrapper=a.view.element.find(".k-column-menu"),a.menu=new A(a.wrapper.children(),{pane:a.pane}),a.view.element.on("click",".k-done",function(b){a.close(),b.preventDefault()}),a.options.lockedColumns&&a.view.bind("show",function(){a._updateLockedColumns()})},_angularItems:function(b){var c=this;c.angular(b,function(){var b=c.wrapper.find(".k-columns-item input["+f.attr("field")+"]").map(function(){return a(this).closest("li")}),d=k(c._ownerColumns(),function(a){return{column:a._originalObject}});return{elements:b,data:d}})},destroy:function(){var a=this;a._angularItems("cleanup"),w.fn.destroy.call(a),a.filterMenu&&a.filterMenu.destroy(),a._refreshHandler&&a.dataSource.unbind(p,a._refreshHandler),a.options.columns&&a.owner&&(a._updateColumnsMenuHandler&&(a.owner.unbind("columnShow",a._updateColumnsMenuHandler),a.owner.unbind("columnHide",a._updateColumnsMenuHandler)),a._updateColumnsLockedStateHandler&&(a.owner.unbind("columnLock",a._updateColumnsLockedStateHandler),a.owner.unbind("columnUnlock",a._updateColumnsLockedStateHandler))),a.menu&&(a.menu.element.off(v),a.menu.destroy()),a.wrapper.off(v),a.popup&&a.popup.destroy(),a.view&&a.view.purge(),a.link.off(v),a.owner=null,a.wrapper=null,a.element=null},close:function(){this.menu.close(),this.popup&&(this.popup.close(),this.popup.element.off("keydown"+v))},_click:function(a){a.preventDefault(),a.stopPropagation();var b=this.options;b.filter&&this.element.is(!b.filter)||(this.popup||this.pane||this._init(),this._isMobile?this.pane.navigate(this.view,this.options.animations.left):this.popup.toggle())},_open:function(){var b=this;a(".k-column-menu").not(b.wrapper).each(function(){a(this).data(s).close()}),b.popup.element.on("keydown"+v,function(a){a.keyCode==f.keys.ESC&&b.close()}),b.options.lockedColumns&&b._updateLockedColumns()},_activate:function(){this.menu.element.focus()},_ownerColumns:function(){var a=e(this.owner.columns),b=j(a,function(a){var b=!0,d=c(a.title||"");return a.menu!==!1&&(a.field||d.length)||(b=!1),b});return k(b,function(b){return{originalField:b.field,field:b.field||b.title,title:b.title||b.field,hidden:b.hidden,index:l(b,a),locked:!!b.locked,_originalObject:b}})},_sort:function(){var b=this;b.options.sortable&&(b.refresh(),b.menu.bind(r,function(c){var d,e=a(c.item);e.hasClass("k-sort-asc")?d=n:e.hasClass("k-sort-desc")&&(d=o),d&&(e.parent().find(".k-sort-"+(d==n?o:n)).removeClass(m),b._sortDataSource(e,d),b.close())}))},_sortDataSource:function(a,c){var d,e,f=this,g=f.options.sortable,h=null===g.compare?b:g.compare,i=f.dataSource,j=i.sort()||[];if(a.hasClass(m)&&g&&g.allowUnsort!==!1?(a.removeClass(m),c=b):a.addClass(m),"multiple"===g.mode){for(d=0,e=j.length;d<e;d++)if(j[d].field===f.field){j.splice(d,1);break}j.push({field:f.field,dir:c,compare:h})}else j=[{field:f.field,dir:c,compare:h}];i.sort(j)},_columns:function(){var b=this;b.options.columns&&(b._updateColumnsMenu(),b._updateColumnsMenuHandler=h(b._updateColumnsMenu,b),b.owner.bind(["columnHide","columnShow"],b._updateColumnsMenuHandler),b._updateColumnsLockedStateHandler=h(b._updateColumnsLockedState,b),b.owner.bind(["columnUnlock","columnLock"],b._updateColumnsLockedStateHandler),b.menu.bind(r,function(c){var d,g,h,i=a(c.item),k=e(b.owner.columns);b._isMobile&&c.preventDefault(),i.parent().closest("li.k-columns-item")[0]&&(d=i.find(":checkbox"),d.attr("disabled")||(h=d.attr(f.attr("field")),g=j(k,function(a){return a.field==h||a.title==h})[0],g.hidden===!0?b.owner.showColumn(g):b.owner.hideColumn(g)))}))},_updateColumnsMenu:function(){var a,b,c,d,e,g=f.attr("field"),h=f.attr("locked"),i=j(this._ownerColumns(),function(a){return!a.hidden}),m=j(i,function(a){return a.originalField}),n=j(m,function(a){return a.locked===!0}).length,o=j(m,function(a){return a.locked!==!0}).length;i=k(i,function(a){return a.field});var p=this.wrapper.find(".k-columns-item input["+g+"]").prop("disabled",!1).prop("checked",!1);for(a=0,b=p.length;a<b;a++)c=p.eq(a),e="true"===c.attr(h),d=!1,l(c.attr(g),i)>-1&&(d=!0,c.prop("checked",d)),d&&(1==n&&e&&c.prop("disabled",!0),1!=o||e||c.prop("disabled",!0))},_updateColumnsLockedState:function(){var a,b,c,e,g=f.attr("field"),h=f.attr("locked"),i=d(this._ownerColumns(),"field"),j=this.wrapper.find(".k-columns-item input[type=checkbox]");for(a=0,b=j.length;a<b;a++)c=j.eq(a),e=i[c.attr(g)],e&&c.attr(h,e.locked);this._updateColumnsMenu()},_filter:function(){var b=this,c=t,d=b.options;d.filterable!==!1&&(d.filterable.multi&&(c="kendoFilterMultiCheck",d.filterable.dataSource&&(d.filterable.checkSource=d.filterable.dataSource,delete d.filterable.dataSource)),b.filterMenu=b.wrapper.find(".k-filterable")[c](i(!0,{},{appendToElement:!0,dataSource:d.dataSource,values:d.values,field:b.field,title:b.title},d.filterable)).data(c),b._isMobile&&b.menu.bind(r,function(c){var d=a(c.item);d.hasClass("k-filter-item")&&b.pane.navigate(b.filterMenu.view,b.options.animations.left)}))},_lockColumns:function(){var b=this;b.menu.bind(r,function(c){var d=a(c.item);d.hasClass("k-lock")?(b.owner.lockColumn(b.field),b.close()):d.hasClass("k-unlock")&&(b.owner.unlockColumn(b.field),b.close())})},_updateLockedColumns:function(){var a=this.field,b=this.owner.columns,c=j(b,function(b){return b.field==a||b.title==a})[0];if(c){var d=c.locked===!0,e=j(b,function(a){return!a.hidden&&(a.locked&&d||!a.locked&&!d)}).length,f=this.wrapper.find(".k-lock").removeClass("k-state-disabled"),g=this.wrapper.find(".k-unlock").removeClass("k-state-disabled");(d||1==e)&&f.addClass("k-state-disabled"),d&&1!=e||g.addClass("k-state-disabled"),this._updateColumnsLockedState()}},refresh:function(){var a,b,c,d=this,e=d.options.dataSource.sort()||[],f=d.field;for(d.wrapper.find(".k-sort-asc, .k-sort-desc").removeClass(m),b=0,c=e.length;b<c;b++)a=e[b],f==a.field&&d.wrapper.find(".k-sort-"+a.dir).addClass(m);d.link[d._filterExist(d.dataSource.filter())?"addClass":"removeClass"]("k-state-active")},_filterExist:function(a){var b,c=!1;if(a){a=a.filters;for(var d=0,e=a.length;d<e;d++)b=a[d],b.field==this.field?c=!0:b.filters&&(c=c||this._filterExist(b));return c}}}),y='<ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-sprite k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-sprite k-i-sort-desc"></span>${messages.sortDescending}</span></li>#if(showColumns || filterable){#<li class="k-separator"></li>#}##}##if(showColumns){#<li class="k-item k-columns-item"><span class="k-link"><span class="k-sprite k-i-columns"></span>${messages.columns}</span><ul>#for (var idx = 0; idx < columns.length; idx++) {#<li><input type="checkbox" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#" data-#=ns#locked="#=columns[idx].locked#"/>#=columns[idx].title#</li>#}#</ul></li>#if(filterable || lockedColumns){#<li class="k-separator"></li>#}##}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link"><span class="k-sprite k-filter"></span>${messages.filter}</span><ul><li><div class="k-filterable"></div></li></ul></li>#if(lockedColumns){#<li class="k-separator"></li>#}##}##if(lockedColumns){#<li class="k-item k-lock"><span class="k-link"><span class="k-sprite k-i-lock"></span>${messages.lock}</span></li><li class="k-item k-unlock"><span class="k-link"><span class="k-sprite k-i-unlock"></span>${messages.unlock}</span></li>#}#</ul>',z='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-column-menu"><div data-#=ns#role="header" class="k-header">${messages.settings}<button class="k-button k-done">#=messages.done#</button></div><div class="k-column-menu k-mobile-list"><ul><li><span class="k-link">${title}</span><ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-sprite k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-sprite k-i-sort-desc"></span>${messages.sortDescending}</span></li>#}##if(lockedColumns){#<li class="k-item k-lock"><span class="k-link"><span class="k-sprite k-i-lock"></span>${messages.lock}</span></li><li class="k-item k-unlock"><span class="k-link"><span class="k-sprite k-i-unlock"></span>${messages.unlock}</span></li>#}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link k-filterable"><span class="k-sprite k-filter"></span>${messages.filter}</span></li>#}#</ul></li>#if(showColumns){#<li class="k-columns-item"><span class="k-link">${messages.columns}</span><ul>#for (var idx = 0; idx < columns.length; idx++) {#<li class="k-item"><label class="k-label"><input type="checkbox" class="k-check" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#" data-#=ns#locked="#=columns[idx].locked#"/>#=columns[idx].title#</label></li>#}#</ul></li>#}#</ul></div></div>',A=w.extend({init:function(a,b){w.fn.init.call(this,a,b),this.element.on("click"+v,"li.k-item:not(.k-separator):not(.k-state-disabled)","_click")},events:[r],_click:function(b){a(b.target).is("[type=checkbox]")||b.preventDefault(),this.trigger(r,{item:b.currentTarget})},close:function(){this.options.pane.navigate("")},destroy:function(){w.fn.destroy.call(this),this.element.off(v)}});g.plugin(x)}(window.kendo.jQuery),function(a,b){function c(a){return a.position().top+3}var d=window.kendo,e=d.ui.Widget,f=a.proxy,g=!1,h=".kendoGroupable",i="change",j=d.template('<div class="k-group-indicator" data-#=data.ns#field="${data.field}" data-#=data.ns#title="${data.title || ""}" data-#=data.ns#dir="${data.dir || "asc"}"><a href="\\#" class="k-link"><span class="k-icon k-si-arrow-${(data.dir || "asc") == "asc" ? "n" : "s"}">(sorted ${(data.dir || "asc") == "asc" ? "ascending": "descending"})</span>${data.title ? data.title: data.field}</a><a class="k-button k-button-icon k-button-bare"><span class="k-icon k-group-delete"></span></a></div>',{useWithBlock:!1}),k=function(b){return a('<div class="k-header k-drag-clue" />').css({width:b.width(),paddingLeft:b.css("paddingLeft"),paddingRight:b.css("paddingRight"),lineHeight:b.height()+"px",paddingTop:b.css("paddingTop"),paddingBottom:b.css("paddingBottom")}).html(b.attr(d.attr("title"))||b.attr(d.attr("field"))).prepend('<span class="k-icon k-drag-status k-denied" />')},l=a('<div class="k-grouping-dropclue"/>'),m=e.extend({init:function(b,j){var m,n,o=this,p=d.guid(),q=f(o._intializePositions,o),r=o._dropCuePositions=[];e.fn.init.call(o,b,j),g=d.support.isRtl(b),n=g?"right":"left",o.draggable=m=o.options.draggable||new d.ui.Draggable(o.element,{filter:o.options.draggableElements,hint:k,group:p}),o.groupContainer=a(o.options.groupContainer,o.element).kendoDropTarget({group:m.options.group,dragenter:function(a){o._canDrag(a.draggable.currentTarget)&&(a.draggable.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add"),l.css("top",c(o.groupContainer)).css(n,0).appendTo(o.groupContainer))},dragleave:function(a){a.draggable.hint.find(".k-drag-status").removeClass("k-add").addClass("k-denied"),l.remove()},drop:function(b){var c,e=b.draggable.currentTarget,f=e.attr(d.attr("field")),h=e.attr(d.attr("title")),i=o.indicator(f),j=o._dropCuePositions,k=j[j.length-1];(e.hasClass("k-group-indicator")||o._canDrag(e))&&(k?(c=o._dropCuePosition(d.getOffset(l).left+parseInt(k.element.css("marginLeft"),10)*(g?-1:1)+parseInt(k.element.css("marginRight"),10)),c&&o._canDrop(a(i),c.element,c.left)&&(c.before?c.element.before(i||o.buildIndicator(f,h)):c.element.after(i||o.buildIndicator(f,h)),o._change())):(o.groupContainer.append(o.buildIndicator(f,h)),o._change()))}}).kendoDraggable({filter:"div.k-group-indicator",hint:k,group:m.options.group,dragcancel:f(o._dragCancel,o),dragstart:function(a){var b=a.currentTarget,d=parseInt(b.css("marginLeft"),10),e=b.position(),f=g?e.left-d:e.left+b.outerWidth();q(),l.css({top:c(o.groupContainer),left:f}).appendTo(o.groupContainer),this.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add")},dragend:function(){o._dragEnd(this)},drag:f(o._drag,o)}).on("click"+h,".k-button",function(b){b.preventDefault(),o._removeIndicator(a(this).parent())}).on("click"+h,".k-link",function(b){var c=a(this).parent(),e=o.buildIndicator(c.attr(d.attr("field")),c.attr(d.attr("title")),"asc"==c.attr(d.attr("dir"))?"desc":"asc");c.before(e).remove(),o._change(),b.preventDefault()}),m.bind(["dragend","dragcancel","dragstart","drag"],{dragend:function(){o._dragEnd(this)},dragcancel:f(o._dragCancel,o),dragstart:function(a){var b,c,d;return o.options.allowDrag||o._canDrag(a.currentTarget)?(q(),void(r.length?(b=r[r.length-1].element,c=parseInt(b.css("marginRight"),10),d=b.position().left+b.outerWidth()+c):d=0)):void a.preventDefault()},drag:f(o._drag,o)}),o.dataSource=o.options.dataSource,o.dataSource&&o._refreshHandler?o.dataSource.unbind(i,o._refreshHandler):o._refreshHandler=f(o.refresh,o),o.dataSource&&(o.dataSource.bind("change",o._refreshHandler),o.refresh())},refresh:function(){var b=this,c=b.dataSource;b.groupContainer&&b.groupContainer.empty().append(a.map(c.group()||[],function(c){var e=c.field,f=d.attr("field"),g=b.element.find(b.options.filter).filter(function(){return a(this).attr(f)===e});return b.buildIndicator(c.field,g.attr(d.attr("title")),c.dir)}).join("")),b._invalidateGroupContainer()},destroy:function(){var a=this;e.fn.destroy.call(a),a.groupContainer.off(h),a.groupContainer.data("kendoDropTarget")&&a.groupContainer.data("kendoDropTarget").destroy(),a.groupContainer.data("kendoDraggable")&&a.groupContainer.data("kendoDraggable").destroy(),a.options.draggable||a.draggable.destroy(),a.dataSource&&a._refreshHandler&&(a.dataSource.unbind("change",a._refreshHandler),a._refreshHandler=null),a.groupContainer=a.element=a.draggable=null},options:{name:"Groupable",filter:"th",draggableElements:"th",messages:{empty:"Drag a column header and drop it here to group by that column"}},indicator:function(b){var c=a(".k-group-indicator",this.groupContainer);return a.grep(c,function(c){return a(c).attr(d.attr("field"))===b})[0]},buildIndicator:function(a,b,c){return j({field:a.replace(/"/g,"'"),dir:c,title:b,ns:d.ns})},descriptors:function(){var b,c,e,f,g,h=this,i=a(".k-group-indicator",h.groupContainer);return b=h.element.find(h.options.filter).map(function(){var b=a(this),e=b.attr(d.attr("aggregates")),h=b.attr(d.attr("field"));if(e&&""!==e)for(c=e.split(","),e=[],f=0,g=c.length;f<g;f++)e.push({field:h,aggregate:c[f]});return e}).toArray(),a.map(i,function(c){return c=a(c),e=c.attr(d.attr("field")),{field:e,dir:c.attr(d.attr("dir")),aggregates:b||[]}})},_removeIndicator:function(a){var b=this;a.remove(),b._invalidateGroupContainer(),b._change()},_change:function(){var a=this;a.dataSource&&a.dataSource.group(a.descriptors())},_dropCuePosition:function(b){var c=this._dropCuePositions;if(l.is(":visible")&&0!==c.length){b=Math.ceil(b);var d=c[c.length-1],e=d.left,f=d.right,h=parseInt(d.element.css("marginLeft"),10),i=parseInt(d.element.css("marginRight"),10);return b>=f&&!g||b<e&&g?b={left:d.element.position().left+(g?-h:d.element.outerWidth()+i),element:d.element,before:!1}:(b=a.grep(c,function(a){return a.left<=b&&b<=a.right||g&&b>a.right})[0],b&&(b={left:g?b.element.position().left+b.element.outerWidth()+i:b.element.position().left-h,element:b.element,before:!0})),b}},_drag:function(a){var b=this._dropCuePosition(a.x.location);b&&l.css({left:b.left,right:"auto"})},_canDrag:function(a){var b=a.attr(d.attr("field"));return"false"!=a.attr(d.attr("groupable"))&&b&&(a.hasClass("k-group-indicator")||!this.indicator(b))},_canDrop:function(a,b,c){var d=a.next(),e=a[0]!==b[0]&&(!d[0]||b[0]!==d[0]||!g&&c>d.position().left||g&&c<d.position().left);return e},_dragEnd:function(b){var c=this,e=b.currentTarget.attr(d.attr("field")),f=c.indicator(e);b!==c.options.draggable&&!b.dropped&&f&&c._removeIndicator(a(f)),c._dragCancel()},_dragCancel:function(){l.remove(),this._dropCuePositions=[]},_intializePositions:function(){var b,c=this,e=a(".k-group-indicator",c.groupContainer);c._dropCuePositions=a.map(e,function(c){return c=a(c),b=d.getOffset(c).left,{left:parseInt(b,10),right:parseInt(b+c.outerWidth(),10),element:c}})},_invalidateGroupContainer:function(){var a=this.groupContainer;a&&a.is(":empty")&&a.html(this.options.messages.empty)}});d.ui.plugin(m)}(window.kendo.jQuery),function(a,b){function c(a,b,c,d,e){return a({idx:b,text:c,ns:j.ns,numeric:d,title:e||""})}function d(a,b,c){return w({className:a.substring(1),text:b,wrapClassName:c||""})}function e(a,b,c,d){a.find(b).parent().attr(j.attr("page"),c).attr("tabindex",-1).toggleClass("k-state-disabled",d)}function f(a,b){e(a,n,1,b<=1)}function g(a,b){e(a,p,Math.max(1,b-1),b<=1)}function h(a,b,c){e(a,q,Math.min(c,b+1),b>=c)}function i(a,b,c){e(a,o,c,b>=c)}var j=window.kendo,k=j.ui,l=k.Widget,m=a.proxy,n=".k-i-seek-w",o=".k-i-seek-e",p=".k-i-arrow-w",q=".k-i-arrow-e",r="change",s=".kendoPager",t="click",u="keydown",v="disabled",w=j.template('<a href="\\#" title="#=text#" class="k-link k-pager-nav #= wrapClassName #"><span class="k-icon #= className #">#=text#</span></a>'),x=l.extend({init:function(b,c){var e,k,v=this;l.fn.init.call(v,b,c),c=v.options,v.dataSource=j.data.DataSource.create(c.dataSource),v.linkTemplate=j.template(v.options.linkTemplate),v.selectTemplate=j.template(v.options.selectTemplate),v.currentPageTemplate=j.template(v.options.currentPageTemplate),e=v.page(),k=v.totalPages(),v._refreshHandler=m(v.refresh,v),v.dataSource.bind(r,v._refreshHandler),c.previousNext&&(v.element.find(n).length||(v.element.append(d(n,c.messages.first,"k-pager-first")),f(v.element,e,k)),v.element.find(p).length||(v.element.append(d(p,c.messages.previous)),g(v.element,e,k))),c.numeric&&(v.list=v.element.find(".k-pager-numbers"),v.list.length||(v.list=a('<ul class="k-pager-numbers k-reset" />').appendTo(v.element))),c.input&&(v.element.find(".k-pager-input").length||v.element.append('<span class="k-pager-input k-label">'+c.messages.page+'<input class="k-textbox">'+j.format(c.messages.of,k)+"</span>"),v.element.on(u+s,".k-pager-input input",m(v._keydown,v))),c.previousNext&&(v.element.find(q).length||(v.element.append(d(q,c.messages.next)),h(v.element,e,k)),v.element.find(o).length||(v.element.append(d(o,c.messages.last,"k-pager-last")),i(v.element,e,k))),c.pageSizes&&(v.element.find(".k-pager-sizes").length||a('<span class="k-pager-sizes k-label"><select/>'+c.messages.itemsPerPage+"</span>").appendTo(v.element).find("select").html(a.map(a.isArray(c.pageSizes)?c.pageSizes:[5,10,20],function(a){return"<option>"+a+"</option>"}).join("")).end().appendTo(v.element),v.element.find(".k-pager-sizes select").val(v.pageSize()),j.ui.DropDownList&&v.element.find(".k-pager-sizes select").show().kendoDropDownList(),v.element.on(r+s,".k-pager-sizes select",m(v._change,v))),c.refresh&&(v.element.find(".k-pager-refresh").length||v.element.append('<a href="#" class="k-pager-refresh k-link" title="'+c.messages.refresh+'"><span class="k-icon k-i-refresh">'+c.messages.refresh+"</span></a>"),v.element.on(t+s,".k-pager-refresh",m(v._refreshClick,v))),c.info&&(v.element.find(".k-pager-info").length||v.element.append('<span class="k-pager-info k-label" />')),v.element.on(t+s,"a",m(v._click,v)).addClass("k-pager-wrap k-widget"),v.element.on(t+s,".k-current-page",m(v._toggleActive,v)),c.autoBind&&v.refresh(),j.notify(v)},destroy:function(){var a=this;l.fn.destroy.call(a),a.element.off(s),a.dataSource.unbind(r,a._refreshHandler),a._refreshHandler=null,j.destroy(a.element),a.element=a.list=null},events:[r],options:{name:"Pager",selectTemplate:'<li><span class="k-state-selected">#=text#</span></li>',currentPageTemplate:'<li class="k-current-page"><span class="k-link k-pager-nav">#=text#</span></li>',linkTemplate:'<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#" #if (title !== "") {# title="#=title#" #}#>#=text#</a></li>',buttonCount:10,autoBind:!0,numeric:!0,info:!0,input:!1,previousNext:!0,pageSizes:!1,refresh:!1,messages:{display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh",morePages:"More pages"}},setDataSource:function(a){var b=this;b.dataSource.unbind(r,b._refreshHandler),b.dataSource=b.options.dataSource=a,a.bind(r,b._refreshHandler),b.options.autoBind&&a.fetch()},refresh:function(a){var b,d,e,k=this,l=1,m=k.page(),n="",o=k.options,p=k.pageSize(),q=k.dataSource.total(),r=k.totalPages(),s=k.linkTemplate,t=o.buttonCount;if(!a||"itemchange"!=a.action){if(o.numeric){for(m>t&&(e=m%t,l=0===e?m-t+1:m-e+1),d=Math.min(l+t-1,r),l>1&&(n+=c(s,l-1,"...",!1,o.messages.morePages)),b=l;b<=d;b++)n+=c(b==m?k.selectTemplate:s,b,b,!0);d<r&&(n+=c(s,b,"...",!1,o.messages.morePages)),""===n&&(n=k.selectTemplate({text:0})),n=this.currentPageTemplate({text:m})+n,k.list.removeClass("k-state-expanded").html(n)}o.info&&(n=q>0?j.format(o.messages.display,(m-1)*p+1,Math.min(m*p,q),q):o.messages.empty,k.element.find(".k-pager-info").html(n)),o.input&&k.element.find(".k-pager-input").html(k.options.messages.page+'<input class="k-textbox">'+j.format(o.messages.of,r)).find("input").val(m).attr(v,q<1).toggleClass("k-state-disabled",q<1),o.previousNext&&(f(k.element,m,r),g(k.element,m,r),h(k.element,m,r),i(k.element,m,r)),o.pageSizes&&k.element.find(".k-pager-sizes select").val(p).filter("["+j.attr("role")+"=dropdownlist]").kendoDropDownList("value",p).kendoDropDownList("text",p)}},_keydown:function(a){if(a.keyCode===j.keys.ENTER){var b=this.element.find(".k-pager-input").find("input"),c=parseInt(b.val(),10);(isNaN(c)||c<1||c>this.totalPages())&&(c=this.page()),b.val(c),this.page(c)}},_refreshClick:function(a){a.preventDefault(),this.dataSource.read()},_change:function(a){var b=parseInt(a.currentTarget.value,10);isNaN(b)||this.dataSource.pageSize(b)},_toggleActive:function(a){this.list.toggleClass("k-state-expanded")},_click:function(b){var c=a(b.currentTarget);b.preventDefault(),c.is(".k-state-disabled")||this.page(c.attr(j.attr("page")))},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/this.pageSize())},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(a){return a===b?this.dataSource.total()>0?this.dataSource.page():0:(this.dataSource.page(a),void this.trigger(r,{index:a}))}});k.plugin(x)}(window.kendo.jQuery),function(a,b){function c(a,b){if(!a.is(":visible"))return!1;var c=d.getOffset(a),e=b.left+b.width,f=b.top+b.height;return c.right=c.left+a.outerWidth(),c.bottom=c.top+a.outerHeight(),!(c.left>e||c.right<b.left||c.top>f||c.bottom<b.top)}var d=window.kendo,e=d.ui.Widget,f=a.proxy,g=Math.abs,h=(Array.prototype.shift,"aria-selected"),i="k-state-selected",j="k-state-selecting",k="k-selectable",l="change",m=".kendoSelectable",n="k-state-unselecting",o="input,a,textarea,.k-multiselect-wrap,select,button,a.k-button>.k-icon,button.k-button>.k-icon,span.k-icon.k-i-expand,span.k-icon.k-i-collapse",p=d.support.browser.msie,q=!1;!function(a){!function(){a('<div class="parent"><span /></div>').on("click",">*",function(){q=!0}).find("span").click().end().off()}()}(a);var r=e.extend({init:function(b,c){var g,h=this;e.fn.init.call(h,b,c),h._marquee=a("<div class='k-marquee'><div class='k-marquee-color'></div></div>"),h._lastActive=null,h.element.addClass(k),h.relatedTarget=h.options.relatedTarget,g=h.options.multiple,this.options.aria&&g&&h.element.attr("aria-multiselectable",!0),h.userEvents=new d.UserEvents(h.element,{global:!0,allowSelection:!0,filter:(q?"":"."+k+" ")+h.options.filter,tap:f(h._tap,h)}),g&&h.userEvents.bind("start",f(h._start,h)).bind("move",f(h._move,h)).bind("end",f(h._end,h)).bind("select",f(h._select,h))},events:[l],options:{name:"Selectable",filter:">*",multiple:!1,relatedTarget:a.noop},_isElement:function(a){var b,c=this.element,d=c.length,e=!1;for(a=a[0],b=0;b<d;b++)if(c[b]===a){e=!0;break}return e},_tap:function(b){var c,d=a(b.target),e=this,f=b.event.ctrlKey||b.event.metaKey,g=e.options.multiple,h=g&&b.event.shiftKey,j=b.event.which,m=b.event.button;!e._isElement(d.closest("."+k))||j&&3==j||m&&2==m||this._allowSelection(b.event.target)&&(c=d.hasClass(i),g&&f||e.clear(),d=d.add(e.relatedTarget(d)),h?e.selectRange(e._firstSelectee(),d):(c&&f?(e._unselect(d),e._notify(l)):e.value(d),e._lastActive=e._downTarget=d))},_start:function(b){var c,d=this,e=a(b.target),f=e.hasClass(i),g=b.event.ctrlKey||b.event.metaKey;if(this._allowSelection(b.event.target)){if(d._downTarget=e,!d._isElement(e.closest("."+k)))return void d.userEvents.cancel();d.options.useAllItems?d._items=d.element.find(d.options.filter):(c=e.closest(d.element),d._items=c.find(d.options.filter)),b.sender.capture(),d._marquee.appendTo(document.body).css({left:b.x.client+1,top:b.y.client+1,width:0,height:0}),g||d.clear(),e=e.add(d.relatedTarget(e)),f&&(d._selectElement(e,!0),g&&e.addClass(n))}},_move:function(a){var b=this,c={left:a.x.startLocation>a.x.location?a.x.location:a.x.startLocation,top:a.y.startLocation>a.y.location?a.y.location:a.y.startLocation,width:g(a.x.initialDelta),height:g(a.y.initialDelta)};b._marquee.css(c),b._invalidateSelectables(c,a.event.ctrlKey||a.event.metaKey),a.preventDefault()},_end:function(){var a=this;a._marquee.remove(),a._unselect(a.element.find(a.options.filter+"."+n)).removeClass(n);var b=a.element.find(a.options.filter+"."+j);b=b.add(a.relatedTarget(b)),a.value(b),a._lastActive=a._downTarget,a._items=null},_invalidateSelectables:function(a,b){var d,e,f,g,h=this._downTarget[0],k=this._items;for(d=0,e=k.length;d<e;d++)g=k.eq(d),f=g.add(this.relatedTarget(g)),c(g,a)?g.hasClass(i)?b&&h!==g[0]&&f.removeClass(i).addClass(n):g.hasClass(j)||g.hasClass(n)||f.addClass(j):g.hasClass(j)?f.removeClass(j):b&&g.hasClass(n)&&f.removeClass(n).addClass(i)},value:function(a){var b=this,c=f(b._selectElement,b);return a?(a.each(function(){c(this)}),void b._notify(l)):b.element.find(b.options.filter+"."+i)},_firstSelectee:function(){var a,b=this;return null!==b._lastActive?b._lastActive:(a=b.value(),a.length>0?a[0]:b.element.find(b.options.filter)[0])},_selectElement:function(b,c){var d=a(b),e=!c&&this._notify("select",{element:b});d.removeClass(j),e||(d.addClass(i),this.options.aria&&d.attr(h,!0))},_notify:function(a,b){return b=b||{},this.trigger(a,b)},_unselect:function(a){return a.removeClass(i),this.options.aria&&a.attr(h,!1),a},_select:function(b){this._allowSelection(b.event.target)&&(!p||p&&!a(d._activeElement()).is(o))&&b.preventDefault()},_allowSelection:function(b){return!a(b).is(o)||(this.userEvents.cancel(),this._downTarget=null,!1)},resetTouchEvents:function(){this.userEvents.cancel()},clear:function(){var a=this.element.find(this.options.filter+"."+i);this._unselect(a)},selectRange:function(b,c){var d,e,f,g=this;for(g.clear(),g.element.length>1&&(f=g.options.continuousItems()),f&&f.length||(f=g.element.find(g.options.filter)),b=a.inArray(a(b)[0],f),c=a.inArray(a(c)[0],f),b>c&&(e=b,b=c,c=e),g.options.useAllItems||(c+=g.element.length-1),d=b;d<=c;d++)g._selectElement(f[d]);g._notify(l)},destroy:function(){var a=this;e.fn.destroy.call(a),a.element.off(m),a.userEvents.destroy(),a._marquee=a._lastActive=a.element=a.userEvents=null}});r.parseOptions=function(a){var b="string"==typeof a&&a.toLowerCase();return{multiple:b&&b.indexOf("multiple")>-1,cell:b&&b.indexOf("cell")>-1}},d.ui.plugin(r)}(window.kendo.jQuery),function(a,b){function c(b,c){try{return a.contains(b,c)||b==c}catch(d){return!1}}function d(a){return a.clone()}function e(a){return a.clone().removeAttr("id").css("visibility","hidden")}var f=window.kendo,g=f.ui.Widget,h="start",i="beforeMove",j="move",k="end",l="change",m="cancel",n="sort",o="remove",p="receive",q=">*",r=-1,s=g.extend({init:function(a,b){var c=this;g.fn.init.call(c,a,b),c.options.placeholder||(c.options.placeholder=e),c.options.hint||(c.options.hint=d),c._draggable=c._createDraggable()},events:[h,i,j,k,l,m],options:{name:"Sortable",hint:null,placeholder:null,filter:q,holdToDrag:!1,disabled:null,container:null,connectWith:null,handler:null,cursorOffset:null,axis:null,ignore:null,cursor:"auto"},destroy:function(){this._draggable.destroy(),g.fn.destroy.call(this)},_createDraggable:function(){var b=this,c=b.element,d=b.options;return new f.ui.Draggable(c,{filter:d.filter,hint:f.isFunction(d.hint)?d.hint:a(d.hint),holdToDrag:d.holdToDrag,container:d.container?a(d.container):null,cursorOffset:d.cursorOffset,axis:d.axis,ignore:d.ignore,dragstart:a.proxy(b._dragstart,b),dragcancel:a.proxy(b._dragcancel,b),drag:a.proxy(b._drag,b),dragend:a.proxy(b._dragend,b)})},_dragstart:function(b){var c=this.draggedElement=b.currentTarget,d=(b.target||f.elementUnderCursor(b),this.options.disabled),e=this.options.handler,g=this.options.placeholder,i=this.placeholder=a(f.isFunction(g)?g.call(this,c):g);d&&c.is(d)?b.preventDefault():e&&!a(b.initialTarget).is(e)?b.preventDefault():this.trigger(h,{item:c,draggableEvent:b})?b.preventDefault():(c.css("display","none"),
c.before(i),this._setCursor())},_dragcancel:function(a){this._cancel(),this.trigger(m,{item:this.draggedElement}),this._resetCursor()},_drag:function(b){var c,d,e,f,g,h=this.draggedElement,i=this._findTarget(b),j={left:b.x.location,top:b.y.location},k={x:b.x.delta,y:b.y.delta},l=this.options.axis,m={item:h,list:this,draggableEvent:b};if("x"===l||"y"===l)return void this._movementByAxis(l,j,k[l],m);if(i){if(c=this._getElementCenter(i.element),d={left:Math.round(j.left-c.left),top:Math.round(j.top-c.top)},a.extend(m,{target:i.element}),i.appendToBottom)return void this._movePlaceholder(i,null,m);if(i.appendAfterHidden&&this._movePlaceholder(i,"next",m),this._isFloating(i.element)?k.x<0&&d.left<0?e="prev":k.x>0&&d.left>0&&(e="next"):k.y<0&&d.top<0?e="prev":k.y>0&&d.top>0&&(e="next"),e){for(g="prev"===e?jQuery.fn.prev:jQuery.fn.next,f=g.call(i.element);f.length&&!f.is(":visible");)f=g.call(f);f[0]!=this.placeholder[0]&&this._movePlaceholder(i,e,m)}}},_dragend:function(b){var c,d,e,f,g=this.placeholder,h=this.draggedElement,i=this.indexOf(h),j=this.indexOf(g),m=this.options.connectWith;return this._resetCursor(),e={action:n,item:h,oldIndex:i,newIndex:j,draggableEvent:b},j>=0?d=this.trigger(k,e):(c=g.parents(m).getKendoSortable(),e.action=o,f=a.extend({},e,{action:p,oldIndex:r,newIndex:c.indexOf(g)}),d=!(!this.trigger(k,e)&&!c.trigger(k,f))),d||j===i?void this._cancel():(g.replaceWith(h),h.show(),this._draggable.dropped=!0,e={action:this.indexOf(h)!=r?n:o,item:h,oldIndex:i,newIndex:this.indexOf(h),draggableEvent:b},this.trigger(l,e),void(c&&(f=a.extend({},e,{action:p,oldIndex:r,newIndex:c.indexOf(h)}),c.trigger(l,f))))},_findTarget:function(b){var c,d,e=this._findElementUnderCursor(b),f=this.options.connectWith;return a.contains(this.element[0],e)?(c=this.items(),d=c.filter(e)[0]||c.has(e)[0],d?{element:a(d),sortable:this}:null):this.element[0]==e&&this._isEmpty()?{element:this.element,sortable:this,appendToBottom:!0}:this.element[0]==e&&this._isLastHidden()?(d=this.items().eq(0),{element:d,sortable:this,appendAfterHidden:!0}):f?this._searchConnectedTargets(e,b):void 0},_findElementUnderCursor:function(a){var b=f.elementUnderCursor(a),d=a.sender;this.options.disabled,this.options.filter,this.items();return c(d.hint[0],b)&&(d.hint.hide(),b=f.elementUnderCursor(a),b||(b=f.elementUnderCursor(a)),d.hint.show()),b},_searchConnectedTargets:function(b,c){for(var d,e,f,g=a(this.options.connectWith),h=0;h<g.length;h++)if(d=g.eq(h).getKendoSortable(),a.contains(g[h],b)){if(d)return e=d.items(),f=e.filter(b)[0]||e.has(b)[0],f?(d.placeholder=this.placeholder,{element:a(f),sortable:d}):null}else if(g[h]==b){if(d&&d._isEmpty())return{element:g.eq(h),sortable:d,appendToBottom:!0};if(this._isCursorAfterLast(d,c))return f=d.items().last(),{element:f,sortable:d}}},_isCursorAfterLast:function(a,b){var c,d,e=a.items().last(),g={left:b.x.location,top:b.y.location};return c=f.getOffset(e),c.top+=e.outerHeight(),c.left+=e.outerWidth(),d=this._isFloating(e)?c.left-g.left:c.top-g.top,d<0},_movementByAxis:function(b,c,d,e){var f,g="x"===b?c.left:c.top,h=d<0?this.placeholder.prev():this.placeholder.next();h.length&&!h.is(":visible")&&(h=d<0?h.prev():h.next()),a.extend(e,{target:h}),f=this._getElementCenter(h),f&&(f="x"===b?f.left:f.top),h.length&&d<0&&g-f<0?this._movePlaceholder({element:h,sortable:this},"prev",e):h.length&&d>0&&g-f>0&&this._movePlaceholder({element:h,sortable:this},"next",e)},_movePlaceholder:function(a,b,c){var d=this.placeholder;a.sortable.trigger(i,c)||(b?"prev"===b?a.element.before(d):"next"===b&&a.element.after(d):a.element.append(d),a.sortable.trigger(j,c))},_setCursor:function(){var b,c=this.options.cursor;c&&"auto"!==c&&(b=a(document.body),this._originalCursorType=b.css("cursor"),b.css({cursor:c}),this._cursorStylesheet||(this._cursorStylesheet=a("<style>* { cursor: "+c+" !important; }</style>")),this._cursorStylesheet.appendTo(b))},_resetCursor:function(){this._originalCursorType&&(a(document.body).css("cursor",this._originalCursorType),this._originalCursorType=null,this._cursorStylesheet.remove())},_getElementCenter:function(a){var b=a.length?f.getOffset(a):null;return b&&(b.top+=a.outerHeight()/2,b.left+=a.outerWidth()/2),b},_isFloating:function(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))},_cancel:function(){this.draggedElement.show(),this.placeholder.remove()},_items:function(){var a,b=this.options.filter;return a=b?this.element.find(b):this.element.children()},indexOf:function(a){var b=this._items(),c=this.placeholder,d=this.draggedElement;return c&&a[0]==c[0]?b.not(d).index(a):b.not(c).index(a)},items:function(){var a=this.placeholder,b=this._items();return a&&(b=b.not(a)),b},_isEmpty:function(){return!this.items().length},_isLastHidden:function(){return 1===this.items().length&&this.items().is(":hidden")}});f.ui.plugin(s)}(window.kendo.jQuery),function(a,b){function c(b,c){b=a(b),c?b.find(".k-drag-status").removeClass("k-add").addClass("k-denied"):b.find(".k-drag-status").removeClass("k-denied").addClass("k-add")}var d=window.kendo,e=d.getOffset,f=d.ui.Widget,g="change",h="k-reorderable",i=f.extend({init:function(b,i){var j,k=this,l=d.guid()+"-reorderable";f.fn.init.call(k,b,i),b=k.element.addClass(h),i=k.options,k.draggable=j=i.draggable||new d.ui.Draggable(b,{group:l,filter:i.filter,hint:i.hint}),k.reorderDropCue=a('<div class="k-reorder-cue"><div class="k-icon k-i-arrow-s"></div><div class="k-icon k-i-arrow-n"></div></div>'),b.find(j.options.filter).kendoDropTarget({group:j.options.group,dragenter:function(a){if(k._draggable){var b,d=this.element,f=!k._dropTargetAllowed(d)||k._isLastDraggable();if(c(a.draggable.hint,f),!f){b=e(d);var g=b.left;i.inSameContainer&&!i.inSameContainer({source:d,target:k._draggable,sourceIndex:k._index(d),targetIndex:k._index(k._draggable)})?k._dropTarget=d:k._index(d)>k._index(k._draggable)&&(g+=d.outerWidth()),k.reorderDropCue.css({height:d.outerHeight(),top:b.top,left:g}).appendTo(document.body)}}},dragleave:function(a){c(a.draggable.hint,!0),k.reorderDropCue.remove(),k._dropTarget=null},drop:function(){if(k._dropTarget=null,k._draggable){var a=this.element,b=k._draggable;k._dropTargetAllowed(a)&&!k._isLastDraggable()&&k.trigger(g,{element:k._draggable,target:a,oldIndex:k._index(b),newIndex:k._index(a),position:e(k.reorderDropCue).left>e(a).left?"after":"before"})}}}),j.bind(["dragcancel","dragend","dragstart","drag"],{dragcancel:function(){k.reorderDropCue.remove(),k._draggable=null,k._elements=null},dragend:function(){k.reorderDropCue.remove(),k._draggable=null,k._elements=null},dragstart:function(a){k._draggable=a.currentTarget,k._elements=k.element.find(k.draggable.options.filter)},drag:function(a){if(k._dropTarget&&!this.hint.find(".k-drag-status").hasClass("k-denied")){var b=e(k._dropTarget).left,c=k._dropTarget.outerWidth();a.pageX>b+c/2?k.reorderDropCue.css({left:b+c}):k.reorderDropCue.css({left:b})}}})},options:{name:"Reorderable",filter:"*"},events:[g],_isLastDraggable:function(){var a,b=this.options.inSameContainer,c=this._draggable[0],d=this._elements.get(),e=!1;if(!b)return!1;for(;!e&&d.length>0;)a=d.pop(),e=c!==a&&b({source:c,target:a,sourceIndex:this._index(c),targetIndex:this._index(a)});return!e},_dropTargetAllowed:function(a){var b=this.options.inSameContainer,c=this.options.dragOverContainers,d=this._draggable;return d[0]!==a[0]&&(!b||!c||(!!b({source:d,target:a,sourceIndex:this._index(d),targetIndex:this._index(a)})||c(this._index(d),this._index(a))))},_index:function(a){return this._elements.index(a)},destroy:function(){var b=this;f.fn.destroy.call(b),b.element.find(b.draggable.options.filter).each(function(){var b=a(this);b.data("kendoDropTarget")&&b.data("kendoDropTarget").destroy()}),b.draggable&&(b.draggable.destroy(),b.draggable.element=b.draggable=null),b.elements=b.reorderDropCue=b._elements=b._draggable=null}});d.ui.plugin(i)}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=c.ui,e=d.Widget,f=a.proxy,g=c.isFunction,h=a.extend,i="horizontal",j="vertical",k="start",l="resize",m="resizeend",n=e.extend({init:function(a,b){var c=this;e.fn.init.call(c,a,b),c.orientation=c.options.orientation.toLowerCase()!=j?i:j,c._positionMouse=c.orientation==i?"x":"y",c._position=c.orientation==i?"left":"top",c._sizingDom=c.orientation==i?"outerWidth":"outerHeight",c.draggable=new d.Draggable(a,{distance:1,filter:b.handle,drag:f(c._resize,c),dragcancel:f(c._cancel,c),dragstart:f(c._start,c),dragend:f(c._stop,c)}),c.userEvents=c.draggable.userEvents},events:[l,m,k],options:{name:"Resizable",orientation:i},resize:function(){},_max:function(a){var c=this,d=c.hint?c.hint[c._sizingDom]():0,e=c.options.max;return g(e)?e(a):e!==b?c._initialElementPosition+e-d:e},_min:function(a){var c=this,d=c.options.min;return g(d)?d(a):d!==b?c._initialElementPosition+d:d},_start:function(b){var c=this,d=c.options.hint,e=a(b.currentTarget);c._initialElementPosition=e.position()[c._position],c._initialMousePosition=b[c._positionMouse].startLocation,d&&(c.hint=g(d)?a(d(e)):d,c.hint.css({position:"absolute"}).css(c._position,c._initialElementPosition).appendTo(c.element)),c.trigger(k,b),c._maxPosition=c._max(b),c._minPosition=c._min(b),a(document.body).css("cursor",e.css("cursor"))},_resize:function(a){var c,d=this,e=d._maxPosition,f=d._minPosition,g=d._initialElementPosition+(a[d._positionMouse].location-d._initialMousePosition);c=f!==b?Math.max(f,g):g,d.position=c=e!==b?Math.min(e,c):c,d.hint&&d.hint.toggleClass(d.options.invalidClass||"",c==e||c==f).css(d._position,c),d.resizing=!0,d.trigger(l,h(a,{position:c}))},_stop:function(b){var c=this;c.hint&&c.hint.remove(),c.resizing=!1,c.trigger(m,h(b,{position:c.position})),a(document.body).css("cursor","")},_cancel:function(a){var c=this;c.hint&&(c.position=b,c.hint.css(c._position,c._initialElementPosition),c._stop(a))},destroy:function(){var a=this;e.fn.destroy.call(a),a.draggable&&a.draggable.destroy()},press:function(a){if(a){var b=a.position(),c=this;c.userEvents.press(b.left,b.top,a[0]),c.targetPosition=b,c.target=a}},move:function(a){var c=this,d=c._position,e=c.targetPosition,f=c.position;f===b&&(f=e[d]),e[d]=f+a,c.userEvents.move(e.left,e.top)},end:function(){this.userEvents.end(),this.target=this.position=b}});c.ui.plugin(n)}(window.kendo.jQuery),function(a,b){function c(a){if(!a)return{};var b=a.match(s)||[];return{type:b[1],direction:b[3],reverse:"reverse"===b[5]}}var d=window.kendo,e=d.Observable,f="SCRIPT",g="init",h="show",i="hide",j="transitionStart",k="transitionEnd",l="attach",m="detach",n=/unrecognized expression/,o=e.extend({init:function(a,b){var c=this;b=b||{},e.fn.init.call(c),c.content=a,c.id=d.guid(),c.tagName=b.tagName||"div",c.model=b.model,c._wrap=b.wrap!==!1,this._evalTemplate=b.evalTemplate||!1,c._fragments={},c.bind([g,h,i,j,k],b)},render:function(b){var c=this,e=!c.element;return e&&(c.element=c._createElement()),b&&a(b).append(c.element),e&&(d.bind(c.element,c.model),c.trigger(g)),b&&(c._eachFragment(l),c.trigger(h)),c.element},clone:function(a){return new p(this)},triggerBeforeShow:function(){return!0},triggerBeforeHide:function(){return!0},showStart:function(){this.element.css("display","")},showEnd:function(){},hideEnd:function(){this.hide()},beforeTransition:function(a){this.trigger(j,{type:a})},afterTransition:function(a){this.trigger(k,{type:a})},hide:function(){this._eachFragment(m),this.element.detach(),this.trigger(i)},destroy:function(){var a=this.element;a&&(d.unbind(a),d.destroy(a),a.remove())},fragments:function(b){a.extend(this._fragments,b)},_eachFragment:function(a){for(var b in this._fragments)this._fragments[b][a](this,b)},_createElement:function(){var b,c,e=this,g="<"+e.tagName+" />";try{c=a(document.getElementById(e.content)||e.content),c[0].tagName===f&&(c=c.html())}catch(h){n.test(h.message)&&(c=e.content)}if("string"==typeof c)c=c.replace(/^\s+|\s+$/g,""),e._evalTemplate&&(c=d.template(c)(e.model||{})),b=a(g).append(c),e._wrap||(b=b.contents());else{if(b=c,e._evalTemplate){var i=a(d.template(a("<div />").append(b.clone(!0)).html())(e.model||{}));a.contains(document,b[0])&&b.replaceWith(i),b=i}e._wrap&&(b=b.wrapAll(g).parent())}return b}}),p=d.Class.extend({init:function(b){a.extend(this,{element:b.element.clone(!0),transition:b.transition,id:b.id}),b.element.parent().append(this.element)},hideEnd:function(){this.element.remove()},beforeTransition:a.noop,afterTransition:a.noop}),q=o.extend({init:function(a,b){o.fn.init.call(this,a,b),this.containers={}},container:function(a){var b=this.containers[a];return b||(b=this._createContainer(a),this.containers[a]=b),b},showIn:function(a,b,c){this.container(a).show(b,c)},_createContainer:function(a){var b,c=this.render(),d=c.find(a);if(!d.length&&c.is(a)){if(!c.is(a))throw new Error("can't find a container with the specified "+a+" selector");d=c}return b=new t(d),b.bind("accepted",function(a){a.view.render(d)}),b}}),r=o.extend({attach:function(a,b){a.element.find(b).replaceWith(this.render())},detach:function(){}}),s=/^(\w+)(:(\w+))?( (\w+))?$/,t=e.extend({init:function(a){e.fn.init.call(this),this.container=a,this.history=[],this.view=null,this.running=!1},after:function(){this.running=!1,this.trigger("complete",{view:this.view}),this.trigger("after")},end:function(){this.view.showEnd(),this.previous.hideEnd(),this.after()},show:function(a,b,e){if(!a.triggerBeforeShow()||this.view&&!this.view.triggerBeforeHide())return this.trigger("after"),!1;e=e||a.id;var f=this,g=a===f.view?a.clone():f.view,h=f.history,i=h[h.length-2]||{},j=i.id===e,k=b||(j?h[h.length-1].transition:a.transition),l=c(k);return f.running&&f.effect.stop(),"none"===k&&(k=null),f.trigger("accepted",{view:a}),f.view=a,f.previous=g,f.running=!0,j?h.pop():h.push({id:e,transition:k}),g?(k&&d.effects.enabled?(a.element.addClass("k-fx-hidden"),a.showStart(),j&&!b&&(l.reverse=!l.reverse),f.effect=d.fx(a.element).replace(g.element,l.type).beforeTransition(function(){a.beforeTransition("show"),g.beforeTransition("hide")}).afterTransition(function(){a.afterTransition("show"),g.afterTransition("hide")}).direction(l.direction).setReverse(l.reverse),f.effect.run().then(function(){f.end()})):(a.showStart(),f.end()),!0):(a.showStart(),a.showEnd(),f.after(),!0)}});d.ViewContainer=t,d.Fragment=r,d.Layout=q,d.View=o,d.ViewClone=p}(window.kendo.jQuery),function(a,b){function c(a){var b,c,d=a.find(w("popover")),e=h.roles;for(b=0,c=d.length;b<c;b++)f.initWidget(d[b],{},e)}function d(a){f.triggeredByInput(a)||a.preventDefault()}function e(b){b.each(function(){f.initWidget(a(this),{},h.roles)})}var f=window.kendo,g=(window.angular,f.mobile),h=g.ui,i=f.attr,j=(f.Class,h.Widget),k=f.ViewClone,l="init",m='<div style="height: 100%; width: 100%; position: absolute; top: 0; left: 0; z-index: 20000; display: none" />',n="beforeShow",o="show",p="afterShow",q="beforeHide",r="transitionEnd",s="transitionStart",t="hide",u="destroy",v=f.attrValue,w=f.roleSelector,x=f.directiveSelector,y=f.compileMobileDirective,z=j.extend({init:function(b,c){j.fn.init.call(this,b,c),this.params={},a.extend(this,c),this.transition=this.transition||this.defaultTransition,this._id(),this.options.$angular?this._overlay():(this._layout(),this._overlay(),this._scroller(),this._model())},events:[l,n,o,p,q,t,u,s,r],options:{name:"View",title:"",layout:null,getLayout:a.noop,reload:!1,transition:"",defaultTransition:"",useNativeScrolling:!1,stretch:!1,zoom:!1,model:null,modelScope:window,scroller:{},initWidgets:!0},enable:function(a){"undefined"==typeof a&&(a=!0),a?this.overlay.hide():this.overlay.show()},destroy:function(){this.layout&&this.layout.detach(this),this.trigger(u),j.fn.destroy.call(this),this.scroller&&this.scroller.destroy(),this.options.$angular&&this.element.scope().$destroy(),f.destroy(this.element)},purge:function(){this.destroy(),this.element.remove()},triggerBeforeShow:function(){return!this.trigger(n,{view:this})},triggerBeforeHide:function(){return!this.trigger(q,{view:this})},showStart:function(){var a=this.element;a.css("display",""),this.inited?this._invokeNgController():(this.inited=!0,this.trigger(l,{view:this})),this.layout&&this.layout.attach(this),this._padIfNativeScrolling(),this.trigger(o,{view:this}),f.resize(a)},showEnd:function(){this.trigger(p,{view:this}),this._padIfNativeScrolling()},hideEnd:function(){var a=this;a.element.hide(),a.trigger(t,{view:a}),a.layout&&a.layout.trigger(t,{view:a,layout:a.layout})},beforeTransition:function(a){this.trigger(s,{type:a})},afterTransition:function(a){this.trigger(r,{type:a})},_padIfNativeScrolling:function(){if(g.appLevelNativeScrolling()){var a=f.support.mobileOS&&f.support.mobileOS.android,b=g.application.skin()||"",c=g.application.os.android||b.indexOf("android")>-1,d="flat"===b||b.indexOf("material")>-1,e=!a&&!c||d?"header":"footer",h=!a&&!c||d?"footer":"header";this.content.css({paddingTop:this[e].height(),paddingBottom:this[h].height()})}},contentElement:function(){var a=this;return a.options.stretch?a.content:a.scrollerContent},clone:function(a){return new k(this)},_scroller:function(){var b=this;g.appLevelNativeScrolling()||(b.options.stretch?b.content.addClass("km-stretched-view"):(b.content.kendoMobileScroller(a.extend(b.options.scroller,{zoom:b.options.zoom,useNative:b.options.useNativeScrolling})),b.scroller=b.content.data("kendoMobileScroller"),b.scrollerContent=b.scroller.scrollElement),f.support.kineticScrollNeeded&&(a(b.element).on("touchmove",".km-header",d),b.options.useNativeScrolling||a(b.element).on("touchmove",".km-content",d)))},_model:function(){var a=this,b=a.element,d=a.options.model;"string"==typeof d&&(d=f.getter(d)(a.options.modelScope)),a.model=d,c(b),a.element.css("display",""),a.options.initWidgets&&(d?f.bind(b,d,h,f.ui,f.dataviz.ui):g.init(b.children())),a.element.css("display","none")},_id:function(){var a=this.element,b=a.attr("id")||"";this.id=v(a,"url")||"#"+b,"#"==this.id&&(this.id=f.guid(),a.attr("id",this.id))},_layout:function(){var a=w("content"),b=this.element;b.addClass("km-view"),this.header=b.children(w("header")).addClass("km-header"),this.footer=b.children(w("footer")).addClass("km-footer"),b.children(a)[0]||b.wrapInner("<div "+i("role")+'="content"></div>'),this.content=b.children(w("content")).addClass("km-content"),this.element.prepend(this.header).append(this.footer),this.layout=this.options.getLayout(this.layout),this.layout&&this.layout.setup(this)},_overlay:function(){this.overlay=a(m).appendTo(this.element)},_invokeNgController:function(){var b,c;if(this.options.$angular&&(b=this.element.controller(),c=this.element.scope(),b)){var d=a.proxy(this,"_callController",b,c);/^\$(digest|apply)$/.test(c.$$phase)?d():c.$apply(d)}},_callController:function(a,b){this.element.injector().invoke(a.constructor,a,{$scope:b})}}),A=j.extend({init:function(a,b){j.fn.init.call(this,a,b),a=this.element,this.header=a.children(this._locate("header")).addClass("km-header"),this.footer=a.children(this._locate("footer")).addClass("km-footer"),this.elements=this.header.add(this.footer),c(a),this.options.$angular||f.mobile.init(this.element.children()),this.element.detach(),this.trigger(l,{layout:this})},_locate:function(a){return this.options.$angular?x(a):w(a)},options:{name:"Layout",id:null,platform:null},events:[l,o,t],setup:function(a){a.header[0]||(a.header=this.header),a.footer[0]||(a.footer=this.footer)},detach:function(a){var b=this;a.header===b.header&&b.header[0]&&a.element.prepend(b.header.detach()[0].cloneNode(!0)),a.footer===b.footer&&b.footer.length&&a.element.append(b.footer.detach()[0].cloneNode(!0))},attach:function(a){var b=this,c=b.currentView;c&&b.detach(c),a.header===b.header&&(b.header.detach(),a.element.children(w("header")).remove(),a.element.prepend(b.header)),a.footer===b.footer&&(b.footer.detach(),a.element.children(w("footer")).remove(),a.element.append(b.footer)),b.trigger(o,{layout:b,view:a}),b.currentView=a}}),B=f.Observable,C=/<body[^>]*>(([\u000a\u000d\u2028\u2029]|.)*)<\/body>/i,D="loadStart",E="loadComplete",F="showStart",G="sameViewRequested",H="viewShow",I="viewTypeDetermined",J="after",K=B.extend({init:function(b){var c,d,g,h,i=this;if(B.fn.init.call(i),a.extend(i,b),i.sandbox=a("<div />"),g=i.container,c=i._hideViews(g),i.rootView=c.first(),!i.rootView[0]&&b.rootNeeded)throw d=g[0]==f.mobile.application.element[0]?'Your kendo mobile application element does not contain any direct child elements with data-role="view" attribute set. Make sure that you instantiate the mobile application using the correct container.':'Your pane element does not contain any direct child elements with data-role="view" attribute set.',new Error(d);i.layouts={},i.viewContainer=new f.ViewContainer(i.container),i.viewContainer.bind("accepted",function(a){a.view.params=i.params}),i.viewContainer.bind("complete",function(a){i.trigger(H,{view:a.view})}),i.viewContainer.bind(J,function(a){i.trigger(J)}),this.getLayoutProxy=a.proxy(this,"_getLayout"),i._setupLayouts(g),h=g.children(i._locate("modalview drawer")),i.$angular?(i.$angular[0].viewOptions={defaultTransition:i.transition,loader:i.loader,container:i.container,getLayout:i.getLayoutProxy},h.each(function(c,d){y(a(d),b.$angular[0])})):e(h),this.bind(this.events,b)},events:[F,J,H,D,E,G,I],destroy:function(){f.destroy(this.container);for(var a in this.layouts)this.layouts[a].destroy()},view:function(){return this.viewContainer.view},showView:function(a,b,c){if(a=a.replace(new RegExp("^"+this.remoteViewURLPrefix),""),""===a&&this.remoteViewURLPrefix&&(a="/"),a.replace(/^#/,"")===this.url)return this.trigger(G),!1;this.trigger(F);var d=this,e=function(c){return d.viewContainer.show(c,b,a)},g=d._findViewElement(a),h=f.widgetInstance(g);return d.url=a.replace(/^#/,""),d.params=c,h&&h.reload&&(h.purge(),g=[]),this.trigger(I,{remote:0===g.length,url:a}),g[0]?(h||(h=d._createView(g)),e(h)):(this.serverNavigation?location.href=a:d._loadView(a,e),!0)},append:function(a,b){var c,d,f,g=this.sandbox,h=(b||"").split("?")[0],j=this.container;return C.test(a)&&(a=RegExp.$1),g[0].innerHTML=a,j.append(g.children("script, style")),c=this._hideViews(g),f=c.first(),f.length||(c=f=g.wrapInner("<div data-role=view />").children()),h&&f.hide().attr(i("url"),h),this._setupLayouts(g),d=g.children(this._locate("modalview drawer")),j.append(g.children(this._locate("layout modalview drawer")).add(c)),e(d),this._createView(f)},_locate:function(a){return this.$angular?x(a):w(a)},_findViewElement:function(a){var b,c=a.split("?")[0];return c?(b=this.container.children("["+i("url")+"='"+c+"']"),b[0]||c.indexOf("/")!==-1||(b=this.container.children("#"===c.charAt(0)?c:"#"+c)),b):this.rootView},_createView:function(a){return this.$angular?y(a,this.$angular[0]):f.initWidget(a,{defaultTransition:this.transition,loader:this.loader,container:this.container,getLayout:this.getLayoutProxy,modelScope:this.modelScope,reload:v(a,"reload")},h.roles)},_getLayout:function(a){return""===a?null:a?this.layouts[a]:this.layouts[this.layout]},_loadView:function(b,c){this._xhr&&this._xhr.abort(),this.trigger(D),this._xhr=a.get(f.absoluteURL(b,this.remoteViewURLPrefix),"html").always(a.proxy(this,"_xhrComplete",c,b))},_xhrComplete:function(a,b,c,d,e){var f=!0;if("object"==typeof c&&0===c.status){if(!(c.responseText&&c.responseText.length>0))return;f=!0,c=c.responseText}this.trigger(E),f&&a(this.append(c,b))},_hideViews:function(a){return a.children(this._locate("view splitview")).hide()},_setupLayouts:function(b){var c,d=this;b.children(d._locate("layout")).each(function(){c=d.$angular?y(a(this),d.$angular[0]):f.initWidget(a(this),{},h.roles);var b=c.options.platform;b&&b!==g.application.os.name?c.destroy():d.layouts[c.options.id]=c})}});f.mobile.ViewEngine=K,h.plugin(z),h.plugin(A)}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=c.mobile.ui,e=d.Widget,f=a.map(c.eventMap,function(a){return a}).join(" ").split(" "),g=e.extend({init:function(b,c){var d=this,f=a('<div class="km-loader"><span class="km-loading km-spin"></span><span class="km-loading-left"></span><span class="km-loading-right"></span></div>');e.fn.init.call(d,f,c),d.container=b,d.captureEvents=!1,d._attachCapture(),f.append(d.options.loading).hide().appendTo(b)},options:{name:"Loader",loading:"<h1>Loading...</h1>",timeout:100},show:function(){var a=this;clearTimeout(a._loading),a.options.loading!==!1&&(a.captureEvents=!0,a._loading=setTimeout(function(){a.element.show()},a.options.timeout))},hide:function(){this.captureEvents=!1,clearTimeout(this._loading),this.element.hide()},changeMessage:function(a){this.options.loading=a,this.element.find(">h1").html(a)},transition:function(){this.captureEvents=!0,this.container.css("pointer-events","none")},transitionDone:function(){this.captureEvents=!1,this.container.css("pointer-events","")},_attachCapture:function(){function a(a){b.captureEvents&&a.preventDefault()}var b=this;b.captureEvents=!1;for(var c=0;c<f.length;c++)b.container[0].addEventListener(f[c],a,!0)}});d.plugin(g)}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=c.mobile,e=c.roleSelector,f=d.ui,g=f.Widget,h=d.ViewEngine,i=f.View,j=d.ui.Loader,k="external",l="href",m="#!",n="navigate",o="viewShow",p="sameViewRequested",q=c.support.mobileOS,r=q.ios&&!q.appMode&&q.flatVersion>=700,s=/popover|actionsheet|modalview|drawer/,t="#:back",u=c.attrValue,v=g.extend({init:function(a,b){var d=this;g.fn.init.call(d,a,b),b=d.options,a=d.element,a.addClass("km-pane"),d.options.collapsible&&a.addClass("km-collapsible-pane"),this.history=[],this.historyCallback=function(a,b,c){var e=d.transition;return d.transition=null,r&&c&&(e="none"),d.viewEngine.showView(a,e,b)},this._historyNavigate=function(a){if(a===t){if(1===d.history.length)return;d.history.pop(),a=d.history[d.history.length-1]}else d.history.push(a);d.historyCallback(a,c.parseQueryStringParams(a))},this._historyReplace=function(a){var b=c.parseQueryStringParams(a);d.history[d.history.length-1]=a,d.historyCallback(a,b)},d.loader=new j(a,{loading:d.options.loading}),d.viewEngine=new h({container:a,transition:b.transition,modelScope:b.modelScope,rootNeeded:!b.initial,serverNavigation:b.serverNavigation,remoteViewURLPrefix:b.root||"",layout:b.layout,$angular:b.$angular,loader:d.loader,showStart:function(){d.loader.transition(),d.closeActiveDialogs()},after:function(a){d.loader.transitionDone()},viewShow:function(a){d.trigger(o,a)},loadStart:function(){d.loader.show()},loadComplete:function(){d.loader.hide()},sameViewRequested:function(){d.trigger(p)},viewTypeDetermined:function(a){a.remote&&d.options.serverNavigation||d.trigger(n,{url:a.url})}}),this._setPortraitWidth(),c.onResize(function(){d._setPortraitWidth()}),d._setupAppLinks()},closeActiveDialogs:function(){var b=this.element.find(e("actionsheet popover modalview")).filter(":visible");b.each(function(){c.widgetInstance(a(this),f).close()})},navigateToInitial:function(){var a=this.options.initial;a&&this.navigate(a)},options:{name:"Pane",portraitWidth:"",transition:"",layout:"",collapsible:!1,initial:null,modelScope:window,loading:"<h1>Loading...</h1>"},events:[n,o,p],append:function(a){return this.viewEngine.append(a)},destroy:function(){g.fn.destroy.call(this),this.viewEngine.destroy(),this.userEvents.destroy()},navigate:function(a,b){a instanceof i&&(a=a.id),this.transition=b,this._historyNavigate(a)},replace:function(a,b){a instanceof i&&(a=a.id),this.transition=b,this._historyReplace(a)},bindToRouter:function(a){var b=this,d=this.history,e=this.viewEngine;a.bind("init",function(b){var f=b.url,g=a.pushState?f:"/";e.rootView.attr(c.attr("url"),g);var h=d.length;"/"===f&&h&&(a.navigate(d[h-1],!0),b.preventDefault())}),a.bind("routeMissing",function(a){b.historyCallback(a.url,a.params,a.backButtonPressed)||a.preventDefault()}),a.bind("same",function(){b.trigger(p)}),b._historyNavigate=function(b){a.navigate(b)},b._historyReplace=function(b){a.replace(b)}},hideLoading:function(){this.loader.hide()},showLoading:function(){this.loader.show()},changeLoadingMessage:function(a){this.loader.changeMessage(a)},view:function(){return this.viewEngine.view()},_setPortraitWidth:function(){var a,b=this.options.portraitWidth;b&&(a=c.mobile.application.element.is(".km-vertical")?b:"auto",this.element.css("width",a))},_setupAppLinks:function(){var a=this,b="tab",d="[data-"+c.ns+"navigate-on-press]",f=e("button")+":not("+d+")",g=e("backbutton detailbutton listview-link")+","+f;this.element.handler(this).on("down",e(b)+","+d,"_mouseup").on("click",e(b)+","+g+","+d,"_appLinkClick"),this.userEvents=new c.UserEvents(this.element,{filter:g,tap:function(b){b.event.currentTarget=b.touch.currentTarget,a._mouseup(b.event)}}),this.element.css("-ms-touch-action","")},_appLinkClick:function(b){var c=a(b.currentTarget).attr("href"),d=c&&"#"!==c[0]&&this.options.serverNavigation;d||u(a(b.currentTarget),"rel")==k||b.preventDefault()},_mouseup:function(b){if(!(b.which>1||b.isDefaultPrevented())){var e=this,g=a(b.currentTarget),h=u(g,"transition"),i=u(g,"rel")||"",j=u(g,"target"),n=g.attr(l),o=r&&0===g[0].offsetHeight,p=n&&"#"!==n[0]&&this.options.serverNavigation;o||p||i===k||"undefined"==typeof n||n===m||(g.attr(l,m),setTimeout(function(){g.attr(l,n)}),i.match(s)?(c.widgetInstance(a(n),f).openFor(g),"actionsheet"!==i&&"drawer"!==i||b.stopPropagation()):("_top"===j?e=d.application.pane:j&&(e=a("#"+j).data("kendoMobilePane")),e.navigate(n,h)),b.preventDefault())}}});v.wrap=function(a){a.is(e("view"))||(a=a.wrap("<div data-"+c.ns+'role="view" data-stretch="true"></div>').parent());var b=a.wrap('<div class="km-pane-wrapper"><div></div></div>').parent(),d=new v(b);return d.navigate(""),d},f.plugin(v)}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=c.mobile,e=d.ui,f="hide",g="open",h="close",i='<div class="km-popup-wrapper" />',j='<div class="km-popup-arrow" />',k='<div class="km-popup-overlay" />',l="km-up km-down km-left km-right",m=e.Widget,n={down:{origin:"bottom center",position:"top center"},up:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"}},o={animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:400}}},p={horizontal:{offset:"top",size:"height"},vertical:{offset:"left",size:"width"}},q={up:"down",down:"up",left:"right",right:"left"},r=m.extend({init:function(b,d){var e,g,h=this,l=b.closest(".km-modalview-wrapper"),q=b.closest(".km-root").children(".km-pane").first(),r=l[0]?l:q;d.viewport?q=d.viewport:q[0]||(q=window),d.container?r=d.container:r[0]||(r=document.body),e={viewport:q,copyAnchorStyles:!1,autosize:!0,open:function(){h.overlay.show()},activate:a.proxy(h._activate,h),deactivate:function(){h.overlay.hide(),h._apiCall||h.trigger(f),h._apiCall=!1}},m.fn.init.call(h,b,d),b=h.element,d=h.options,b.wrap(i).addClass("km-popup").show(),g=h.options.direction.match(/left|right/)?"horizontal":"vertical",h.dimensions=p[g],h.wrapper=b.parent().css({width:d.width,height:d.height}).addClass("km-popup-wrapper km-"+d.direction).hide(),h.arrow=a(j).prependTo(h.wrapper).hide(),h.overlay=a(k).appendTo(r).hide(),e.appendTo=h.overlay,d.className&&h.overlay.addClass(d.className),h.popup=new c.ui.Popup(h.wrapper,a.extend(!0,e,o,n[d.direction]))},options:{name:"Popup",width:240,height:"",direction:"down",container:null,viewport:null},events:[f],show:function(b){this.popup.options.anchor=a(b),this.popup.open()},hide:function(){this._apiCall=!0,this.popup.close()},destroy:function(){m.fn.destroy.call(this),this.popup.destroy(),this.overlay.remove()},target:function(){return this.popup.options.anchor},_activate:function(){var b=this,c=b.options.direction,d=b.dimensions,e=d.offset,f=b.popup,g=f.options.anchor,h=a(g).offset(),i=a(f.element).offset(),j=f.flipped?q[c]:c,k=2*b.arrow[d.size](),m=b.element[d.size]()-b.arrow[d.size](),n=a(g)[d.size](),o=h[e]-i[e]+n/2;o<k&&(o=k),o>m&&(o=m),b.wrapper.removeClass(l).addClass("km-"+j),b.arrow.css(e,o).show()}}),s=m.extend({init:function(b,d){var f,g=this;g.initialOpen=!1,m.fn.init.call(g,b,d),f=a.extend({className:"km-popover-root",
hide:function(){g.trigger(h)}},this.options.popup),g.popup=new r(g.element,f),g.popup.overlay.on("move",function(a){a.target==g.popup.overlay[0]&&a.preventDefault()}),g.pane=new e.Pane(g.element,a.extend(this.options.pane,{$angular:this.options.$angular})),g.pane.navigateToInitial(),c.notify(g,e)},options:{name:"PopOver",popup:{},pane:{}},events:[g,h],open:function(a){this.popup.show(a),this.initialOpen?this.pane.view()._invokeNgController():(this.pane.navigate(""),this.popup.popup._position(),this.initialOpen=!0)},openFor:function(a){this.open(a),this.trigger(g,{target:this.popup.target()})},close:function(){this.popup.hide()},destroy:function(){m.fn.destroy.call(this),this.pane.destroy(),this.popup.destroy(),c.destroy(this.element)}});e.plugin(r),e.plugin(s)}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=c.mobile.ui,e=c.ui.Popup,f='<div class="km-shim"/>',g="hide",h=d.Widget,i=h.extend({init:function(b,d){var i=this,j=c.mobile.application,k=c.support.mobileOS,l=j?j.os.name:k?k.name:"ios",m="ios"===l||"wp"===l||!!j&&j.os.skin,n="blackberry"===l,o=d.align||(m?"bottom center":n?"center right":"center center"),p=d.position||(m?"bottom center":n?"center right":"center center"),q=d.effect||(m?"slideIn:up":n?"slideIn:left":"fade:in"),r=a(f).handler(i).hide();h.fn.init.call(i,b,d),i.shim=r,b=i.element,d=i.options,d.className&&i.shim.addClass(d.className),d.modal||i.shim.on("up","_hide"),(j?j.element:a(document.body)).append(r),i.popup=new e(i.element,{anchor:r,modal:!0,appendTo:r,origin:o,position:p,animation:{open:{effects:q,duration:d.duration},close:{duration:d.duration}},close:function(a){var b=!1;i._apiCall||(b=i.trigger(g)),b&&a.preventDefault(),i._apiCall=!1},deactivate:function(){r.hide()},open:function(){r.show()}}),c.notify(i)},events:[g],options:{name:"Shim",modal:!1,align:b,position:b,effect:b,duration:200},show:function(){this.popup.open()},hide:function(){this._apiCall=!0,this.popup.close()},destroy:function(){h.fn.destroy.call(this),this.shim.kendoDestroy(),this.popup.destroy(),this.shim.remove()},_hide:function(b){b&&a.contains(this.shim.children().children(".k-popup")[0],b.target)||this.popup.close()}});d.plugin(i)}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=c.support,e=c.mobile.ui,f=e.Shim,g=e.Popup,h=e.Widget,i="open",j="close",k="command",l="li>a",m="actionsheetContext",n='<div class="km-actionsheet-wrapper" />',o=c.template('<li class="km-actionsheet-cancel"><a href="\\#">#:cancel#</a></li>'),p=h.extend({init:function(b,i){var j,k,m,p=this,q=d.mobileOS;h.fn.init.call(p,b,i),i=p.options,m=i.type,b=p.element,k="auto"===m?q&&q.tablet:"tablet"===m,j=k?g:f,i.cancelTemplate&&(o=c.template(i.cancelTemplate)),b.addClass("km-actionsheet").append(o({cancel:p.options.cancel})).wrap(n).on("up",l,"_click").on("click",l,c.preventDefault),p.view().bind("destroy",function(){p.destroy()}),p.wrapper=b.parent().addClass(m?" km-actionsheet-"+m:""),p.shim=new j(p.wrapper,a.extend({modal:q.ios&&q.majorVersion<7,className:"km-actionsheet-root"},p.options.popup)),p._closeProxy=a.proxy(p,"_close"),p.shim.bind("hide",p._closeProxy),k&&c.onResize(p._closeProxy),c.notify(p,e)},events:[i,j,k],options:{name:"ActionSheet",cancel:"Cancel",type:"auto",popup:{height:"auto"}},open:function(b,c){var d=this;d.target=a(b),d.context=c,d.shim.show(b)},close:function(){this.context=this.target=null,this.shim.hide()},openFor:function(a){var b=this,c=a.data(m);b.open(a,c),b.trigger(i,{target:a,context:c})},destroy:function(){h.fn.destroy.call(this),c.unbindResize(this._closeProxy),this.shim.destroy()},_click:function(b){if(!b.isDefaultPrevented()){var d=a(b.currentTarget),e=d.data("action");if(e){var f={target:this.target,context:this.context},g=this.options.$angular;g?this.element.injector().get("$parse")(e)(g[0])(f):c.getter(e)(window)(f)}this.trigger(k,{target:this.target,context:this.context,currentTarget:d}),b.preventDefault(),this._close()}},_close:function(a){this.trigger(j)?a.preventDefault():this.close()}});e.plugin(p)}(window.kendo.jQuery),function(a,b){function c(a){var b=Math.floor(a/26)-1;return(b>=0?c(b):"")+String.fromCharCode(65+a%26)}function d(a,b){return c(b)+(a+1)}function e(a,b){return c(b)+"$"+(a+1)}function f(a){return((a.freezePane||{}).rowSplit||1)-1}function g(a){return a.length<6&&(a=a.replace(/(\w)/g,function(a,b){return b+b})),a=a.substring(1).toUpperCase(),a.length<8&&(a="FF"+a),a}var h='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>',i=b.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator>${creator}</dc:creator><cp:lastModifiedBy>${lastModifiedBy}</cp:lastModifiedBy><dcterms:created xsi:type="dcterms:W3CDTF">${created}</dcterms:created><dcterms:modified xsi:type="dcterms:W3CDTF">${modified}</dcterms:modified></cp:coreProperties>'),j=b.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>${sheets.length}</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="${sheets.length}" baseType="lpstr"># for (var idx = 0; idx < sheets.length; idx++) { ## if (sheets[idx].options.title) { #<vt:lpstr>${sheets[idx].options.title}</vt:lpstr># } else { #<vt:lpstr>Sheet${idx+1}</vt:lpstr># } ## } #</vt:vector></TitlesOfParts><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>14.0300</AppVersion></Properties>'),k=b.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="xml" ContentType="application/xml" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/><Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/># for (var idx = 1; idx <= count; idx++) { #<Override PartName="/xl/worksheets/sheet${idx}.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /># } #<Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml" /><Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml" /></Types>'),l=b.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="9303" /><workbookPr defaultThemeVersion="124226" /><bookViews><workbookView xWindow="240" yWindow="45" windowWidth="18195" windowHeight="7995" /></bookViews><sheets># for (var idx = 0; idx < sheets.length; idx++) { ## if (sheets[idx].options.title) { #<sheet name="${sheets[idx].options.title}" sheetId="${idx+1}" r:id="rId${idx+1}" /># } else { #<sheet name="Sheet${idx+1}" sheetId="${idx+1}" r:id="rId${idx+1}" /># } ## } #</sheets># if (definedNames.length) { #<definedNames> # for (var di = 0; di < definedNames.length; di++) { #<definedName name="_xlnm._FilterDatabase" hidden="1" localSheetId="${definedNames[di].localSheetId}">${definedNames[di].name}!$${definedNames[di].from}:$${definedNames[di].to}</definedName> # } #</definedNames># } #<calcPr calcId="145621" /></workbook>'),m=b.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" mc:Ignorable="x14ac"><dimension ref="A1" /><sheetViews><sheetView #if(index==0) {# tabSelected="1" #}# workbookViewId="0"># if (freezePane) { #<pane state="frozen"# if (freezePane.colSplit) { # xSplit="${freezePane.colSplit}"# } ## if (freezePane.rowSplit) { # ySplit="${freezePane.rowSplit}"# } # topLeftCell="${String.fromCharCode(65 + (freezePane.colSplit || 0))}${(freezePane.rowSplit || 0)+1}"/># } #</sheetView></sheetViews><sheetFormatPr defaultRowHeight="15" x14ac:dyDescent="0.25" /># if (columns) { #<cols># for (var ci = 0; ci < columns.length; ci++) { ## var column = columns[ci]; ## if (column.width) { #<col min="${ci+1}" max="${ci+1}" customWidth="1"# if (column.autoWidth) { # width="${((column.width*7+5)/7*256)/256}" bestFit="1"# } else { # width="${(((column.width)/7)*100+0.5)/100}" # } #/># } ## } #</cols># } #<sheetData># for (var ri = 0; ri < data.length; ri++) { ## var row = data[ri]; #<row r="#=ri + 1#"># for (var ci = 0; ci < row.data.length; ci++) { ## var cell = row.data[ci];#<c r="#=cell.ref#"# if (cell.style) { # s="#=cell.style#" # } ## if (cell.type) { # t="#=cell.type#"# } #># if (cell.value != null) { #<v>${cell.value}</v># } #</c># } #</row># } #</sheetData># if (filter) { #<autoFilter ref="${filter.from}:${filter.to}"/># } ## if (mergeCells.length) { #<mergeCells count="${mergeCells.length}"># for (var ci = 0; ci < mergeCells.length; ci++) { #<mergeCell ref="${mergeCells[ci]}"/># } #</mergeCells># } #<pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3" /></worksheet>'),n=b.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"># for (var idx = 1; idx <= count; idx++) { #<Relationship Id="rId${idx}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet${idx}.xml" /># } #<Relationship Id="rId${count+1}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml" /><Relationship Id="rId${count+2}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml" /></Relationships>'),o=b.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${count}" uniqueCount="${uniqueCount}"># for (var index in indexes) { #<si><t>${index.substring(1)}</t></si># } #</sst>'),p=b.template('<?xml version="1.0" encoding="UTF-8"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><numFmts count="${formats.length}"># for (var fi = 0; fi < formats.length; fi++) { ## var format = formats[fi]; #<numFmt formatCode="${format.format}" numFmtId="${165+fi}" /># } #</numFmts><fonts count="${fonts.length+1}" x14ac:knownFonts="1"><font><sz val="11" /><color theme="1" /><name val="Calibri" /><family val="2" /><scheme val="minor" /></font># for (var fi = 0; fi < fonts.length; fi++) { ## var font = fonts[fi]; #<font># if (font.bold) { #<b/># } ## if (font.italic) { #<i/># } ## if (font.underline) { #<u/># } ## if (font.color) { #<color rgb="${font.color}" /># } else { #<color theme="1" /># } ## if (font.fontSize) { #<sz val="${font.fontSize}" /># } else { #<sz val="11" /># } ## if (font.fontName) { #<name val="${font.fontName}" /># } else { #<name val="Calibri" /><scheme val="minor" /># } #<family val="2" /></font># } #</fonts><fills count="${fills.length+1}"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill># for (var fi = 0; fi < fills.length; fi++) { ## var fill = fills[fi]; ## if (fill.background) { #<fill><patternFill patternType="solid"><fgColor rgb="${fill.background}"/></patternFill></fill># } ## } #</fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><cellXfs count="${styles.length+1}"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/># for (var si = 0; si < styles.length; si++) { ## var style = styles[si]; #<xf xfid="0"# if (style.fontId) { # fontId="${style.fontId}" applyFont="1"# } ## if (style.fillId) { # fillId="${style.fillId}" applyFill="1"# } ## if (style.numFmtId) { # numFmtId="${style.numFmtId}" applyNumberFormat="1"# } ## if (style.hAlign || style.vAlign || style.wrap) { # applyAlignment="1"# } #># if (style.hAlign || style.vAlign || style.wrap) { #<alignment# if (style.hAlign) { # horizontal="${style.hAlign}"# } ## if (style.vAlign) { # vertical="${style.vAlign}"# } ## if (style.wrap) { # wrapText="1"# } #/># } #</xf># } #</cellXfs><dxfs count="0" /><tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleMedium9" /></styleSheet>'),q=b.timezone.remove(new Date(1900,0,0),"Etc/UTC"),r=b.Class.extend({init:function(a,b,c){this.options=a,this._strings=b,this._styles=c,this._mergeCells=[]},toXML:function(a){var b=this.options.rows||[],c=this.options.filter,e={};this._maxCellIndex=0;for(var g=[],h=0;h<b.length;h++)g.push(this._row(b,e,b[h],h));return m({freezePane:this.options.freezePane,columns:this.options.columns,data:g,index:a,mergeCells:this._mergeCells,filter:c?{from:d(f(this.options),c.from),to:d(f(this.options),c.to)}:null})},_row:function(a,b,c,e){this._cellIndex&&this._cellIndex>this._maxCellIndex&&(this._maxCellIndex=this._cellIndex),this._cellIndex=0;for(var f,g=[],h=c.cells,i=0,j=h.length;i<j;i++)f=this._cell(h[i],b,e),f&&g.push.apply(g,f);for(var k;this._cellIndex<this._maxCellIndex;)k=b[this._cellIndex],k&&(k.rowSpan-=1),g.push({ref:d(e,this._cellIndex)}),this._cellIndex++;return{data:g}},_lookupString:function(a){var b="$"+a,c=this._strings.indexes[b];return void 0!==c?a=c:(a=this._strings.indexes[b]=this._strings.uniqueCount,this._strings.uniqueCount++),this._strings.count++,a},_lookupStyle:function(c){var d=b.stringify(c);if("{}"==d)return 0;var e=a.inArray(d,this._styles);return e<0&&(e=this._styles.push(d)-1),e+1},_cell:function(a,c,e){if(!a)return void this._cellIndex++;var f=a.value,g={bold:a.bold,color:a.color,background:a.background,italic:a.italic,underline:a.underline,fontName:a.fontName,fontSize:a.fontSize,format:a.format,hAlign:a.hAlign,vAlign:a.vAlign,wrap:a.wrap},h=this.options.columns||[],i=h[this._cellIndex];i&&i.autoWidth&&(i.width=Math.max(i.width||0,(""+f).length));var j=typeof f;"string"===j?(f=this._lookupString(f),j="s"):"number"===j?j="n":"boolean"===j?(j="b",f=+f):f&&f.getTime?(j=null,f=(b.timezone.remove(f,"Etc/UTC")-q)/b.date.MS_PER_DAY+1,g.format||(g.format="mm-dd-yy")):(j=null,f=""),g=this._lookupStyle(g);for(var k,l,m=[],n=c[this._cellIndex]||{};n.rowSpan>1;){for(n.rowSpan-=1,k=n.colSpan;k>0;)m.push({ref:d(e,this._cellIndex)}),k--,this._cellIndex++;n=c[this._cellIndex]||{}}l=d(e,this._cellIndex),m.push({value:f,type:j,style:g,ref:l});var o=a.colSpan||1,p=a.rowSpan||1;if(o>1||p>1){p>1&&(c[this._cellIndex]={colSpan:o,rowSpan:p});for(var r=1;r<o;r++)this._cellIndex++,m.push({ref:d(e,this._cellIndex)});this._mergeCells.push(l+":"+d(e+p-1,this._cellIndex))}return this._cellIndex++,m}}),s={General:0,0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49,"[$-404]e/m/d":27,"m/d/yy":30,t0:59,"t0.00":60,"t#,##0":61,"t#,##0.00":62,"t0%":67,"t0.00%":68,"t# ?/?":69,"t# ??/??":70},t=b.Class.extend({init:function(b){this.options=b||{},this._strings={indexes:{},count:0,uniqueCount:0},this._styles=[],this._sheets=a.map(this.options.sheets||[],a.proxy(function(a){return new r(a,this._strings,this._styles)},this))},toDataURL:function(){if("undefined"==typeof JSZip)throw new Error("JSZip not found. Check http://docs.telerik.com/kendo-ui/framework/excel/introduction#requirements for more details.");var c=new JSZip,d=c.folder("docProps");d.file("core.xml",i({creator:this.options.creator||"Kendo UI",lastModifiedBy:this.options.creator||"Kendo UI",created:this.options.date||(new Date).toJSON(),modified:this.options.date||(new Date).toJSON()}));var m=this._sheets.length;d.file("app.xml",j({sheets:this._sheets}));var q=c.folder("_rels");q.file(".rels",h);var r=c.folder("xl"),t=r.folder("_rels");t.file("workbook.xml.rels",n({count:m})),r.file("workbook.xml",l({sheets:this._sheets,definedNames:a.map(this._sheets,function(a,b){var c=a.options,d=c.filter;if(d)return{localSheetId:b,name:c.title||"Sheet"+(b+1),from:e(f(c),d.from),to:e(f(c),d.to)}})}));for(var u=r.folder("worksheets"),v=(new Date,0);v<m;v++)u.file(b.format("sheet{0}.xml",v+1),this._sheets[v].toXML(v));var w=a.map(this._styles,a.parseJSON),x=function(a){return a.underline||a.bold||a.italic||a.color||a.fontName||a.fontSize},y=a.map(w,function(a){if(a.color&&(a.color=g(a.color)),x(a))return a}),z=a.map(w,function(a){if(a.format&&void 0===s[a.format])return a}),A=a.map(w,function(a){if(a.background)return a.background=g(a.background),a});return r.file("styles.xml",p({fonts:y,fills:A,formats:z,styles:a.map(w,function(b){var c={};return x(b)&&(c.fontId=a.inArray(b,y)+1),b.background&&(c.fillId=a.inArray(b,A)+2),c.hAlign=b.hAlign,c.vAlign=b.vAlign,c.wrap=b.wrap,b.format&&(void 0!==s[b.format]?c.numFmtId=s[b.format]:c.numFmtId=165+a.inArray(b,z)),c})})),r.file("sharedStrings.xml",o(this._strings)),c.file("[Content_Types].xml",k({count:m})),"data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,"+c.generate({compression:"DEFLATE"})}});b.ooxml={Workbook:t,Worksheet:r}}(kendo.jQuery,kendo),function(a,b){b.ExcelExporter=b.Class.extend({init:function(c){c.columns=this._trimColumns(c.columns||[]),this.allColumns=a.map(this._leafColumns(c.columns||[]),this._prepareColumn),this.columns=a.grep(this.allColumns,function(a){return!a.hidden}),this.options=c;var d=c.dataSource;if(d instanceof b.data.DataSource){this.dataSource=new d.constructor(a.extend({},d.options,{page:c.allPages?0:d.page(),filter:d.filter(),pageSize:c.allPages?d.total():d.pageSize(),sort:d.sort(),group:d.group(),aggregate:d.aggregate()}));var e=d.data();e.length>0&&(this.dataSource._data=e)}else this.dataSource=b.data.DataSource.create(d)},_trimColumns:function(b){var c=this;return a.grep(b,function(a){var b=!!a.field;return!b&&a.columns&&(b=c._trimColumns(a.columns).length>0),b})},_leafColumns:function(a){for(var b=[],c=0;c<a.length;c++)a[c].columns?b=b.concat(this._leafColumns(a[c].columns)):b.push(a[c]);return b},workbook:function(){return a.Deferred(a.proxy(function(b){this.dataSource.fetch().then(a.proxy(function(){var a={sheets:[{columns:this._columns(),rows:this._rows(),freezePane:this._freezePane(),filter:this._filter()}]};b.resolve(a,this.dataSource.view())},this))},this)).promise()},_prepareColumn:function(c){if(c.field){var d=function(a){return a.get(c.field)},e=null;return c.values&&(e={},a.each(c.values,function(a){e[this.value]=this.text}),d=function(a){return e[a.get(c.field)]}),a.extend({},c,{value:d,values:e,groupHeaderTemplate:b.template(c.groupHeaderTemplate||"${title}: ${value}"),groupFooterTemplate:c.groupFooterTemplate?b.template(c.groupFooterTemplate):null,footerTemplate:c.footerTemplate?b.template(c.footerTemplate):null})}},_filter:function(){if(!this.options.filterable)return null;var a=this._depth();return{from:a,to:a+this.columns.length-1}},_dataRow:function(b,c,d){this._hierarchical()&&(c=this.dataSource.level(b)+1);for(var e=[],f=0;f<c;f++)e[f]={background:"#dfdfdf",color:"#333"};if(d&&b.items){var g=a.grep(this.allColumns,function(a){return a.field==b.field})[0],h=g&&g.title?g.title:b.field,i=g?g.groupHeaderTemplate:null,j=h+": "+b.value,k=a.extend({title:h,field:b.field,value:g&&g.values?g.values[b.value]:b.value,aggregates:b.aggregates},b.aggregates[b.field]);i&&(j=i(k)),e.push({value:j,background:"#dfdfdf",color:"#333",colSpan:this.columns.length+d-c});var l=this._dataRows(b.items,c+1);return l.unshift({type:"group-header",cells:e}),l.concat(this._footer(b))}for(var m=[],n=0;n<this.columns.length;n++)m[n]=this._cell(b,this.columns[n]);return this._hierarchical()&&(m[0].colSpan=d-c+1),[{type:"data",cells:e.concat(m)}]},_dataRows:function(a,b){for(var c=this._depth(),d=[],e=0;e<a.length;e++)d.push.apply(d,this._dataRow(a[e],b,c));return d},_footer:function(b){var c=[],d=!1,e=a.map(this.columns,a.proxy(function(c){return c.groupFooterTemplate?(d=!0,{background:"#dfdfdf",color:"#333",value:c.groupFooterTemplate(a.extend({},this.dataSource.aggregates(),b.aggregates,b.aggregates[c.field]))}):{background:"#dfdfdf",color:"#333"}},this));return d&&c.push({type:"group-footer",cells:a.map(new Array(this.dataSource.group().length),function(){return{background:"#dfdfdf",color:"#333"}}).concat(e)}),c},_isColumnVisible:function(a){return this._visibleColumns([a]).length>0&&(a.field||a.columns)},_visibleColumns:function(b){var c=this;return a.grep(b,function(a){var b=!a.hidden;return b&&a.columns&&(b=c._visibleColumns(a.columns).length>0),b})},_headerRow:function(b,c){var d=a.map(b.cells,function(a){return{background:"#7a7a7a",color:"#fff",value:a.title,colSpan:a.colSpan>1?a.colSpan:1,rowSpan:b.rowSpan>1&&!a.colSpan?b.rowSpan:1}});return this._hierarchical()&&(d[0].colSpan=this._depth()+1),{type:"header",cells:a.map(new Array(c.length),function(){return{background:"#7a7a7a",color:"#fff"}}).concat(d)}},_prependHeaderRows:function(a){var b=this.dataSource.group(),c=[{rowSpan:1,cells:[],index:0}];this._prepareHeaderRows(c,this.options.columns);for(var d=c.length-1;d>=0;d--)a.unshift(this._headerRow(c[d],b))},_prepareHeaderRows:function(a,b,c,d){for(var e,f,g=d||a[a.length-1],h=a[g.index+1],i=0,j=0;j<b.length;j++)e=b[j],this._isColumnVisible(e)&&(f={title:e.title||e.field,colSpan:0},g.cells.push(f),e.columns&&e.columns.length&&(h||(h={rowSpan:0,cells:[],index:a.length},a.push(h)),f.colSpan=this._trimColumns(this._visibleColumns(e.columns)).length,this._prepareHeaderRows(a,e.columns,f,h),i+=f.colSpan-1,g.rowSpan=a.length-g.index));c&&(c.colSpan+=i)},_rows:function(){var b=this.dataSource.group(),c=this._dataRows(this.dataSource.view(),0);if(this.columns.length){this._prependHeaderRows(c);var d=!1,e=a.map(this.columns,a.proxy(function(a){if(a.footerTemplate){d=!0;var b=this.dataSource.aggregates(),c=b[a.field]||{};return c.data=b,{background:"#dfdfdf",color:"#333",value:a.footerTemplate(c)}}return{background:"#dfdfdf",color:"#333"}},this));d&&c.push({type:"footer",cells:a.map(new Array(b.length),function(){return{background:"#dfdfdf",color:"#333"}}).concat(e)})}return c},_headerDepth:function(a){for(var b=1,c=0,d=0;d<a.length;d++)if(a[d].columns){var e=this._headerDepth(a[d].columns);e>c&&(c=e)}return b+c},_freezePane:function(){var b=this._visibleColumns(this.options.columns||[]),c=this._trimColumns(this._leafColumns(a.grep(b,function(a){return a.locked}))).length;return{rowSplit:this._headerDepth(b),colSplit:c?c+this.dataSource.group().length:0}},_cell:function(a,b){return{value:b.value(a)}},_hierarchical:function(){return this.options.hierarchy&&this.dataSource.level},_depth:function(){var a,b,c,d=this.dataSource,e=0;if(this._hierarchical()){for(a=d.view(),b=0;b<a.length;b++)c=d.level(a[b]),c>e&&(e=c);e++}else e=d.group().length;return e},_columns:function(){var b=this._depth(),c=a.map(new Array(b),function(){return{width:20}});return c.concat(a.map(this.columns,function(a){return{width:parseInt(a.width,10),autoWidth:!a.width}}))}}),b.ExcelMixin={extend:function(b){b.events.push("excelExport"),b.options.excel=a.extend(b.options.excel,this.options),b.saveAsExcel=this.saveAsExcel},options:{proxyURL:"",allPages:!1,filterable:!1,fileName:"Export.xlsx"},saveAsExcel:function(){var c=this.options.excel||{},d=new b.ExcelExporter({columns:this.columns,dataSource:this.dataSource,allPages:c.allPages,filterable:c.filterable,hierarchy:c.hierarchy});d.workbook().then(a.proxy(function(a,d){if(!this.trigger("excelExport",{workbook:a,data:d})){var e=new b.ooxml.Workbook(a);b.saveAs({dataURI:e.toDataURL(),fileName:a.fileName||c.fileName,proxyURL:c.proxyURL,forceProxy:c.forceProxy})}},this))}}}(kendo.jQuery,kendo),function(a,b){var c=window.kendo,d=c.ui,e=d.Widget,f="horizontal",g="vertical",h=0,i=100,j=0,k=5,l="k-progressbar",m="k-progressbar-reverse",n="k-progressbar-indeterminate",o="k-complete",p="k-state-selected",q="k-progress-status",r="k-state-selected",s="k-state-default",t="k-state-disabled",u={VALUE:"value",PERCENT:"percent",CHUNK:"chunk"},v="change",w="complete",x="boolean",y=Math,z=a.extend,A=a.proxy,B=100,C=400,D=3,E={progressStatus:"<span class='k-progress-status-wrap'><span class='k-progress-status'></span></span>"},F=e.extend({init:function(a,b){var c=this;e.fn.init.call(this,a,b),b=c.options,c._progressProperty=b.orientation===f?"width":"height",c._fields(),b.value=c._validateValue(b.value),c._validateType(b.type),c._wrapper(),c._progressAnimation(),b.value!==b.min&&b.value!==!1&&c._updateProgress()},setOptions:function(a){var b=this;e.fn.setOptions.call(b,a),a.hasOwnProperty("reverse")&&b.wrapper.toggleClass("k-progressbar-reverse",a.reverse),a.hasOwnProperty("enable")&&b.enable(a.enable),b._progressAnimation(),b._validateValue(),b._updateProgress()},events:[v,w],options:{name:"ProgressBar",orientation:f,reverse:!1,min:h,max:i,value:j,enable:!0,type:u.VALUE,chunkCount:k,showStatus:!0,animation:{}},_fields:function(){var b=this;b._isStarted=!1,b.progressWrapper=b.progressStatus=a()},_validateType:function(b){var d=!1;if(a.each(u,function(a,c){if(c===b)return d=!0,!1}),!d)throw new Error(c.format("Invalid ProgressBar type '{0}'",b))},_wrapper:function(){var a,b=this,c=b.wrapper=b.element,d=b.options,e=d.orientation;c.addClass("k-widget "+l),c.addClass(l+"-"+(e===f?f:g)),d.enable===!1&&c.addClass(t),d.reverse&&c.addClass(m),d.value===!1&&c.addClass(n),d.type===u.CHUNK?b._addChunkProgressWrapper():d.showStatus&&(b.progressStatus=b.wrapper.prepend(E.progressStatus).find("."+q),a=d.value!==!1?d.value:d.min,d.type===u.VALUE?b.progressStatus.text(a):b.progressStatus.text(b._calculatePercentage(a)+"%"))},value:function(a){return this._value(a)},_value:function(a){var c,d=this,e=d.options;return a===b?e.value:void(typeof a!==x?(a=d._roundValue(a),isNaN(a)||(c=d._validateValue(a),c!==e.value&&(d.wrapper.removeClass(n),e.value=c,d._isStarted=!0,d._updateProgress()))):a||(d.wrapper.addClass(n),e.value=!1))},_roundValue:function(a){a=parseFloat(a);var b=y.pow(10,D);return y.floor(a*b)/b},_validateValue:function(a){var b=this,c=b.options;if(a!==!1){if(a<=c.min||a===!0)return c.min;if(a>=c.max)return c.max}else if(a===!1)return!1;return isNaN(b._roundValue(a))?c.min:a},_updateProgress:function(){var a=this,b=a.options,c=a._calculatePercentage();b.type===u.CHUNK?(a._updateChunks(c),a._onProgressUpdateAlways(b.value)):a._updateProgressWrapper(c)},_updateChunks:function(a){var b,c=this,d=c.options,e=d.chunkCount,h=parseInt(B/e*100,10)/100,i=parseInt(100*a,10)/100,j=y.floor(i/h);b=d.orientation===f&&!d.reverse||d.orientation===g&&d.reverse?c.wrapper.find("li.k-item:lt("+j+")"):c.wrapper.find("li.k-item:gt(-"+(j+1)+")"),c.wrapper.find("."+r).removeClass(r).addClass(s),b.removeClass(s).addClass(r)},_updateProgressWrapper:function(a){var b=this,c=b.options,d=b.wrapper.find("."+p),e=b._isStarted?b._animation.duration:0,f={};0===d.length&&b._addRegularProgressWrapper(),f[b._progressProperty]=a+"%",b.progressWrapper.animate(f,{duration:e,start:A(b._onProgressAnimateStart,b),progress:A(b._onProgressAnimate,b),complete:A(b._onProgressAnimateComplete,b,c.value),always:A(b._onProgressUpdateAlways,b,c.value)})},_onProgressAnimateStart:function(){this.progressWrapper.show()},_onProgressAnimate:function(a){var b,c=this,d=c.options,e=parseFloat(a.elem.style[c._progressProperty],10);d.showStatus&&(b=1e4/parseFloat(c.progressWrapper[0].style[c._progressProperty]),c.progressWrapper.find(".k-progress-status-wrap").css(c._progressProperty,b+"%")),d.type!==u.CHUNK&&e<=98&&c.progressWrapper.removeClass(o)},_onProgressAnimateComplete:function(a){var b=this,c=b.options,d=parseFloat(b.progressWrapper[0].style[b._progressProperty]);c.type!==u.CHUNK&&d>98&&b.progressWrapper.addClass(o),c.showStatus&&(c.type===u.VALUE?b.progressStatus.text(a):b.progressStatus.text(y.floor(b._calculatePercentage(a))+"%")),a===c.min&&b.progressWrapper.hide()},_onProgressUpdateAlways:function(a){var b=this,c=b.options;b._isStarted&&b.trigger(v,{value:a}),a===c.max&&b._isStarted&&b.trigger(w,{value:c.max})},enable:function(a){var b=this,c=b.options;c.enable="undefined"==typeof a||a,b.wrapper.toggleClass(t,!c.enable)},destroy:function(){var a=this;e.fn.destroy.call(a)},_addChunkProgressWrapper:function(){var a=this,b=a.options,c=a.wrapper,d=B/b.chunkCount,e="";b.chunkCount<=1&&(b.chunkCount=k),e+="<ul class='k-reset'>";for(var f=b.chunkCount-1;f>=0;f--)e+="<li class='k-item k-state-default'></li>";e+="</ul>",c.append(e).find(".k-item").css(a._progressProperty,d+"%").first().addClass("k-first").end().last().addClass("k-last"),a._normalizeChunkSize()},_normalizeChunkSize:function(){var a=this,b=a.options,c=a.wrapper.find(".k-item:last"),d=parseFloat(c[0].style[a._progressProperty]),e=B-b.chunkCount*d;e>0&&c.css(a._progressProperty,d+e+"%")},_addRegularProgressWrapper:function(){var b=this;b.progressWrapper=a("<div class='"+p+"'></div>").appendTo(b.wrapper),b.options.showStatus&&(b.progressWrapper.append(E.progressStatus),b.progressStatus=b.wrapper.find("."+q))},_calculateChunkSize:function(){var a=this,b=a.options.chunkCount,c=a.wrapper.find("ul.k-reset");return(parseInt(c.css(a._progressProperty),10)-(b-1))/b},_calculatePercentage:function(a){var c=this,d=c.options,e=a!==b?a:d.value,f=d.min,g=d.max;return c._onePercent=y.abs((g-f)/100),y.abs((e-f)/c._onePercent)},_progressAnimation:function(){var a=this,b=a.options,c=b.animation;c===!1?a._animation={duration:0}:a._animation=z({duration:C},b.animation)}});c.ui.plugin(F)}(window.kendo.jQuery),function(a,b,c){function d(a,e){var h,l;if(null==a||"none"==a)return null;if(a instanceof i)return a;if(a=a.toLowerCase(),h=g.exec(a))return a="transparent"==h[1]?new j(1,1,1,0):d(f.namedColors[h[1]],e),a.match=[h[1]],a;if((h=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})/i.exec(a))?l=new k(c(h[1],16),c(h[2],16),c(h[3],16),1):(h=/^#?([0-9a-f])([0-9a-f])([0-9a-f])/i.exec(a))?l=new k(c(h[1]+h[1],16),c(h[2]+h[2],16),c(h[3]+h[3],16),1):(h=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(a))?l=new k(c(h[1],10),c(h[2],10),c(h[3],10),1):(h=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(a))?l=new k(c(h[1],10),c(h[2],10),c(h[3],10),b(h[4])):(h=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(a))?l=new j(b(h[1])/100,b(h[2])/100,b(h[3])/100,1):(h=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(a))&&(l=new j(b(h[1])/100,b(h[2])/100,b(h[3])/100,b(h[4]))),
l)l.match=h;else if(!e)throw new Error("Cannot parse color: "+a);return l}function e(a,b,c){for(c||(c="0"),a=a.toString(16);b>a.length;)a="0"+a;return a}var f=function(a){var b,c,d,e,g,h=this,i=f.formats;if(1===arguments.length)for(a=h.resolveColor(a),e=0;e<i.length;e++)b=i[e].re,c=i[e].process,d=b.exec(a),d&&(g=c(d),h.r=g[0],h.g=g[1],h.b=g[2]);else h.r=arguments[0],h.g=arguments[1],h.b=arguments[2];h.r=h.normalizeByte(h.r),h.g=h.normalizeByte(h.g),h.b=h.normalizeByte(h.b)};f.prototype={toHex:function(){var a=this,b=a.padDigit,c=a.r.toString(16),d=a.g.toString(16),e=a.b.toString(16);return"#"+b(c)+b(d)+b(e)},resolveColor:function(a){return a=a||"black","#"==a.charAt(0)&&(a=a.substr(1,6)),a=a.replace(/ /g,""),a=a.toLowerCase(),a=f.namedColors[a]||a},normalizeByte:function(a){return a<0||isNaN(a)?0:a>255?255:a},padDigit:function(a){return 1===a.length?"0"+a:a},brightness:function(a){var b=this,c=Math.round;return b.r=c(b.normalizeByte(b.r*a)),b.g=c(b.normalizeByte(b.g*a)),b.b=c(b.normalizeByte(b.b*a)),b},percBrightness:function(){var a=this;return Math.sqrt(.241*a.r*a.r+.691*a.g*a.g+.068*a.b*a.b)}},f.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(a){return[c(a[1],10),c(a[2],10),c(a[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(a){return[c(a[1],16),c(a[2],16),c(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(a){return[c(a[1]+a[1],16),c(a[2]+a[2],16),c(a[3]+a[3],16)]}}],f.namedColors={aqua:"00ffff",azure:"f0ffff",beige:"f5f5dc",black:"000000",blue:"0000ff",brown:"a52a2a",coral:"ff7f50",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgray:"a9a9a9",darkgreen:"006400",darkorange:"ff8c00",darkred:"8b0000",dimgray:"696969",fuchsia:"ff00ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lightblue:"add8e6",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumblue:"0000cd",navy:"000080",olive:"808000",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",pink:"ffc0cb",plum:"dda0dd",purple:"800080",red:"ff0000",royalblue:"4169e1",salmon:"fa8072",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",steelblue:"4682b4",tan:"d2b48c",teal:"008080",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};var g=["transparent"];for(var h in f.namedColors)f.namedColors.hasOwnProperty(h)&&g.push(h);g=new RegExp("^("+g.join("|")+")(\\W|$)","i");var i=kendo.Class.extend({toHSV:function(){return this},toRGB:function(){return this},toHex:function(){return this.toBytes().toHex()},toBytes:function(){return this},toCss:function(){return"#"+this.toHex()},toCssRgba:function(){var a=this.toBytes();return"rgba("+a.r+", "+a.g+", "+a.b+", "+b((+this.a).toFixed(3))+")"},toDisplay:function(){return kendo.support.browser.msie&&kendo.support.browser.version<9?this.toCss():this.toCssRgba()},equals:function(a){return a===this||null!==a&&this.toCssRgba()==d(a).toCssRgba()},diff:function(a){if(null==a)return NaN;var b=this.toBytes();return a=a.toBytes(),Math.sqrt(Math.pow(.3*(b.r-a.r),2)+Math.pow(.59*(b.g-a.g),2)+Math.pow(.11*(b.b-a.b),2))},clone:function(){var a=this.toBytes();return a===this&&(a=new k(a.r,a.g,a.b,a.a)),a}}),j=i.extend({init:function(a,b,c,d){this.r=a,this.g=b,this.b=c,this.a=d},toHSV:function(){var a,b,c,d,e,f,g=this.r,h=this.g,i=this.b;return a=Math.min(g,h,i),b=Math.max(g,h,i),f=b,c=b-a,0===c?new l(0,0,f,this.a):(0!==b?(e=c/b,d=g==b?(h-i)/c:h==b?2+(i-g)/c:4+(g-h)/c,d*=60,d<0&&(d+=360)):(e=0,d=-1),new l(d,e,f,this.a))},toBytes:function(){return new k(255*this.r,255*this.g,255*this.b,this.a)}}),k=j.extend({init:function(a,b,c,d){this.r=Math.round(a),this.g=Math.round(b),this.b=Math.round(c),this.a=d},toRGB:function(){return new j(this.r/255,this.g/255,this.b/255,this.a)},toHSV:function(){return this.toRGB().toHSV()},toHex:function(){return e(this.r,2)+e(this.g,2)+e(this.b,2)},toBytes:function(){return this}}),l=i.extend({init:function(a,b,c,d){this.h=a,this.s=b,this.v=c,this.a=d},toRGB:function(){var a,b,c,d,e,f,g,h,i=this.h,k=this.s,l=this.v;if(0===k)b=c=d=l;else switch(i/=60,a=Math.floor(i),e=i-a,f=l*(1-k),g=l*(1-k*e),h=l*(1-k*(1-e)),a){case 0:b=l,c=h,d=f;break;case 1:b=g,c=l,d=f;break;case 2:b=f,c=l,d=h;break;case 3:b=f,c=g,d=l;break;case 4:b=h,c=f,d=l;break;default:b=l,c=f,d=g}return new j(b,c,d,this.a)},toBytes:function(){return this.toRGB().toBytes()}});f.fromBytes=function(a,b,c,d){return new k(a,b,c,null!=d?d:1)},f.fromRGB=function(a,b,c,d){return new j(a,b,c,null!=d?d:1)},f.fromHSV=function(a,b,c,d){return new l(a,b,c,null!=d?d:1)},kendo.Color=f,kendo.parseColor=d}(window.kendo.jQuery,parseFloat,parseInt),function(a){function b(a){return typeof a!==I}function c(a,b){var c=d(b);return C.round(a*c)/c}function d(a){return a?C.pow(10,a):1}function e(a,b,c){return C.max(C.min(a,c),b)}function f(a){return a*F}function g(a){return a/F}function h(a){return"number"==typeof a&&!isNaN(a)}function i(a,c){return b(a)?a:c}function j(a){return a*a}function k(a){var b=[];for(var c in a)b.push(c+a[c]);return b.sort().join("")}function l(a){for(var b=2166136261,c=0;c<a.length;++c)b+=(b<<1)+(b<<4)+(b<<7)+(b<<8)+(b<<24),b^=a.charCodeAt(c);return b>>>0}function m(a){return l(k(a))}function n(a){var b,c=a.length,d=G,e=H;for(b=0;b<c;b++)e=C.max(e,a[b]),d=C.min(d,a[b]);return{min:d,max:e}}function o(a){return n(a).min}function p(a){return n(a).max}function q(a){return s(a).min}function r(a){return s(a).max}function s(a){for(var b=G,c=H,d=0,e=a.length;d<e;d++){var f=a[d];null!==f&&isFinite(f)&&(b=C.min(b,f),c=C.max(c,f))}return{min:b===G?void 0:b,max:c===H?void 0:c}}function t(a){if(a)return a[a.length-1]}function u(a,b){return a.push.apply(a,b),a}function v(a){return D.template(a,{useWithBlock:!1,paramName:"d"})}function w(a,c){return b(c)&&null!==c?" "+a+"='"+c+"' ":""}function x(a){for(var b="",c=0;c<a.length;c++)b+=w(a[c][0],a[c][1]);return b}function y(a){for(var c="",d=0;d<a.length;d++){var e=a[d][1];b(e)&&(c+=a[d][0]+":"+e+";")}if(""!==c)return c}function z(a){return"string"!=typeof a&&(a+="px"),a}function A(a){var b=[];if(a)for(var c=D.toHyphens(a).split("-"),d=0;d<c.length;d++)b.push("k-pos-"+c[d]);return b.join(" ")}function B(a){return""===a||null===a||"none"===a||"transparent"===a||!b(a)}var C=Math,D=window.kendo,E=D.deepExtend,F=(D.dataviz,C.PI/180),G=Number.MAX_VALUE,H=-Number.MAX_VALUE,I="undefined",J=(a.inArray,[].push,[].pop,[].splice,[].shift,[].slice,[].unshift,Date.now);J||(J=function(){return(new Date).getTime()}),E(D,{util:{MAX_NUM:G,MIN_NUM:H,append:u,arrayLimits:n,arrayMin:o,arrayMax:p,defined:b,deg:g,hashKey:l,hashObject:m,isNumber:h,isTransparent:B,last:t,limitValue:e,now:J,objectKey:k,round:c,rad:f,renderAttr:w,renderAllAttr:x,renderPos:A,renderSize:z,renderStyle:y,renderTemplate:v,sparseArrayLimits:s,sparseArrayMin:q,sparseArrayMax:r,sqr:j,valueOrDefault:i}}),D.dataviz.util=D.util}(window.kendo.jQuery),function(a){function b(a){var b,d,e,f,h,i,j,k="",l=0;for(a=c(a);l<a.length;)b=a.charCodeAt(l++),d=a.charCodeAt(l++),e=a.charCodeAt(l++),f=b>>2,h=(3&b)<<4|d>>4,i=(15&d)<<2|e>>6,j=63&e,isNaN(d)?i=j=64:isNaN(e)&&(j=64),k=k+g.charAt(f)+g.charAt(h)+g.charAt(i)+g.charAt(j);return k}function c(a){for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b+=f(d):d<2048?(b+=f(192|d>>>6),b+=f(128|63&d)):d<65536&&(b+=f(224|d>>>12),b+=f(128|d>>>6&63),b+=f(128|63&d))}return b}var d=window.kendo,e=d.deepExtend,f=String.fromCharCode,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e(d.util,{encodeBase64:b,encodeUTF8:c})}(window.kendo.jQuery),function(a){var b=Math,c=window.kendo,d=c.deepExtend,e=a.inArray,f={observers:function(){return this._observers=this._observers||[],this._observers},addObserver:function(a){return this._observers?this._observers.push(a):this._observers=[a],this},removeObserver:function(a){var b=this.observers(),c=e(a,b);return c!=-1&&b.splice(c,1),this},trigger:function(a,b){var c,d,e=this._observers;if(e&&!this._suspended)for(d=0;d<e.length;d++)c=e[d],c[a]&&c[a](b);return this},optionsChange:function(a){this.trigger("optionsChange",a)},geometryChange:function(a){this.trigger("geometryChange",a)},suspend:function(){return this._suspended=(this._suspended||0)+1,this},resume:function(){return this._suspended=b.max((this._suspended||0)-1,0),this},_observerField:function(a,b){this[a]&&this[a].removeObserver(this),this[a]=b,b.addObserver(this)}};d(c,{mixins:{ObserversMixin:f}})}(window.kendo.jQuery),function(a){function b(a){return null===a?null:a instanceof F?a:new F(a)}function c(a){return a&&n.isFunction(a.matrix)?a.matrix():a}function d(a,b,c,d){var e=0,f=0;return d&&(e=l.atan2(d.c*c,d.a*b),0!==d.b&&(f=l.atan2(d.d*c,d.b*b))),{x:e,y:f}}function e(a,b){for(;a<b;)a+=90;return a}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=d.charAt(0).toUpperCase()+d.substring(1,d.length);a["set"+e]=g(d),a["get"+e]=h(d)}}function g(a){return function(b){return this[a]!==b&&(this[a]=b,this.geometryChange()),this}}function h(a){return function(){return this[a]}}function i(a,b,c){a>b&&(b+=360);var d=l.abs(b-a);return c||(d=360-d),d}function j(a,b,c,d,e,f){var g=v((e-a)/c,3),h=v((f-b)/d,3);return v(u(l.atan2(h,g)))}function k(a,b,c,d,e,f,g,h){var k,n,o,p,q,r,s,t;if(b!==d){var u=c-a,v=d-b,w=m(e,2),x=m(f,2),y=(x*u*(a+c)+w*v*(b+d))/(2*w*v),A=y-d,B=-(u*x)/(w*v);q=1/w+m(B,2)/x,r=2*(B*A/x-c/w),s=m(c,2)/w+m(A,2)/x-1,t=l.sqrt(m(r,2)-4*q*s),k=(-r-t)/(2*q),n=y+B*k,o=(-r+t)/(2*q),p=y+B*o}else{if(a===c)return!1;r=-2*d,s=m((c-a)*f/(2*e),2)+m(d,2)-m(f,2),t=l.sqrt(m(r,2)-4*s),k=o=(a+c)/2,n=(-r-t)/2,p=(-r+t)/2}var C=j(k,n,e,f,a,b),D=j(k,n,e,f,c,d),E=i(C,D,h);return(g&&E<=180||!g&&E>180)&&(k=o,n=p,C=j(k,n,e,f,a,b),D=j(k,n,e,f,c,d)),{center:new z(k,n),startAngle:C,endAngle:D}}var l=Math,m=l.pow,n=(a.inArray,window.kendo),o=n.Class,p=n.deepExtend,q=n.mixins.ObserversMixin,r=n.util,s=r.defined,t=r.rad,u=r.deg,v=r.round,w=l.PI/2,x=r.MIN_NUM,y=r.MAX_NUM,z=o.extend({init:function(a,b){this.x=a||0,this.y=b||0},equals:function(a){return a&&a.x===this.x&&a.y===this.y},clone:function(){return new z(this.x,this.y)},rotate:function(a,c){return this.transform(b().rotate(a,c))},translate:function(a,b){return this.x+=a,this.y+=b,this.geometryChange(),this},translateWith:function(a){return this.translate(a.x,a.y)},move:function(a,b){return this.x=this.y=0,this.translate(a,b)},scale:function(a,b){return s(b)||(b=a),this.x*=a,this.y*=b,this.geometryChange(),this},scaleCopy:function(a,b){return this.clone().scale(a,b)},transform:function(a){var b=c(a),d=this.x,e=this.y;return this.x=b.a*d+b.c*e+b.e,this.y=b.b*d+b.d*e+b.f,this.geometryChange(),this},transformCopy:function(a){var b=this.clone();return a&&b.transform(a),b},distanceTo:function(a){var b=this.x-a.x,c=this.y-a.y;return l.sqrt(b*b+c*c)},round:function(a){return this.x=v(this.x,a),this.y=v(this.y,a),this.geometryChange(),this},toArray:function(a){var b=s(a),c=b?v(this.x,a):this.x,d=b?v(this.y,a):this.y;return[c,d]}});f(z.fn,["x","y"]),p(z.fn,q),z.fn.toString=function(a,b){var c=this.x,d=this.y;return s(a)&&(c=v(c,a),d=v(d,a)),b=b||" ",c+b+d},z.create=function(a,b){if(s(a))return a instanceof z?a:1===arguments.length&&2===a.length?new z(a[0],a[1]):new z(a,b)},z.min=function(){for(var a=r.MAX_NUM,b=r.MAX_NUM,c=0;c<arguments.length;c++){var d=arguments[c];a=l.min(d.x,a),b=l.min(d.y,b)}return new z(a,b)},z.max=function(a,b){for(var c=r.MIN_NUM,d=r.MIN_NUM,e=0;e<arguments.length;e++){var f=arguments[e];c=l.max(f.x,c),d=l.max(f.y,d)}return new z(c,d)},z.minPoint=function(){return new z(x,x)},z.maxPoint=function(){return new z(y,y)},z.ZERO=new z(0,0);var A=o.extend({init:function(a,b){this.width=a||0,this.height=b||0},equals:function(a){return a&&a.width===this.width&&a.height===this.height},clone:function(){return new A(this.width,this.height)},toArray:function(a){var b=s(a),c=b?v(this.width,a):this.width,d=b?v(this.height,a):this.height;return[c,d]}});f(A.fn,["width","height"]),p(A.fn,q),A.create=function(a,b){if(s(a))return a instanceof A?a:1===arguments.length&&2===a.length?new A(a[0],a[1]):new A(a,b)},A.ZERO=new A(0,0);var B=o.extend({init:function(a,b){this.setOrigin(a||new z),this.setSize(b||new A)},clone:function(){return new B(this.origin.clone(),this.size.clone())},equals:function(a){return a&&a.origin.equals(this.origin)&&a.size.equals(this.size)},setOrigin:function(a){return this._observerField("origin",z.create(a)),this.geometryChange(),this},getOrigin:function(){return this.origin},setSize:function(a){return this._observerField("size",A.create(a)),this.geometryChange(),this},getSize:function(){return this.size},width:function(){return this.size.width},height:function(){return this.size.height},topLeft:function(){return this.origin.clone()},bottomRight:function(){return this.origin.clone().translate(this.width(),this.height())},topRight:function(){return this.origin.clone().translate(this.width(),0)},bottomLeft:function(){return this.origin.clone().translate(0,this.height())},center:function(){return this.origin.clone().translate(this.width()/2,this.height()/2)},bbox:function(a){var b=this.topLeft().transformCopy(a),c=this.topRight().transformCopy(a),d=this.bottomRight().transformCopy(a),e=this.bottomLeft().transformCopy(a);return B.fromPoints(b,c,d,e)},transformCopy:function(a){return B.fromPoints(this.topLeft().transform(a),this.bottomRight().transform(a))}});p(B.fn,q),B.fromPoints=function(){var a=z.min.apply(this,arguments),b=z.max.apply(this,arguments),c=new A(b.x-a.x,b.y-a.y);return new B(a,c)},B.union=function(a,b){return B.fromPoints(z.min(a.topLeft(),b.topLeft()),z.max(a.bottomRight(),b.bottomRight()))},B.intersect=function(a,b){if(a={left:a.topLeft().x,top:a.topLeft().y,right:a.bottomRight().x,bottom:a.bottomRight().y},b={left:b.topLeft().x,top:b.topLeft().y,right:b.bottomRight().x,bottom:b.bottomRight().y},a.left<=b.right&&b.left<=a.right&&a.top<=b.bottom&&b.top<=a.bottom)return B.fromPoints(new z(l.max(a.left,b.left),l.max(a.top,b.top)),new z(l.min(a.right,b.right),l.min(a.bottom,b.bottom)))};var C=o.extend({init:function(a,b){this.setCenter(a||new z),this.setRadius(b||0)},setCenter:function(a){return this._observerField("center",z.create(a)),this.geometryChange(),this},getCenter:function(){return this.center},equals:function(a){return a&&a.center.equals(this.center)&&a.radius===this.radius},clone:function(){return new C(this.center.clone(),this.radius)},pointAt:function(a){return this._pointAt(t(a))},bbox:function(a){for(var b=z.maxPoint(),c=z.minPoint(),e=d(this.center,this.radius,this.radius,a),f=0;f<4;f++){var g=this._pointAt(e.x+f*w).transformCopy(a),h=this._pointAt(e.y+f*w).transformCopy(a),i=new z(g.x,h.y);b=z.min(b,i),c=z.max(c,i)}return B.fromPoints(b,c)},_pointAt:function(a){var b=this.center,c=this.radius;return new z(b.x-c*l.cos(a),b.y-c*l.sin(a))}});f(C.fn,["radius"]),p(C.fn,q);var D=o.extend({init:function(a,b){this.setCenter(a||new z),b=b||{},this.radiusX=b.radiusX,this.radiusY=b.radiusY||b.radiusX,this.startAngle=b.startAngle,this.endAngle=b.endAngle,this.anticlockwise=b.anticlockwise||!1},clone:function(){return new D(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})},setCenter:function(a){return this._observerField("center",z.create(a)),this.geometryChange(),this},getCenter:function(){return this.center},MAX_INTERVAL:45,pointAt:function(a){var b=this.center,c=t(a);return new z(b.x+this.radiusX*l.cos(c),b.y+this.radiusY*l.sin(c))},curvePoints:function(){for(var a=this.startAngle,b=(this.endAngle,this.anticlockwise?-1:1),c=[this.pointAt(a)],d=a,e=this._arcInterval(),f=e.endAngle-e.startAngle,g=l.ceil(f/this.MAX_INTERVAL),h=f/g,i=1;i<=g;i++){var j=d+b*h,k=this._intervalCurvePoints(d,j);c.push(k.cp1,k.cp2,k.p2),d=j}return c},bbox:function(a){for(var b=this,c=b._arcInterval(),f=c.startAngle,g=c.endAngle,h=d(this.center,this.radiusX,this.radiusY,a),i=u(h.x),j=u(h.y),k=b.pointAt(f).transformCopy(a),l=b.pointAt(g).transformCopy(a),m=z.min(k,l),n=z.max(k,l),o=e(i,f),p=e(j,f);o<g||p<g;){var q;o<g&&(q=b.pointAt(o).transformCopy(a),o+=90);var r;p<g&&(r=b.pointAt(p).transformCopy(a),p+=90),k=new z(q.x,r.y),m=z.min(m,k),n=z.max(n,k)}return B.fromPoints(m,n)},_arcInterval:function(){var a=this.startAngle,b=this.endAngle,c=this.anticlockwise;if(c){var d=a;a=b,b=d}return(a>b||c&&a===b)&&(b+=360),{startAngle:a,endAngle:b}},_intervalCurvePoints:function(a,b){var c=this,d=c.pointAt(a),e=c.pointAt(b),f=c._derivativeAt(a),g=c._derivativeAt(b),h=(t(b)-t(a))/3,i=new z(d.x+h*f.x,d.y+h*f.y),j=new z(e.x-h*g.x,e.y-h*g.y);return{p1:d,cp1:i,cp2:j,p2:e}},_derivativeAt:function(a){var b=this,c=t(a);return new z(-b.radiusX*l.sin(c),b.radiusY*l.cos(c))}});f(D.fn,["radiusX","radiusY","startAngle","endAngle","anticlockwise"]),p(D.fn,q),D.fromPoints=function(a,b,c,d,e,f){var g=k(a.x,a.y,b.x,b.y,c,d,e,f);return new D(g.center,{startAngle:g.startAngle,endAngle:g.endAngle,radiusX:c,radiusY:d,anticlockwise:0===f})};var E=o.extend({init:function(a,b,c,d,e,f){this.a=a||0,this.b=b||0,this.c=c||0,this.d=d||0,this.e=e||0,this.f=f||0},multiplyCopy:function(a){return new E(this.a*a.a+this.c*a.b,this.b*a.a+this.d*a.b,this.a*a.c+this.c*a.d,this.b*a.c+this.d*a.d,this.a*a.e+this.c*a.f+this.e,this.b*a.e+this.d*a.f+this.f)},invert:function(){var a=this.a,b=this.b,c=this.c,d=this.d,e=this.e,f=this.f,g=a*d-b*c;return 0===g?null:new E(d/g,-b/g,-c/g,a/g,(c*f-d*e)/g,(b*e-a*f)/g)},clone:function(){return new E(this.a,this.b,this.c,this.d,this.e,this.f)},equals:function(a){return!!a&&(this.a===a.a&&this.b===a.b&&this.c===a.c&&this.d===a.d&&this.e===a.e&&this.f===a.f)},round:function(a){return this.a=v(this.a,a),this.b=v(this.b,a),this.c=v(this.c,a),this.d=v(this.d,a),this.e=v(this.e,a),this.f=v(this.f,a),this},toArray:function(a){var b=[this.a,this.b,this.c,this.d,this.e,this.f];if(s(a))for(var c=0;c<b.length;c++)b[c]=v(b[c],a);return b}});E.fn.toString=function(a,b){return this.toArray(a).join(b||",")},E.translate=function(a,b){return new E(1,0,0,1,a,b)},E.unit=function(){return new E(1,0,0,1,0,0)},E.rotate=function(a,b,c){var d=new E;return d.a=l.cos(t(a)),d.b=l.sin(t(a)),d.c=-d.b,d.d=d.a,d.e=b-b*d.a+c*d.b||0,d.f=c-c*d.a-b*d.b||0,d},E.scale=function(a,b){return new E(a,0,0,b,0,0)},E.IDENTITY=E.unit();var F=o.extend({init:function(a){this._matrix=a||E.unit()},clone:function(){return new F(this._matrix.clone())},equals:function(a){return a&&a._matrix.equals(this._matrix)},_optionsChange:function(){this.optionsChange({field:"transform",value:this})},translate:function(a,b){return this._matrix=this._matrix.multiplyCopy(E.translate(a,b)),this._optionsChange(),this},scale:function(a,b,c){return s(b)||(b=a),c&&(c=z.create(c),this._matrix=this._matrix.multiplyCopy(E.translate(c.x,c.y))),this._matrix=this._matrix.multiplyCopy(E.scale(a,b)),c&&(this._matrix=this._matrix.multiplyCopy(E.translate(-c.x,-c.y))),this._optionsChange(),this},rotate:function(a,b){return b=z.create(b)||z.ZERO,this._matrix=this._matrix.multiplyCopy(E.rotate(a,b.x,b.y)),this._optionsChange(),this},multiply:function(a){var b=c(a);return this._matrix=this._matrix.multiplyCopy(b),this._optionsChange(),this},matrix:function(){return this._matrix}});p(F.fn,q),p(n,{geometry:{Arc:D,Circle:C,Matrix:E,Point:z,Rect:B,Size:A,Transformation:F,transform:b,toMatrix:c}}),n.dataviz.geometry=n.geometry}(window.kendo.jQuery),function(a){var b=(document,a.noop),c=Object.prototype.toString,d=window.kendo,e=d.Class,f=d.ui.Widget,g=d.deepExtend,h=d.util,i=h.defined,j=f.extend({init:function(a,b){this.options=g({},this.options,b),f.fn.init.call(this,a,this.options),this._click=this._handler("click"),this._mouseenter=this._handler("mouseenter"),this._mouseleave=this._handler("mouseleave"),this._visual=new d.drawing.Group,this.options.width&&this.element.css("width",this.options.width),this.options.height&&this.element.css("height",this.options.height)},options:{name:"Surface"},events:["click","mouseenter","mouseleave","resize"],draw:function(a){this._visual.children.push(a)},clear:function(){this._visual.children=[]},destroy:function(){this._visual=null,f.fn.destroy.call(this)},exportVisual:function(){return this._visual},getSize:function(){return{width:this.element.width(),height:this.element.height()}},setSize:function(a){this.element.css({width:a.width,height:a.height}),this._size=a,this._resize()},eventTarget:function(b){for(var c,d=a(b.touch?b.touch.initialTouch:b.target);!c&&d.length>0&&(c=d[0]._kendoNode,!d.is(this.element)&&0!==d.length);)d=d.parent();if(c)return c.srcElement},_resize:b,_handler:function(a){var b=this;return function(c){var d=b.eventTarget(c);d&&b.trigger(a,{element:d,originalEvent:c})}}});d.ui.plugin(j),j.create=function(a,b){return m.current.create(a,b)};var k=e.extend({init:function(a){this.childNodes=[],this.parent=null,a&&(this.srcElement=a,this.observe())},destroy:function(){this.srcElement&&this.srcElement.removeObserver(this);for(var a=this.childNodes,b=0;b<a.length;b++)this.childNodes[b].destroy();this.parent=null},load:b,observe:function(){this.srcElement&&this.srcElement.addObserver(this)},append:function(a){this.childNodes.push(a),a.parent=this},insertAt:function(a,b){this.childNodes.splice(b,0,a),a.parent=this},remove:function(a,b){for(var c=a+b,d=a;d<c;d++)this.childNodes[d].removeSelf();this.childNodes.splice(a,b)},removeSelf:function(){this.clear(),this.destroy()},clear:function(){this.remove(0,this.childNodes.length)},invalidate:function(){this.parent&&this.parent.invalidate()},geometryChange:function(){this.invalidate()},optionsChange:function(){this.invalidate()},childrenChange:function(a){"add"===a.action?this.load(a.items,a.index):"remove"===a.action&&this.remove(a.index,a.items.length),this.invalidate()}}),l=e.extend({init:function(a,b){var c,d;this.prefix=b||"";for(c in a)d=a[c],d=this._wrap(d,c),this[c]=d},get:function(a){return d.getter(a,!0)(this)},set:function(a,b){var c=d.getter(a,!0)(this);if(c!==b){var e=this._set(a,this._wrap(b,a));e||this.optionsChange({field:this.prefix+a,value:b})}},_set:function(a,b){var c=a.indexOf(".")>=0;if(c)for(var e,f=a.split("."),g="";f.length>1;){if(g+=f.shift(),e=d.getter(g,!0)(this),e||(e=new l({},g+"."),e.addObserver(this),this[g]=e),e instanceof l)return e.set(f.join("."),b),c;g+="."}return this._clear(a),d.setter(a)(this,b),c},_clear:function(a){var b=d.getter(a,!0)(this);b&&b.removeObserver&&b.removeObserver(this)},_wrap:function(a,b){var d=c.call(a);return null!==a&&i(a)&&"[object Object]"===d&&(a instanceof l||a instanceof e||(a=new l(a,this.prefix+b+".")),a.addObserver(this)),a}});g(l.fn,d.mixins.ObserversMixin);var m=function(){this._items=[]};m.prototype={register:function(a,b,c){var d=this._items,e=d[0],f={name:a,type:b,order:c};!e||c<e.order?d.unshift(f):d.push(f)},create:function(a,b){var c=this._items,e=c[0];if(b&&b.type)for(var f=b.type.toLowerCase(),g=0;g<c.length;g++)if(c[g].name===f){e=c[g];break}return e?new e.type(a,b):void d.logToConsole("Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n- The browser does not support SVG, VML and Canvas. User agent: "+navigator.userAgent+"\n- The Kendo UI scripts are not fully loaded")}},m.current=new m,g(d,{drawing:{DASH_ARRAYS:{dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},Color:d.Color,BaseNode:k,OptionsStore:l,Surface:j,SurfaceFactory:m}}),d.dataviz.drawing=d.drawing}(window.kendo.jQuery),function(a){var b=window.kendo,c=b.deepExtend,d=b.util.defined,e="gradient",f={extend:function(a){a.fill=this.fill,a.stroke=this.stroke},fill:function(a,b){var c=this.options;if(d(a)){if(a&&a.nodeType!=e){var f={color:a};d(b)&&(f.opacity=b),c.set("fill",f)}else c.set("fill",a);return this}return c.get("fill")},stroke:function(a,b,c){return d(a)?(this.options.set("stroke.color",a),d(b)&&this.options.set("stroke.width",b),d(c)&&this.options.set("stroke.opacity",c),this):this.options.get("stroke")}},g={extend:function(a,b){a.traverse=function(a){for(var c=this[b],d=0;d<c.length;d++){var e=c[d];e.traverse?e.traverse(a):a(e)}return this}}};c(b.drawing,{mixins:{Paintable:f,Traversable:g}})}(window.kendo.jQuery),function(a){function b(a,b){return k.current.measure(a,b)}var c=document,d=window.kendo,e=d.Class,f=d.deepExtend,g=d.util,h=g.defined,i=1,j=e.extend({init:function(a){this._size=a,this._length=0,this._map={}},put:function(a,b){var c=this,d=c._map,e={key:a,value:b};d[a]=e,c._head?(c._tail.newer=e,e.older=c._tail,c._tail=e):c._head=c._tail=e,c._length>=c._size?(d[c._head.key]=null,c._head=c._head.newer,c._head.older=null):c._length++},get:function(a){var b=this,c=b._map[a];if(c)return c===b._head&&c!==b._tail&&(b._head=c.newer,b._head.older=null),c!==b._tail&&(c.older&&(c.older.newer=c.newer,c.newer.older=c.older),c.older=b._tail,c.newer=null,b._tail.newer=c,b._tail=c),c.value}}),k=e.extend({init:function(){this._cache=new j(1e3)},measure:function(b,d){var e=g.objectKey(d),f=g.hashKey(b+e),j=this._cache.get(f);if(j)return j;var k={width:0,height:0,baseline:0},l=this._measureBox,m=this._baselineMarker.cloneNode(!1);for(var n in d){var o=d[n];h(o)&&(l.style[n]=o)}return a(l).text(b),l.appendChild(m),c.body.appendChild(l),(b+"").length&&(k.width=l.offsetWidth-i,k.height=l.offsetHeight,k.baseline=m.offsetTop+i),this._cache.put(f,k),l.parentNode.removeChild(l),k}});k.fn._baselineMarker=a("<div class='k-baseline-marker' style='display: inline-block; vertical-align: baseline;width: "+i+"px; height: "+i+"px;overflow: hidden;' />")[0],k.fn._measureBox=a("<div style='position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space:nowrap !important;' />")[0],k.current=new k,f(d.drawing,{util:{TextMetrics:k,LRUCache:j,measureText:b}})}(window.kendo.jQuery),function(a){function b(a,b,c){for(var d,e=0;e<a.length;e++){var f=a[e];if(f.visible()){var g=b?f.bbox(c):f.rawBBox();g&&(d=d?F.union(d,g):g)}}return d}function c(a,b){for(var c,d=0;d<a.length;d++){var e=a[d];if(e.visible()){var f=e.clippedBBox(b);f&&(c=c?F.union(c,f):f)}}return c}function d(a,b){a.origin.x-=b,a.origin.y-=b,a.size.width+=2*b,a.size.height+=2*b}function e(a,b){for(var c=0;c<b.length;c++)a[b[c]]=f(b[c])}function f(a){var b="_"+a;return function(a){return Q(a)?(this._observerField(b,a),this.geometryChange(),this):this[b]}}function g(a,b){for(var c=0;c<b.length;c++)a[b[c]]=h(b[c])}function h(a){var b="_"+a;return function(a){return Q(a)?(this._observerField(b,E.create(a)),this.geometryChange(),this):this[b]}}function i(a,b){for(var c=0;c<b.length;c++)a[b[c]]=j(b[c])}function j(a){return function(b){return Q(b)?(this.options.set(a,b),this):this.options.get(a)}}function k(){return"kdef"+_++}function l(a,b,c){w(a,b,c,"x","width")}function m(a,b,c){w(a,b,c,"y","height")}function n(a){v(u(a),"x","y","width")}function o(a){v(u(a),"y","x","height")}function p(a,b){return r(a,b,"x","y","width")}function q(a,b){return r(a,b,"y","x","height")}function r(a,b,c,d,e){var f,g,h,i,j=[],k=t(a,b,e),l=b.origin.clone();for(i=0;i<k.length;i++)for(h=k[i],f=h[0],l[d]=f.bbox.origin[d],z(l,f.bbox,f.element),f.bbox.origin[c]=l[c],v(h,c,d,e),j.push([]),g=0;g<h.length;g++)j[i].push(h[g].element);return j}function s(a,b){var c=a.clippedBBox(),d=c.size,e=b.size;if(e.width<d.width||e.height<d.height){var f=L.min(e.width/d.width,e.height/d.height),g=a.transform()||D.transform();g.scale(f,f),a.transform(g)}}function t(a,b,c){for(var d,e,f,g=b.size[c],h=0,i=[],j=[],k=function(){j.push({element:d,bbox:f})},l=0;l<a.length;l++)d=a[l],f=d.clippedBBox(),f&&(e=f.size[c],h+e>g?j.length?(i.push(j),j=[],k(),h=e):(k(),i.push(j),j=[],h=0):(k(),h+=e));return j.length&&i.push(j),i}function u(a){for(var b,c,d=[],e=0;e<a.length;e++)b=a[e],c=b.clippedBBox(),c&&d.push({element:b,bbox:c});return d}function v(a,b,c,d){if(a.length>1)for(var e,f,g=a[0].bbox,h=new E,i=1;i<a.length;i++)e=a[i].element,f=a[i].bbox,h[b]=g.origin[b]+g.size[d],h[c]=f.origin[c],z(h,f,e),f.origin[b]=h[b],g=f}function w(a,b,c,d,e){var f,g;c=c||"start";for(var h=0;h<a.length;h++)f=a[h].clippedBBox(),f&&(g=f.origin.clone(),g[d]=x(f.size[e],b,c,d,e),z(g,f,a[h]))}function x(a,b,c,d,e){var f;return f=c==aa?b.origin[d]:c==ba?b.origin[d]+b.size[e]-a:b.origin[d]+(b.size[e]-a)/2}function y(a,b,c){var d=c.transform()||D.transform(),e=d.matrix();e.e+=a,e.f+=b,c.transform(d)}function z(a,b,c){y(a.x-b.origin.x,a.y-b.origin.y,c)}var A=window.kendo,B=A.Class,C=A.deepExtend,D=A.geometry,E=D.Point,F=D.Rect,G=D.Size,H=D.Matrix,I=D.toMatrix,J=A.drawing,K=J.OptionsStore,L=Math,M=L.pow,N=A.util,O=N.append,P=N.arrayLimits,Q=N.defined,R=N.last,S=N.valueOrDefault,T=A.mixins.ObserversMixin,U=a.inArray,V=[].push,W=[].pop,X=[].splice,Y=[].shift,Z=[].slice,$=[].unshift,_=1,aa="start",ba="end",ca="horizontal",da=B.extend({nodeType:"Element",init:function(a){this._initOptions(a)},_initOptions:function(a){a=a||{};var b=a.transform,c=a.clip;b&&(a.transform=D.transform(b)),c&&!c.id&&(c.id=k()),this.options=new K(a),this.options.addObserver(this)},transform:function(a){return Q(a)?void this.options.set("transform",D.transform(a)):this.options.get("transform")},parentTransform:function(){for(var a,b,c=this;c.parent;)c=c.parent,a=c.transform(),a&&(b=a.matrix().multiplyCopy(b||H.unit()));if(b)return D.transform(b)},currentTransform:function(a){var b,c,d=this.transform(),e=I(d);if(Q(a)||(a=this.parentTransform()),b=I(a),c=e&&b?b.multiplyCopy(e):e||b)return D.transform(c)},visible:function(a){return Q(a)?(this.options.set("visible",a),this):this.options.get("visible")!==!1},clip:function(a){var b=this.options;return Q(a)?(a&&!a.id&&(a.id=k()),b.set("clip",a),this):b.get("clip")},opacity:function(a){return Q(a)?(this.options.set("opacity",a),this):S(this.options.get("opacity"),1)},clippedBBox:function(a){var b=this._clippedBBox(a);if(b){var c=this.clip();return c?F.intersect(b,c.bbox(a)):b}},_clippedBBox:function(a){return this.bbox(a)}});C(da.fn,T);var ea=B.extend({init:function(a){a=a||[],this.length=0,this._splice(0,a.length,a)},elements:function(a){return a?(this._splice(0,this.length,a),this._change(),this):this.slice(0)},push:function(){var a=arguments,b=V.apply(this,a);return this._add(a),b},slice:Z,pop:function(){var a=this.length,b=W.apply(this);return a&&this._remove([b]),b},splice:function(a,b){var c=Z.call(arguments,2),d=this._splice(a,b,c);return this._change(),d},shift:function(){var a=this.length,b=Y.apply(this);return a&&this._remove([b]),b},unshift:function(){var a=arguments,b=$.apply(this,a);return this._add(a),b},indexOf:function(a){var b,c,d=this;for(b=0,c=d.length;b<c;b++)if(d[b]===a)return b;return-1},_splice:function(a,b,c){var d=X.apply(this,[a,b].concat(c));return this._clearObserver(d),this._setObserver(c),d},_add:function(a){this._setObserver(a),this._change()},_remove:function(a){this._clearObserver(a),this._change()},_setObserver:function(a){for(var b=0;b<a.length;b++)a[b].addObserver(this)},_clearObserver:function(a){for(var b=0;b<a.length;b++)a[b].removeObserver(this)},_change:function(){}});C(ea.fn,T);var fa=da.extend({nodeType:"Group",init:function(a){da.fn.init.call(this,a),this.children=[]},childrenChange:function(a,b,c){this.trigger("childrenChange",{action:a,items:b,index:c})},append:function(){return O(this.children,arguments),this._reparent(arguments,this),this.childrenChange("add",arguments),this},insertAt:function(a,b){return this.children.splice(b,0,a),a.parent=this,this.childrenChange("add",[a],b),this},remove:function(a){var b=U(a,this.children);return b>=0&&(this.children.splice(b,1),a.parent=null,this.childrenChange("remove",[a],b)),this},removeAt:function(a){if(0<=a&&a<this.children.length){var b=this.children[a];this.children.splice(a,1),b.parent=null,this.childrenChange("remove",[b],a)}return this},
clear:function(){var a=this.children;return this.children=[],this._reparent(a,null),this.childrenChange("remove",a,0),this},bbox:function(a){return b(this.children,!0,this.currentTransform(a))},rawBBox:function(){return b(this.children,!1)},_clippedBBox:function(a){return c(this.children,this.currentTransform(a))},currentTransform:function(a){return da.fn.currentTransform.call(this,a)||null},_reparent:function(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=d.parent;e&&e!=this&&e.remove&&e.remove(d),d.parent=b}}});J.mixins.Traversable.extend(fa.fn,"children");var ga=da.extend({nodeType:"Text",init:function(a,b,c){da.fn.init.call(this,c),this.content(a),this.position(b||new D.Point),this.options.font||(this.options.font="12px sans-serif"),Q(this.options.fill)||this.fill("#000")},content:function(a){return Q(a)?(this.options.set("content",a),this):this.options.get("content")},measure:function(){var a=J.util.measureText(this.content(),{font:this.options.get("font")});return a},rect:function(){var a=this.measure(),b=this.position().clone();return new D.Rect(b,[a.width,a.height])},bbox:function(a){var b=I(this.currentTransform(a));return this.rect().bbox(b)},rawBBox:function(){return this.rect().bbox()}});J.mixins.Paintable.extend(ga.fn),g(ga.fn,["position"]);var ha=da.extend({nodeType:"Circle",init:function(a,b){da.fn.init.call(this,b),this.geometry(a||new D.Circle),Q(this.options.stroke)||this.stroke("#000")},bbox:function(a){var b=I(this.currentTransform(a)),c=this._geometry.bbox(b),e=this.options.get("stroke.width");return e&&d(c,e/2),c},rawBBox:function(){return this._geometry.bbox()}});J.mixins.Paintable.extend(ha.fn),e(ha.fn,["geometry"]);var ia=da.extend({nodeType:"Arc",init:function(a,b){da.fn.init.call(this,b),this.geometry(a||new D.Arc),Q(this.options.stroke)||this.stroke("#000")},bbox:function(a){var b=I(this.currentTransform(a)),c=this.geometry().bbox(b),e=this.options.get("stroke.width");return e&&d(c,e/2),c},rawBBox:function(){return this.geometry().bbox()},toPath:function(){var a=new la,b=this.geometry().curvePoints();if(b.length>0){a.moveTo(b[0].x,b[0].y);for(var c=1;c<b.length;c+=3)a.curveTo(b[c],b[c+1],b[c+2])}return a}});J.mixins.Paintable.extend(ia.fn),e(ia.fn,["geometry"]);var ja=ea.extend({_change:function(){this.geometryChange()}}),ka=B.extend({init:function(a,b,c){this.anchor(a||new E),this.controlIn(b),this.controlOut(c)},bboxTo:function(a,b){var c,d=this.anchor().transformCopy(b),e=a.anchor().transformCopy(b);return c=this.controlOut()&&a.controlIn()?this._curveBoundingBox(d,this.controlOut().transformCopy(b),a.controlIn().transformCopy(b),e):this._lineBoundingBox(d,e)},_lineBoundingBox:function(a,b){return F.fromPoints(a,b)},_curveBoundingBox:function(a,b,c,d){var e=[a,b,c,d],f=this._curveExtremesFor(e,"x"),g=this._curveExtremesFor(e,"y"),h=P([f.min,f.max,a.x,d.x]),i=P([g.min,g.max,a.y,d.y]);return F.fromPoints(new E(h.min,i.min),new E(h.max,i.max))},_curveExtremesFor:function(a,b){var c=this._curveExtremes(a[0][b],a[1][b],a[2][b],a[3][b]);return{min:this._calculateCurveAt(c.min,b,a),max:this._calculateCurveAt(c.max,b,a)}},_calculateCurveAt:function(a,b,c){var d=1-a;return M(d,3)*c[0][b]+3*M(d,2)*a*c[1][b]+3*M(a,2)*d*c[2][b]+M(a,3)*c[3][b]},_curveExtremes:function(a,b,c,d){var e=a-3*b+3*c-d,f=-2*(a-2*b+c),g=a-b,h=L.sqrt(f*f-4*e*g),i=0,j=1;0===e?0!==f&&(i=j=-g/f):isNaN(h)||(i=(-f+h)/(2*e),j=(-f-h)/(2*e));var k=L.max(L.min(i,j),0);(k<0||k>1)&&(k=0);var l=L.min(L.max(i,j),1);return(l>1||l<0)&&(l=1),{min:k,max:l}}});g(ka.fn,["anchor","controlIn","controlOut"]),C(ka.fn,T);var la=da.extend({nodeType:"Path",init:function(a){da.fn.init.call(this,a),this.segments=new ja,this.segments.addObserver(this),Q(this.options.stroke)||(this.stroke("#000"),Q(this.options.stroke.lineJoin)||this.options.set("stroke.lineJoin","miter"))},moveTo:function(a,b){return this.suspend(),this.segments.elements([]),this.resume(),this.lineTo(a,b),this},lineTo:function(a,b){var c=Q(b)?new E(a,b):a,d=new ka(c);return this.segments.push(d),this},curveTo:function(a,b,c){if(this.segments.length>0){var d=R(this.segments),e=new ka(c,b);this.suspend(),d.controlOut(a),this.resume(),this.segments.push(e)}return this},arc:function(a,b,c,d,e){if(this.segments.length>0){var f=R(this.segments),g=f.anchor(),h=N.rad(a),i=new E(g.x-c*L.cos(h),g.y-d*L.sin(h)),j=new D.Arc(i,{startAngle:a,endAngle:b,radiusX:c,radiusY:d,anticlockwise:e});this._addArcSegments(j)}return this},arcTo:function(a,b,c,d,e){if(this.segments.length>0){var f=R(this.segments),g=f.anchor(),h=D.Arc.fromPoints(g,a,b,c,d,e);this._addArcSegments(h)}return this},_addArcSegments:function(a){this.suspend();for(var b=a.curvePoints(),c=1;c<b.length;c+=3)this.curveTo(b[c],b[c+1],b[c+2]);this.resume(),this.geometryChange()},close:function(){return this.options.closed=!0,this.geometryChange(),this},bbox:function(a){var b=I(this.currentTransform(a)),c=this._bbox(b),e=this.options.get("stroke.width");return e&&d(c,e/2),c},rawBBox:function(){return this._bbox()},_bbox:function(a){var b,c=this.segments,d=c.length;if(1===d){var e=c[0].anchor().transformCopy(a);b=new F(e,G.ZERO)}else if(d>0)for(var f=1;f<d;f++){var g=c[f-1].bboxTo(c[f],a);b=b?F.union(b,g):g}return b}});J.mixins.Paintable.extend(la.fn),la.fromRect=function(a,b){return new la(b).moveTo(a.topLeft()).lineTo(a.topRight()).lineTo(a.bottomRight()).lineTo(a.bottomLeft()).close()},la.fromPoints=function(a,b){if(a){for(var c=new la(b),d=0;d<a.length;d++){var e=E.create(a[d]);e&&(0===d?c.moveTo(e):c.lineTo(e))}return c}},la.fromArc=function(a,b){var c=new la(b),d=a.startAngle,e=a.pointAt(d);return c.moveTo(e.x,e.y),c.arc(d,a.endAngle,a.radiusX,a.radiusY,a.anticlockwise),c};var ma=da.extend({nodeType:"MultiPath",init:function(a){da.fn.init.call(this,a),this.paths=new ja,this.paths.addObserver(this),Q(this.options.stroke)||this.stroke("#000")},moveTo:function(a,b){var c=new la;return c.moveTo(a,b),this.paths.push(c),this},lineTo:function(a,b){return this.paths.length>0&&R(this.paths).lineTo(a,b),this},curveTo:function(a,b,c){return this.paths.length>0&&R(this.paths).curveTo(a,b,c),this},arc:function(a,b,c,d,e){return this.paths.length>0&&R(this.paths).arc(a,b,c,d,e),this},arcTo:function(a,b,c,d,e){return this.paths.length>0&&R(this.paths).arcTo(a,b,c,d,e),this},close:function(){return this.paths.length>0&&R(this.paths).close(),this},bbox:function(a){return b(this.paths,!0,this.currentTransform(a))},rawBBox:function(){return b(this.paths,!1)},_clippedBBox:function(a){return c(this.paths,this.currentTransform(a))}});J.mixins.Paintable.extend(ma.fn);var na=da.extend({nodeType:"Image",init:function(a,b,c){da.fn.init.call(this,c),this.src(a),this.rect(b||new D.Rect)},src:function(a){return Q(a)?(this.options.set("src",a),this):this.options.get("src")},bbox:function(a){var b=I(this.currentTransform(a));return this._rect.bbox(b)},rawBBox:function(){return this._rect.bbox()}});e(na.fn,["rect"]);var oa=B.extend({init:function(a,b,c){this.options=new K({offset:a,color:b,opacity:Q(c)?c:1}),this.options.addObserver(this)}});i(oa.fn,["offset","color","opacity"]),C(oa.fn,T),oa.create=function(a){if(Q(a)){var b;return b=a instanceof oa?a:a.length>1?new oa(a[0],a[1],a[2]):new oa(a.offset,a.color,a.opacity)}};var pa=ea.extend({_change:function(){this.optionsChange({field:"stops"})}}),qa=B.extend({nodeType:"gradient",init:function(a){this.stops=new pa(this._createStops(a.stops)),this.stops.addObserver(this),this._userSpace=a.userSpace,this.id=k()},userSpace:function(a){return Q(a)?(this._userSpace=a,this.optionsChange(),this):this._userSpace},_createStops:function(a){var b,c=[];for(a=a||[],b=0;b<a.length;b++)c.push(oa.create(a[b]));return c},addStop:function(a,b,c){this.stops.push(new oa(a,b,c))},removeStop:function(a){var b=this.stops.indexOf(a);b>=0&&this.stops.splice(b,1)}});C(qa.fn,T,{optionsChange:function(a){this.trigger("optionsChange",{field:"gradient"+(a?"."+a.field:""),value:this})},geometryChange:function(){this.optionsChange()}});var ra=qa.extend({init:function(a){a=a||{},qa.fn.init.call(this,a),this.start(a.start||new E),this.end(a.end||new E(1,0))}});g(ra.fn,["start","end"]);var sa=qa.extend({init:function(a){a=a||{},qa.fn.init.call(this,a),this.center(a.center||new E),this._radius=Q(a.radius)?a.radius:1,this._fallbackFill=a.fallbackFill},radius:function(a){return Q(a)?(this._radius=a,this.geometryChange(),this):this._radius},fallbackFill:function(a){return Q(a)?(this._fallbackFill=a,this.optionsChange(),this):this._fallbackFill}});g(sa.fn,["center"]);var ta=fa.extend({init:function(a,b){fa.fn.init.call(this,A.deepExtend({},this._defaults,b)),this._rect=a,this._fieldMap={}},_defaults:{alignContent:aa,justifyContent:aa,alignItems:aa,spacing:0,orientation:ca,lineSpacing:0,wrap:!0},rect:function(a){return a?(this._rect=a,this):this._rect},_initMap:function(){var a=this.options,b=this._fieldMap;a.orientation==ca?(b.sizeField="width",b.groupsSizeField="height",b.groupAxis="x",b.groupsAxis="y"):(b.sizeField="height",b.groupsSizeField="width",b.groupAxis="y",b.groupsAxis="x")},reflow:function(){if(this._rect&&0!==this.children.length){this._initMap(),this.options.transform&&this.transform(null);for(var a,b,c,d,e,f=this.options,g=this._fieldMap,h=this._rect,i=this._initGroups(),j=i.groups,k=i.groupsSize,l=g.sizeField,m=g.groupsSizeField,n=g.groupAxis,o=g.groupsAxis,p=x(k,h,f.alignContent,o,m),q=new E,r=new E,s=new D.Size,t=0;t<j.length;t++){d=j[t],q[n]=a=x(d.size,h,f.justifyContent,n,l),q[o]=p,s[l]=d.size,s[m]=d.lineSize,e=new F(q,s);for(var u=0;u<d.bboxes.length;u++)c=d.elements[u],b=d.bboxes[u],r[n]=a,r[o]=x(b.size[m],e,f.alignItems,o,m),z(r,b,c),a+=b.size[l]+f.spacing;p+=d.lineSize+f.lineSpacing}if(!f.wrap&&d.size>h.size[l]){var v=h.size[l]/e.size[l],w=e.topLeft().scale(v,v),y=e.size[m]*v,A=x(y,h,f.alignContent,o,m),B=D.transform();"x"===n?B.translate(h.origin.x-w.x,A-w.y):B.translate(A-w.x,h.origin.y-w.y),B.scale(v,v),this.transform(B)}}},_initGroups:function(){for(var a,b,c=this.options,d=this.children,e=c.lineSpacing,f=this._fieldMap.sizeField,g=-e,h=[],i=this._newGroup(),j=function(){h.push(i),g+=i.lineSize+e},k=0;k<d.length;k++)b=d[k],a=d[k].clippedBBox(),b.visible()&&a&&(c.wrap&&i.size+a.size[f]+c.spacing>this._rect.size[f]?0===i.bboxes.length?(this._addToGroup(i,a,b),j(),i=this._newGroup()):(j(),i=this._newGroup(),this._addToGroup(i,a,b)):this._addToGroup(i,a,b));return i.bboxes.length&&j(),{groups:h,groupsSize:g}},_addToGroup:function(a,b,c){a.size+=b.size[this._fieldMap.sizeField]+this.options.spacing,a.lineSize=Math.max(b.size[this._fieldMap.groupsSizeField],a.lineSize),a.bboxes.push(b),a.elements.push(c)},_newGroup:function(){return{lineSize:0,size:-this.options.spacing,bboxes:[],elements:[]}}});C(J,{align:l,Arc:ia,Circle:ha,Element:da,ElementsArray:ea,fit:s,Gradient:qa,GradientStop:oa,Group:fa,Image:na,Layout:ta,LinearGradient:ra,MultiPath:ma,Path:la,RadialGradient:sa,Segment:ka,stack:n,Text:ga,vAlign:m,vStack:o,vWrap:q,wrap:p})}(window.kendo.jQuery),function(a){function b(a){var b=[];return a.replace(p,function(a,c){b.push(parseFloat(c))}),b}function c(a,b,c){for(var d=b?0:1,e=0;e<a.length;e+=2)a.splice(e+d,0,c)}function d(a,b){if(a&&b)return b.scaleCopy(2).translate(-a.x,-a.y)}function e(a,b,c){var d=1/3;return b=b.clone().scale(2/3),{controlOut:b.clone().translateWith(a.scaleCopy(d)),controlIn:b.translateWith(c.scaleCopy(d))}}var f=window.kendo,g=f.drawing,h=f.geometry,i=f.Class,j=h.Point,k=f.deepExtend,l=a.trim,m=f.util,n=(m.deg,m.last),o=(m.round,/([a-z]{1})([^a-z]*)(z)?/gi),p=/[,\s]?(-?(?:\d+\.)?\d+)/g,q="m",r="z",s=i.extend({parse:function(a,c){var d,e=new g.MultiPath(c),f=new j;return a.replace(o,function(a,c,g,h){var i=c.toLowerCase(),j=i===c,k=b(l(g));if(i===q&&(j?(f.x+=k[0],f.y+=k[1]):(f.x=k[0],f.y=k[1]),e.moveTo(f.x,f.y),k.length>2&&(i="l",k.splice(0,2))),t[i])t[i](e,{parameters:k,position:f,isRelative:j,previousCommand:d}),h&&h.toLowerCase()===r&&e.close();else if(i!==q)throw new Error("Error while parsing SVG path. Unsupported command: "+i);d=i}),e}}),t={l:function(a,b){for(var c=b.parameters,d=b.position,e=0;e<c.length;e+=2){var f=new j(c[e],c[e+1]);b.isRelative&&f.translateWith(d),a.lineTo(f.x,f.y),d.x=f.x,d.y=f.y}},c:function(a,b){for(var c,d,e,f=b.parameters,g=b.position,h=0;h<f.length;h+=6)c=new j(f[h],f[h+1]),d=new j(f[h+2],f[h+3]),e=new j(f[h+4],f[h+5]),b.isRelative&&(d.translateWith(g),c.translateWith(g),e.translateWith(g)),a.curveTo(c,d,e),g.x=e.x,g.y=e.y},v:function(a,b){var d=b.isRelative?0:b.position.x;c(b.parameters,!0,d),this.l(a,b)},h:function(a,b){var d=b.isRelative?0:b.position.y;c(b.parameters,!1,d),this.l(a,b)},a:function(a,b){for(var c=b.parameters,d=b.position,e=0;e<c.length;e+=7){var f=c[e],g=c[e+1],h=c[e+3],i=c[e+4],k=new j(c[e+5],c[e+6]);b.isRelative&&k.translateWith(d),a.arcTo(k,f,g,h,i),d.x=k.x,d.y=k.y}},s:function(a,b){var c,e,f,g,h=b.parameters,i=b.position,k=b.previousCommand;"s"!=k&&"c"!=k||(g=n(n(a.paths).segments).controlIn());for(var l=0;l<h.length;l+=4)f=new j(h[l],h[l+1]),e=new j(h[l+2],h[l+3]),b.isRelative&&(f.translateWith(i),e.translateWith(i)),c=g?d(g,i):i.clone(),g=f,a.curveTo(c,f,e),i.x=e.x,i.y=e.y},q:function(a,b){for(var c,d,f,g=b.parameters,h=b.position,i=0;i<g.length;i+=4)f=new j(g[i],g[i+1]),d=new j(g[i+2],g[i+3]),b.isRelative&&(f.translateWith(h),d.translateWith(h)),c=e(h,f,d),a.curveTo(c.controlOut,c.controlIn,d),h.x=d.x,h.y=d.y},t:function(a,b){var c,f,g,h=b.parameters,i=b.position,k=b.previousCommand;if("q"==k||"t"==k){var l=n(n(a.paths).segments);f=l.controlIn().clone().translateWith(i.scaleCopy(-1/3)).scale(1.5)}for(var m=0;m<h.length;m+=2)g=new j(h[m],h[m+1]),b.isRelative&&g.translateWith(i),f=f?d(f,i):i.clone(),c=e(i,f,g),a.curveTo(c.controlOut,c.controlIn,g),i.x=g.x,i.y=g.y}};s.current=new s,g.Path.parse=function(a,b){return s.current.parse(a,b)},k(g,{PathParser:s})}(window.kendo.jQuery),function(a){function b(a){var b;try{b=a.getScreenCTM?a.getScreenCTM():null}catch(c){}if(b){var d=-b.e%1,e=-b.f%1,f=a.style;0===d&&0===e||(f.left=d+"px",f.top=e+"px")}}function c(){var a=document.getElementsByTagName("base")[0],b="",c=document.location.href,d=c.indexOf("#");return a&&!j.support.browser.msie&&(d!==-1&&(c=c.substring(0,d)),b=c),b}function d(a){return"url("+c()+"#"+a+")"}function e(a){var b=new H({encodeText:!0}),c=a.clippedBBox();if(c){var d=c.getOrigin(),e=new m.Group;e.transform(l.transform().translate(-d.x,-d.y)),e.children.push(a),a=e}b.load([a]);var f="<?xml version='1.0' ?><svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='"+C+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>"+b.render()+"</svg>";return b.destroy(),f}function f(b,c){var d=e(b);return c&&c.raw||(d="data:image/svg+xml;base64,"+o.encodeBase64(d)),a.Deferred().resolve(d).promise()}function g(a,b){return"clip"==a||"fill"==a&&(!b||b.nodeType==x)}function h(a){if(!a||!a.indexOf||a.indexOf("&")<0)return a;var b=h._element;return b.innerHTML=a,b.textContent||b.innerText}var i=document,j=window.kendo,k=j.deepExtend,l=j.geometry,m=j.drawing,n=m.BaseNode,o=j.util,p=o.defined,q=o.isTransparent,r=o.renderAttr,s=o.renderAllAttr,t=(o.renderSize,o.renderTemplate),u=a.inArray,v="butt",w=m.DASH_ARRAYS,x="gradient",y="none",z=".kendo",A="solid",B=" ",C="http://www.w3.org/2000/svg",D="transform",E="undefined",F=m.Surface.extend({init:function(a,c){m.Surface.fn.init.call(this,a,c),this._root=new H(this.options),W(this.element[0],this._template(this)),this._rootElement=this.element[0].firstElementChild,b(this._rootElement),this._root.attachTo(this._rootElement),this.element.on("click"+z,this._click),this.element.on("mouseover"+z,this._mouseenter),this.element.on("mouseout"+z,this._mouseleave),this.resize()},type:"svg",destroy:function(){this._root&&(this._root.destroy(),this._root=null,this._rootElement=null,this.element.off(z)),m.Surface.fn.destroy.call(this)},translate:function(a){var b=j.format("{0} {1} {2} {3}",Math.round(a.x),Math.round(a.y),this._size.width,this._size.height);this._offset=a,this._rootElement.setAttribute("viewBox",b)},draw:function(a){m.Surface.fn.draw.call(this,a),this._root.load([a])},clear:function(){m.Surface.fn.clear.call(this),this._root.clear()},svg:function(){return"<?xml version='1.0' ?>"+this._template(this)},exportVisual:function(){var a=this._visual,b=this._offset;if(b){var c=new m.Group;c.children.push(a),c.transform(l.transform().translate(-b.x,-b.y)),a=c}return a},_resize:function(){this._offset&&this.translate(this._offset)},_template:t("<svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='"+C+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>#= d._root.render() #</svg>")}),G=n.extend({init:function(a){n.fn.init.call(this,a),this.definitions={}},destroy:function(){this.element&&(this.element._kendoNode=null,this.element=null),this.clearDefinitions(),n.fn.destroy.call(this)},load:function(a,b){var c,d,e,f,g=this,h=g.element;for(f=0;f<a.length;f++)d=a[f],e=d.children,c=new V[d.nodeType](d),p(b)?g.insertAt(c,b):g.append(c),c.createDefinitions(),e&&e.length>0&&c.load(e),h&&c.attachTo(h,b)},root:function(){for(var a=this;a.parent;)a=a.parent;return a},attachTo:function(a,b){var c=i.createElement("div");W(c,"<svg xmlns='"+C+"' version='1.1'>"+this.render()+"</svg>");var d=c.firstChild.firstChild;d&&(p(b)?a.insertBefore(d,a.childNodes[b]||null):a.appendChild(d),this.setElement(d))},setElement:function(a){var b,c,d=this.childNodes;for(this.element&&(this.element._kendoNode=null),this.element=a,this.element._kendoNode=this,c=0;c<d.length;c++)b=a.childNodes[c],d[c].setElement(b)},clear:function(){this.clearDefinitions(),this.element&&(this.element.innerHTML="");for(var a=this.childNodes,b=0;b<a.length;b++)a[b].destroy();this.childNodes=[]},removeSelf:function(){if(this.element){var a=this.element.parentNode;a&&a.removeChild(this.element),this.element=null}n.fn.removeSelf.call(this)},template:t("#= d.renderChildren() #"),render:function(){return this.template(this)},renderChildren:function(){var a,b=this.childNodes,c="";for(a=0;a<b.length;a++)c+=b[a].render();return c},optionsChange:function(a){var b=a.field,c=a.value;"visible"===b?this.css("display",c?"":y):X[b]&&g(b,c)?this.updateDefinition(b,c):"opacity"===b&&this.attr("opacity",c),n.fn.optionsChange.call(this,a)},attr:function(a,b){this.element&&this.element.setAttribute(a,b)},allAttr:function(a){for(var b=0;b<a.length;b++)this.attr(a[b][0],a[b][1])},css:function(a,b){this.element&&(this.element.style[a]=b)},allCss:function(a){for(var b=0;b<a.length;b++)this.css(a[b][0],a[b][1])},removeAttr:function(a){this.element&&this.element.removeAttribute(a)},mapTransform:function(a){var b=[];return a&&b.push([D,"matrix("+a.matrix().toString(6)+")"]),b},renderTransform:function(){return s(this.mapTransform(this.srcElement.transform()))},transformChange:function(a){a?this.allAttr(this.mapTransform(a)):this.removeAttr(D)},mapStyle:function(){var a=this.srcElement.options,b=[["cursor",a.cursor]];return a.visible===!1&&b.push(["display",y]),b},renderStyle:function(){return r("style",o.renderStyle(this.mapStyle()))},renderOpacity:function(){return r("opacity",this.srcElement.options.opacity)},createDefinitions:function(){var a,b,c,d,e=this.srcElement,f=this.definitions;if(e){c=e.options;for(b in X)a=c.get(b),a&&g(b,a)&&(f[b]=a,d=!0);d&&this.definitionChange({action:"add",definitions:f})}},definitionChange:function(a){this.parent&&this.parent.definitionChange(a)},updateDefinition:function(a,b){var c=this.definitions,e=c[a],f=X[a],g={};e&&(g[a]=e,this.definitionChange({action:"remove",definitions:g}),delete c[a]),b?(g[a]=b,this.definitionChange({action:"add",definitions:g}),c[a]=b,this.attr(f,d(b.id))):e&&this.removeAttr(f)},clearDefinitions:function(){var a,b=this.definitions;for(a in b){this.definitionChange({action:"remove",definitions:b}),this.definitions={};break}},renderDefinitions:function(){return s(this.mapDefinitions())},mapDefinitions:function(){var a,b=this.definitions,c=[];for(a in b)c.push([X[a],d(b[a].id)]);return c}}),H=G.extend({init:function(a){G.fn.init.call(this),this.options=a,this.defs=new I},attachTo:function(a){this.element=a,this.defs.attachTo(a.firstElementChild)},clear:function(){n.fn.clear.call(this)},template:t("#=d.defs.render()##= d.renderChildren() #"),definitionChange:function(a){this.defs.definitionChange(a)}}),I=G.extend({init:function(){G.fn.init.call(this),this.definitionMap={}},attachTo:function(a){this.element=a},template:t("<defs>#= d.renderChildren()#</defs>"),definitionChange:function(a){var b=a.definitions,c=a.action;"add"==c?this.addDefinitions(b):"remove"==c&&this.removeDefinitions(b)},createDefinition:function(a,b){var c;return"clip"==a?c=J:"fill"==a&&(b instanceof m.LinearGradient?c=T:b instanceof m.RadialGradient&&(c=U)),new c(b)},addDefinitions:function(a){for(var b in a)this.addDefinition(b,a[b])},addDefinition:function(a,b){var c,d,e=this.definitionMap,f=b.id,g=this.element;d=e[f],d?d.count++:(c=this.createDefinition(a,b),e[f]={element:c,count:1},this.append(c),g&&c.attachTo(this.element))},removeDefinitions:function(a){for(var b in a)this.removeDefinition(a[b])},removeDefinition:function(a){var b,c=this.definitionMap,d=a.id;b=c[d],b&&(b.count--,0===b.count&&(this.remove(u(b.element,this.childNodes),1),delete c[d]))}}),J=G.extend({init:function(a){G.fn.init.call(this),this.srcElement=a,this.id=a.id,this.load([a])},template:t("<clipPath id='#=d.id#'>#= d.renderChildren()#</clipPath>")}),K=G.extend({template:t("<g#= d.renderTransform() + d.renderStyle() + d.renderOpacity() + d.renderDefinitions()#>#= d.renderChildren() #</g>"),optionsChange:function(a){a.field==D&&this.transformChange(a.value),G.fn.optionsChange.call(this,a)}}),L=G.extend({geometryChange:function(){this.attr("d",this.renderData()),this.invalidate()},optionsChange:function(a){switch(a.field){case"fill":a.value?this.allAttr(this.mapFill(a.value)):this.removeAttr("fill");break;case"fill.color":this.allAttr(this.mapFill({color:a.value}));break;case"stroke":a.value?this.allAttr(this.mapStroke(a.value)):this.removeAttr("stroke");break;case D:this.transformChange(a.value);break;default:var b=this.attributeMap[a.field];b&&this.attr(b,a.value)}G.fn.optionsChange.call(this,a)},attributeMap:{"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},content:function(a){this.element&&(this.element.textContent=this.srcElement.content())},renderData:function(){return this.printPath(this.srcElement)},printPath:function(a){var b=a.segments,c=b.length;if(c>0){var d,e,f,g,h=[];for(g=1;g<c;g++)e=this.segmentType(b[g-1],b[g]),e!==f&&(f=e,h.push(e)),"L"===e?h.push(this.printPoints(b[g].anchor())):h.push(this.printPoints(b[g-1].controlOut(),b[g].controlIn(),b[g].anchor()));return d="M"+this.printPoints(b[0].anchor())+B+h.join(B),a.options.closed&&(d+="Z"),d}},printPoints:function(){var a,b=arguments,c=b.length,d=[];for(a=0;a<c;a++)d.push(b[a].toString(3));return d.join(B)},segmentType:function(a,b){return a.controlOut()&&b.controlIn()?"C":"L"},mapStroke:function(a){var b=[];return a&&!q(a.color)?(b.push(["stroke",a.color]),b.push(["stroke-width",a.width]),b.push(["stroke-linecap",this.renderLinecap(a)]),b.push(["stroke-linejoin",a.lineJoin]),p(a.opacity)&&b.push(["stroke-opacity",a.opacity]),p(a.dashType)&&b.push(["stroke-dasharray",this.renderDashType(a)])):b.push(["stroke",y]),b},renderStroke:function(){return s(this.mapStroke(this.srcElement.options.stroke))},renderDashType:function(a){var b=a.width||1,c=a.dashType;if(c&&c!=A){var d,e=w[c.toLowerCase()],f=[];for(d=0;d<e.length;d++)f.push(e[d]*b);return f.join(" ")}},renderLinecap:function(a){var b=a.dashType,c=a.lineCap;return b&&b!=A?v:c},mapFill:function(a){var b=[];return a&&a.nodeType==x||(a&&!q(a.color)?(b.push(["fill",a.color]),p(a.opacity)&&b.push(["fill-opacity",a.opacity])):b.push(["fill",y])),b},renderFill:function(){return s(this.mapFill(this.srcElement.options.fill))},template:t("<path #= d.renderStyle() # #= d.renderOpacity() # #= kendo.util.renderAttr('d', d.renderData()) # #= d.renderStroke() # #= d.renderFill() # #= d.renderDefinitions() # #= d.renderTransform() #></path>")}),M=L.extend({renderData:function(){return this.printPath(this.srcElement.toPath())}}),N=L.extend({renderData:function(){var a=this.srcElement.paths;if(a.length>0){var b,c=[];for(b=0;b<a.length;b++)c.push(this.printPath(a[b]));return c.join(" ")}}}),O=L.extend({geometryChange:function(){var a=this.center();this.attr("cx",a.x),this.attr("cy",a.y),this.attr("r",this.radius()),this.invalidate()},center:function(){return this.srcElement.geometry().center},radius:function(){return this.srcElement.geometry().radius},template:t("<circle #= d.renderStyle() # #= d.renderOpacity() # cx='#= d.center().x #' cy='#= d.center().y #' r='#= d.radius() #' #= d.renderStroke() # #= d.renderFill() # #= d.renderDefinitions() # #= d.renderTransform() # ></circle>")}),P=L.extend({geometryChange:function(){var a=this.pos();this.attr("x",a.x),this.attr("y",a.y),this.invalidate()},optionsChange:function(a){"font"===a.field?(this.attr("style",o.renderStyle(this.mapStyle())),this.geometryChange()):"content"===a.field&&L.fn.content.call(this,this.srcElement.content()),L.fn.optionsChange.call(this,a)},mapStyle:function(){var a=L.fn.mapStyle.call(this),b=this.srcElement.options.font;return a.push(["font",j.htmlEncode(b)]),a},pos:function(){var a=this.srcElement.position(),b=this.srcElement.measure();return a.clone().setY(a.y+b.baseline)},content:function(){var a=this.srcElement.content(),b=this.root().options;return b&&b.encodeText&&(a=h(a),a=j.htmlEncode(a)),a},template:t("<text #= d.renderStyle() # #= d.renderOpacity() # x='#= this.pos().x #' y='#= this.pos().y #' #= d.renderStroke() # #= d.renderTransform() # #= d.renderDefinitions() # #= d.renderFill() #>#= d.content() #</text>")}),Q=L.extend({geometryChange:function(){this.allAttr(this.mapPosition()),this.invalidate()},optionsChange:function(a){"src"===a.field&&this.allAttr(this.mapSource()),L.fn.optionsChange.call(this,a)},mapPosition:function(){var a=this.srcElement.rect(),b=a.topLeft();return[["x",b.x],["y",b.y],["width",a.width()+"px"],["height",a.height()+"px"]]},renderPosition:function(){return s(this.mapPosition())},mapSource:function(){return[["xlink:href",this.srcElement.src()]]},renderSource:function(){return s(this.mapSource())},template:t("<image preserveAspectRatio='none' #= d.renderStyle() # #= d.renderTransform()# #= d.renderOpacity() # #= d.renderPosition() # #= d.renderSource() # #= d.renderDefinitions()#></image>")}),R=G.extend({template:t("<stop #=d.renderOffset()# #=d.renderStyle()# />"),renderOffset:function(){return r("offset",this.srcElement.offset())},mapStyle:function(){var a=this.srcElement;return[["stop-color",a.color()],["stop-opacity",a.opacity()]]},optionsChange:function(a){"offset"==a.field?this.attr(a.field,a.value):"color"!=a.field&&"opacity"!=a.field||this.css("stop-"+a.field,a.value)}}),S=G.extend({init:function(a){G.fn.init.call(this,a),this.id=a.id,this.loadStops()},loadStops:function(){var a,b,c=this.srcElement,d=c.stops,e=this.element;for(b=0;b<d.length;b++)a=new R(d[b]),this.append(a),e&&a.attachTo(e)},optionsChange:function(a){"gradient.stops"==a.field?(n.fn.clear.call(this),this.loadStops()):a.field==x&&this.allAttr(this.mapCoordinates())},renderCoordinates:function(){return s(this.mapCoordinates())},mapSpace:function(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]}}),T=S.extend({template:t("<linearGradient id='#=d.id#' #=d.renderCoordinates()#>#= d.renderChildren()#</linearGradient>"),mapCoordinates:function(){var a=this.srcElement,b=a.start(),c=a.end(),d=[["x1",b.x],["y1",b.y],["x2",c.x],["y2",c.y],this.mapSpace()];return d}}),U=S.extend({template:t("<radialGradient id='#=d.id#' #=d.renderCoordinates()#>#= d.renderChildren()#</radialGradient>"),mapCoordinates:function(){var a=this.srcElement,b=a.center(),c=a.radius(),d=[["cx",b.x],["cy",b.y],["r",c],this.mapSpace()];return d}}),V={Group:K,Text:P,Path:L,MultiPath:N,Circle:O,Arc:M,Image:Q},W=function(a,b){a.innerHTML=b};!function(){var a="<svg xmlns='"+C+"'></svg>",b=i.createElement("div"),c=typeof DOMParser!=E;b.innerHTML=a,c&&b.firstChild.namespaceURI!=C&&(W=function(a,b){var c=new DOMParser,d=c.parseFromString(b,"text/xml"),e=i.adoptNode(d.documentElement);a.innerHTML="",a.appendChild(e)})}(),h._element=document.createElement("span");var X={clip:"clip-path",fill:"fill"};j.support.svg=function(){return i.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}(),j.support.svg&&m.SurfaceFactory.current.register("svg",F,10),k(m,{exportSVG:f,svg:{ArcNode:M,CircleNode:O,ClipNode:J,DefinitionNode:I,GradientStopNode:R,GroupNode:K,ImageNode:Q,LinearGradientNode:T,MultiPathNode:N,Node:G,PathNode:L,RadialGradientNode:U,RootNode:H,Surface:F,TextNode:P,_exportGroup:e}})}(window.kendo.jQuery),function(a){function b(b,c){var d={width:"800px",height:"600px",cors:"Anonymous"},e=b.clippedBBox();if(e){var g=e.getOrigin(),h=new m.Group;h.transform(l.transform().translate(-g.x,-g.y)),h.children.push(b),b=h;var i=e.getSize();d.width=i.width+"px",d.height=i.height+"px"}c=f(d,c);var j=a("<div />").css({display:"none",width:c.width,height:c.height}).appendTo(document.body),k=new s(j,c);k.draw(b);var n=k.image();return n.always(function(){k.destroy(),j.remove()}),n}function c(a,b){var c,d,f;for(f=0;f<b.length;f++)d=b[f],c=e.parseColor(d.color()),c.a*=d.opacity(),a.addColorStop(d.offset(),c.toCssRgba())}var d=(a.noop,document),e=window.kendo,f=e.deepExtend,g=e.util,h=g.defined,i=g.isTransparent,j=g.renderTemplate,k=g.valueOrDefault,l=e.geometry,m=e.drawing,n=m.BaseNode,o="butt",p=m.DASH_ARRAYS,q=1e3/60,r="solid",s=m.Surface.extend({init:function(b,c){m.Surface.fn.init.call(this,b,c),this.element[0].innerHTML=this._template(this);var d=this.element[0].firstElementChild;d.width=a(b).width(),d.height=a(b).height(),this._rootElement=d,this._root=new v(d)},destroy:function(){m.Surface.fn.destroy.call(this),this._root&&(this._root.destroy(),this._root=null)},type:"canvas",draw:function(a){m.Surface.fn.draw.call(this,a),this._root.load([a],void 0,this.options.cors)},clear:function(){m.Surface.fn.clear.call(this),this._root.clear()},image:function(){var b=this._root,c=this._rootElement,d=[];b.traverse(function(a){a.loading&&d.push(a.loading)});var e=a.Deferred();return a.when.apply(a,d).done(function(){b._invalidate();try{var a=c.toDataURL();e.resolve(a)}catch(d){e.reject(d)}}).fail(function(a){e.reject(a)}),e.promise()},_resize:function(){this._rootElement.width=this._size.width,this._rootElement.height=this._size.height,this._root.invalidate()},_template:j("<canvas style='width: 100%; height: 100%;'></canvas>")}),t=n.extend({init:function(a){n.fn.init.call(this,a),a&&this.initClip()},initClip:function(){var a=this.srcElement.clip();a&&(this.clip=a,a.addObserver(this))},clear:function(){this.srcElement&&this.srcElement.removeObserver(this),this.clearClip(),n.fn.clear.call(this)},clearClip:function(){this.clip&&(this.clip.removeObserver(this),delete this.clip)},setClip:function(a){this.clip&&(a.beginPath(),w.fn.renderPoints(a,this.clip),a.clip())},optionsChange:function(a){"clip"==a.field&&(this.clearClip(),this.initClip()),n.fn.optionsChange.call(this,a)},setTransform:function(a){if(this.srcElement){var b=this.srcElement.transform();b&&a.transform.apply(a,b.matrix().toArray(6))}},load:function(a,b,c){var d,e,f,g,i=this;for(g=0;g<a.length;g++)e=a[g],f=e.children,d=new C[e.nodeType](e,c),f&&f.length>0&&d.load(f,b,c),h(b)?i.insertAt(d,b):i.append(d);i.invalidate()},setOpacity:function(a){if(this.srcElement){var b=this.srcElement.opacity();h(b)&&this.globalAlpha(a,b)}},globalAlpha:function(a,b){b&&a.globalAlpha&&(b*=a.globalAlpha),a.globalAlpha=b},visible:function(){var a=this.srcElement;return!a||a&&a.options.visible!==!1}}),u=t.extend({renderTo:function(a){if(this.visible()){a.save(),this.setTransform(a),this.setClip(a),this.setOpacity(a);for(var b=this.childNodes,c=0;c<b.length;c++){var d=b[c];d.visible()&&d.renderTo(a)}a.restore();
}}});m.mixins.Traversable.extend(u.fn,"childNodes");var v=u.extend({init:function(b){u.fn.init.call(this),this.canvas=b,this.ctx=b.getContext("2d"),this.invalidate=e.throttle(a.proxy(this._invalidate,this),q)},destroy:function(){u.fn.destroy.call(this),this.canvas=null,this.ctx=null},_invalidate:function(){this.ctx&&(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderTo(this.ctx))}});m.mixins.Traversable.extend(v.fn,"childNodes");var w=t.extend({renderTo:function(a){a.save(),this.setTransform(a),this.setClip(a),this.setOpacity(a),a.beginPath(),this.renderPoints(a,this.srcElement),this.setLineDash(a),this.setLineCap(a),this.setLineJoin(a),this.setFill(a),this.setStroke(a),a.restore()},setFill:function(a){var b=this.srcElement.options.fill,c=!1;return b&&("gradient"==b.nodeType?(this.setGradientFill(a,b),c=!0):i(b.color)||(a.fillStyle=b.color,a.save(),this.globalAlpha(a,b.opacity),a.fill(),a.restore(),c=!0)),c},setGradientFill:function(a,b){var d,e=this.srcElement.rawBBox();if(b instanceof m.LinearGradient){var f=b.start(),g=b.end();d=a.createLinearGradient(f.x,f.y,g.x,g.y)}else if(b instanceof m.RadialGradient){var h=b.center();d=a.createRadialGradient(h.x,h.y,0,h.x,h.y,b.radius())}c(d,b.stops),a.save(),b.userSpace()||a.transform(e.width(),0,0,e.height(),e.origin.x,e.origin.y),a.fillStyle=d,a.fill(),a.restore()},setStroke:function(a){var b=this.srcElement.options.stroke;if(b&&!i(b.color)&&b.width>0)return a.strokeStyle=b.color,a.lineWidth=k(b.width,1),a.save(),this.globalAlpha(a,b.opacity),a.stroke(),a.restore(),!0},dashType:function(){var a=this.srcElement.options.stroke;if(a&&a.dashType)return a.dashType.toLowerCase()},setLineDash:function(a){var b=this.dashType();if(b&&b!=r){var c=p[b];a.setLineDash?a.setLineDash(c):(a.mozDash=c,a.webkitLineDash=c)}},setLineCap:function(a){var b=this.dashType(),c=this.srcElement.options.stroke;b&&b!==r?a.lineCap=o:c&&c.lineCap&&(a.lineCap=c.lineCap)},setLineJoin:function(a){var b=this.srcElement.options.stroke;b&&b.lineJoin&&(a.lineJoin=b.lineJoin)},renderPoints:function(a,b){var c=b.segments;if(0!==c.length){var d=c[0],e=d.anchor();a.moveTo(e.x,e.y);for(var f=1;f<c.length;f++){d=c[f],e=d.anchor();var g=c[f-1],h=g.controlOut(),i=d.controlIn();h&&i?a.bezierCurveTo(h.x,h.y,i.x,i.y,e.x,e.y):a.lineTo(e.x,e.y)}b.options.closed&&a.closePath()}}}),x=w.extend({renderPoints:function(a){for(var b=this.srcElement.paths,c=0;c<b.length;c++)w.fn.renderPoints(a,b[c])}}),y=w.extend({renderPoints:function(a){var b=this.srcElement.geometry(),c=b.center,d=b.radius;a.arc(c.x,c.y,d,0,2*Math.PI)}}),z=w.extend({renderPoints:function(a){var b=this.srcElement.toPath();w.fn.renderPoints.call(this,a,b)}}),A=w.extend({renderTo:function(a){var b=this.srcElement,c=b.position(),d=b.measure();a.save(),this.setTransform(a),this.setClip(a),this.setOpacity(a),a.beginPath(),a.font=b.options.font,this.setFill(a)&&a.fillText(b.content(),c.x,c.y+d.baseline),this.setStroke(a)&&(this.setLineDash(a),a.strokeText(b.content(),c.x,c.y+d.baseline)),a.restore()}}),B=w.extend({init:function(b,c){w.fn.init.call(this,b),this.onLoad=a.proxy(this.onLoad,this),this.onError=a.proxy(this.onError,this),this.loading=a.Deferred();var d=this.img=new Image;c&&!/^data:/i.test(b.src())&&(d.crossOrigin=c);d.src=b.src();d.complete?this.onLoad():(d.onload=this.onLoad,d.onerror=this.onError)},renderTo:function(a){"resolved"===this.loading.state()&&(a.save(),this.setTransform(a),this.setClip(a),this.drawImage(a),a.restore())},optionsChange:function(b){"src"===b.field?(this.loading=a.Deferred(),this.img.src=this.srcElement.src()):w.fn.optionsChange.call(this,b)},onLoad:function(){this.loading.resolve(),this.invalidate()},onError:function(){this.loading.reject(new Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))},drawImage:function(a){var b=this.srcElement.rect(),c=b.topLeft();a.drawImage(this.img,c.x,c.y,b.width(),b.height())}}),C={Group:u,Text:A,Path:w,MultiPath:x,Circle:y,Arc:z,Image:B};e.support.canvas=function(){return!!d.createElement("canvas").getContext}(),e.support.canvas&&m.SurfaceFactory.current.register("canvas",s,20),f(e.drawing,{exportImage:b,canvas:{ArcNode:z,CircleNode:y,GroupNode:u,ImageNode:B,MultiPathNode:x,Node:t,PathNode:w,RootNode:v,Surface:s,TextNode:A}})}(window.kendo.jQuery),function(a){function b(){if(k.namespaces&&!k.namespaces.kvml){k.namespaces.add("kvml","urn:schemas-microsoft-com:vml");var a=k.styleSheets.length>30?k.styleSheets[0]:k.createStyleSheet();a.addRule(".kvml","behavior:url(#default#VML)")}}function c(a){var b=k.createElement("kvml:"+a);return b.className="kvml",b}function d(a){for(var b=a.length,c=[],d=0;d<b;d++)c.push(a[d].scaleCopy(F).toString(0,","));return c.join(" ")}function e(a,b){var c=a.segments,e=c.length;if(e>0){var g,h,i,j,k=[];for(j=1;j<e;j++)h=f(c[j-1],c[j]),h!==i&&(i=h,k.push(h)),"l"===h?k.push(d([c[j].anchor()])):k.push(d([c[j-1].controlOut(),c[j].controlIn(),c[j].anchor()]));return g="m "+d([c[0].anchor()])+" "+k.join(" "),a.options.closed&&(g+=" x"),b!==!0&&(g+=" e"),g}}function f(a,b){return a.controlOut()&&b.controlIn()?"c":"l"}function g(a){return 0===a.indexOf("fill")||0===a.indexOf(H)}function h(a,b,c){var d,e=c*C(b.opacity(),1);return d=a?i(a,b.color(),e):i(b.color(),"#fff",1-e)}function i(a,b,c){var d=new w(a),e=new w(b),f=j(d.r,e.r,c),g=j(d.g,e.g,c),h=j(d.b,e.b,c);return new w(f,g,h).toHex()}function j(a,b,c){return l.round(c*b+(1-c)*a)}var k=document,l=Math,m=l.atan2,n=l.ceil,o=l.sqrt,p=window.kendo,q=p.deepExtend,r=a.noop,s=p.drawing,t=s.BaseNode,u=p.geometry,v=u.toMatrix,w=p.Color,x=p.util,y=x.isTransparent,z=x.defined,A=x.deg,B=(x.renderTemplate,x.round),C=x.valueOrDefault,D="none",E=".kendo",F=100,G=F*F,H="gradient",I=4,J=s.Surface.extend({init:function(a,c){s.Surface.fn.init.call(this,a,c),b(),this.element.empty(),this._root=new L,this._root.attachTo(this.element[0]),this.element.on("click"+E,this._click),this.element.on("mouseover"+E,this._mouseenter),this.element.on("mouseout"+E,this._mouseleave)},type:"vml",destroy:function(){this._root&&(this._root.destroy(),this._root=null,this.element.off(E)),s.Surface.fn.destroy.call(this)},draw:function(a){s.Surface.fn.draw.call(this,a),this._root.load([a],void 0,null)},clear:function(){s.Surface.fn.clear.call(this),this._root.clear()}}),K=t.extend({init:function(a){t.fn.init.call(this,a),this.createElement(),this.attachReference()},observe:r,destroy:function(){this.element&&(this.element._kendoNode=null,this.element=null),t.fn.destroy.call(this)},clear:function(){this.element&&(this.element.innerHTML="");for(var a=this.childNodes,b=0;b<a.length;b++)a[b].destroy();this.childNodes=[]},removeSelf:function(){this.element&&(this.element.parentNode.removeChild(this.element),this.element=null),t.fn.removeSelf.call(this)},createElement:function(){this.element=k.createElement("div")},attachReference:function(){this.element._kendoNode=this},load:function(a,b,c,d){d=C(d,1),this.srcElement&&(d*=C(this.srcElement.options.opacity,1));for(var e=0;e<a.length;e++){var f=a[e],g=f.children,h=f.currentTransform(c),i=d*C(f.options.opacity,1),j=new fa[f.nodeType](f,h,i);g&&g.length>0&&j.load(g,b,h,d),z(b)?this.insertAt(j,b):this.append(j),j.attachTo(this.element,b)}},attachTo:function(a,b){z(b)?a.insertBefore(this.element,a.children[b]||null):a.appendChild(this.element)},optionsChange:function(a){"visible"==a.field&&this.css("display",a.value!==!1?"":D)},setStyle:function(){this.allCss(this.mapStyle())},mapStyle:function(){var a=[];return this.srcElement&&this.srcElement.options.visible===!1&&a.push(["display",D]),a},mapOpacityTo:function(a,b){var c=C(this.opacity,1);c*=C(b,1),a.push(["opacity",c])},attr:function(a,b){this.element&&(this.element[a]=b)},allAttr:function(a){for(var b=0;b<a.length;b++)this.attr(a[b][0],a[b][1])},css:function(a,b){this.element&&(this.element.style[a]=b)},allCss:function(a){for(var b=0;b<a.length;b++)this.css(a[b][0],a[b][1])}}),L=K.extend({createElement:function(){K.fn.createElement.call(this),this.allCss([["width","100%"],["height","100%"],["position","relative"],["visibility","visible"]])},attachReference:r}),M=p.Class.extend({init:function(a,b){this.srcElement=a,this.observer=b,a.addObserver(this)},geometryChange:function(){this.observer.optionsChange({field:"clip",value:this.srcElement})},clear:function(){this.srcElement.removeObserver(this)}}),N=K.extend({init:function(a){K.fn.init.call(this,a),a&&this.initClip()},observe:function(){t.fn.observe.call(this)},mapStyle:function(){var a=K.fn.mapStyle.call(this);return this.srcElement&&this.srcElement.clip()&&a.push(["clip",this.clipRect()]),a},optionsChange:function(a){"clip"==a.field&&(this.clearClip(),this.initClip(),this.setClip()),K.fn.optionsChange.call(this,a)},clear:function(){this.clearClip(),K.fn.clear.call(this)},initClip:function(){this.srcElement.clip()&&(this.clip=new M(this.srcElement.clip(),this),this.clip.observer=this)},clearClip:function(){this.clip&&(this.clip.clear(),this.clip=null,this.css("clip",this.clipRect()))},setClip:function(){this.clip&&this.css("clip",this.clipRect())},clipRect:function(){var a=ga,b=this.srcElement.clip();if(b){var c=this.clipBBox(b),d=c.topLeft(),e=c.bottomRight();a=p.format("rect({0}px {1}px {2}px {3}px)",d.y,e.x,e.y,d.x)}return a},clipBBox:function(a){var b=this.srcElement.rawBBox().topLeft(),c=a.rawBBox();return c.origin.translate(-b.x,-b.y),c}}),O=N.extend({createElement:function(){K.fn.createElement.call(this),this.setStyle()},attachTo:function(a,b){this.css("display",D),K.fn.attachTo.call(this,a,b),this.srcElement.options.visible!==!1&&this.css("display","")},_attachTo:function(a){var b=document.createDocumentFragment();b.appendChild(this.element),a.appendChild(b)},mapStyle:function(){var a=N.fn.mapStyle.call(this);return a.push(["position","absolute"]),a.push(["white-space","nowrap"]),a},optionsChange:function(a){"transform"===a.field&&this.refreshTransform(),"opacity"===a.field&&this.refreshOpacity(),N.fn.optionsChange.call(this,a)},refreshTransform:function(a){var b,c=this.srcElement.currentTransform(a),d=this.childNodes,e=d.length;for(this.setClip(),b=0;b<e;b++)d[b].refreshTransform(c)},currentOpacity:function(){var a=C(this.srcElement.options.opacity,1);return this.parent&&this.parent.currentOpacity&&(a*=this.parent.currentOpacity()),a},refreshOpacity:function(){var a,b=this.childNodes,c=b.length,d=this.currentOpacity();for(a=0;a<c;a++)b[a].refreshOpacity(d)},initClip:function(){if(N.fn.initClip.call(this),this.clip){var a=this.clip.srcElement.bbox(this.srcElement.currentTransform());a&&(this.css("width",a.width()+a.origin.x),this.css("height",a.height()+a.origin.y))}},clipBBox:function(a){return a.bbox(this.srcElement.currentTransform())},clearClip:function(){N.fn.clearClip.call(this)}}),P=K.extend({init:function(a,b){this.opacity=b,K.fn.init.call(this,a)},createElement:function(){this.element=c("stroke"),this.setOpacity()},optionsChange:function(a){0===a.field.indexOf("stroke")&&this.setStroke()},refreshOpacity:function(a){this.opacity=a,this.setStroke()},setStroke:function(){this.allAttr(this.mapStroke())},setOpacity:function(){this.setStroke()},mapStroke:function(){var a=this.srcElement.options.stroke,b=[];if(a&&!y(a.color)&&0!==a.width){if(b.push(["on","true"]),b.push(["color",a.color]),b.push(["weight",(a.width||1)+"px"]),this.mapOpacityTo(b,a.opacity),z(a.dashType)&&b.push(["dashstyle",a.dashType]),z(a.lineJoin)&&b.push(["joinstyle",a.lineJoin]),z(a.lineCap)){var c=a.lineCap.toLowerCase();"butt"===c&&(c="butt"===c?"flat":c),b.push(["endcap",c])}}else b.push(["on","false"]);return b}}),Q=K.extend({init:function(a,b,c){this.opacity=c,K.fn.init.call(this,a)},createElement:function(){this.element=c("fill"),this.setFill()},optionsChange:function(a){g(a.field)&&this.setFill()},refreshOpacity:function(a){this.opacity=a,this.setOpacity()},setFill:function(){this.allAttr(this.mapFill())},setOpacity:function(){this.setFill()},attr:function(a,b){var c=this.element;if(c){for(var d=a.split(".");d.length>1;)c=c[d.shift()];c[d[0]]=b}},mapFill:function(){var a=this.srcElement.fill(),b=[["on","false"]];return a&&(a.nodeType==H?b=this.mapGradient(a):y(a.color)||(b=this.mapFillColor(a))),b},mapFillColor:function(a){var b=[["on","true"],["color",a.color]];return this.mapOpacityTo(b,a.opacity),b},mapGradient:function(a){var b,c=this.srcElement.options,d=c.fallbackFill||a.fallbackFill&&a.fallbackFill();return b=a instanceof s.LinearGradient?this.mapLinearGradient(a):a instanceof s.RadialGradient&&a.supportVML?this.mapRadialGradient(a):d?this.mapFillColor(d):[["on","false"]]},mapLinearGradient:function(a){var b=a.start(),c=a.end(),d=(a.stops,x.deg(m(c.y-b.y,c.x-b.x))),e=[["on","true"],["type",H],["focus",0],["method","none"],["angle",270-d]];return this.addColors(e),e},mapRadialGradient:function(a){var b=this.srcElement.rawBBox(),c=a.center(),d=(a.stops,(c.x-b.origin.x)/b.width()),e=(c.y-b.origin.y)/b.height(),f=[["on","true"],["type","gradienttitle"],["focus","100%"],["focusposition",d+" "+e],["method","none"]];return this.addColors(f),f},addColors:function(a){for(var b,c=this.srcElement.options,d=C(this.opacity,1),e=[],f=c.fill.stops,g=c.baseColor,i=this.element.colors?"colors.value":"colors",j=h(g,f[0],d),k=h(g,f[f.length-1],d),m=0;m<f.length;m++)b=f[m],e.push(l.round(100*b.offset())+"% "+h(g,b,d));a.push([i,e.join(",")],["color",j],["color2",k])}}),R=K.extend({init:function(a,b){this.transform=b,K.fn.init.call(this,a)},createElement:function(){this.element=c("skew"),this.setTransform()},optionsChange:function(a){"transform"===a.field&&this.refresh(this.srcElement.currentTransform())},refresh:function(a){this.transform=a,this.setTransform()},transformOrigin:function(){return"-0.5,-0.5"},setTransform:function(){this.allAttr(this.mapTransform())},mapTransform:function(){var a=this.transform,b=[],c=v(a);return c?(c.round(I),b.push(["on","true"],["matrix",[c.a,c.c,c.b,c.d,0,0].join(",")],["offset",c.e+"px,"+c.f+"px"],["origin",this.transformOrigin()])):b.push(["on","false"]),b}}),S=N.extend({init:function(a,b,c){this.fill=this.createFillNode(a,b,c),this.stroke=new P(a,c),this.transform=this.createTransformNode(a,b),N.fn.init.call(this,a)},attachTo:function(a,b){this.fill.attachTo(this.element),this.stroke.attachTo(this.element),this.transform.attachTo(this.element),K.fn.attachTo.call(this,a,b)},createFillNode:function(a,b,c){return new Q(a,b,c)},createTransformNode:function(a,b){return new R(a,b)},createElement:function(){this.element=c("shape"),this.setCoordsize(),this.setStyle()},optionsChange:function(a){g(a.field)?this.fill.optionsChange(a):0===a.field.indexOf("stroke")?this.stroke.optionsChange(a):"transform"===a.field?this.transform.optionsChange(a):"opacity"===a.field&&(this.fill.setOpacity(),this.stroke.setOpacity()),N.fn.optionsChange.call(this,a)},refreshTransform:function(a){this.transform.refresh(this.srcElement.currentTransform(a))},refreshOpacity:function(a){a*=C(this.srcElement.options.opacity,1),this.fill.refreshOpacity(a),this.stroke.refreshOpacity(a)},mapStyle:function(a,b){var c=N.fn.mapStyle.call(this);a&&b||(a=b=F),c.push(["position","absolute"],["width",a+"px"],["height",b+"px"]);var d=this.srcElement.options.cursor;return d&&c.push(["cursor",d]),c},setCoordsize:function(){this.allAttr([["coordorigin","0 0"],["coordsize",G+" "+G]])}}),T=K.extend({createElement:function(){this.element=c("path"),this.setPathData()},geometryChange:function(){this.setPathData()},setPathData:function(){this.attr("v",this.renderData())},renderData:function(){return e(this.srcElement)}}),U=S.extend({init:function(a,b,c){this.pathData=this.createDataNode(a),S.fn.init.call(this,a,b,c)},attachTo:function(a,b){this.pathData.attachTo(this.element),S.fn.attachTo.call(this,a,b)},createDataNode:function(a){return new T(a)},geometryChange:function(){this.pathData.geometryChange(),S.fn.geometryChange.call(this)}}),V=T.extend({renderData:function(){var a=this.srcElement.paths;if(a.length>0){var b,c,d=[];for(b=0;b<a.length;b++)c=b<a.length-1,d.push(e(a[b],c));return d.join(" ")}}}),W=U.extend({createDataNode:function(a){return new V(a)}}),X=R.extend({transformOrigin:function(){var a=this.srcElement.geometry().bbox(),b=a.center(),c=-n(b.x)/n(a.width()),d=-n(b.y)/n(a.height());return c+","+d}}),Y=S.extend({createElement:function(){this.element=c("oval"),this.setStyle()},createTransformNode:function(a,b){return new X(a,b)},geometryChange:function(){S.fn.geometryChange.call(this),this.setStyle(),this.refreshTransform()},mapStyle:function(){var a=this.srcElement.geometry(),b=a.radius,c=a.center,d=n(2*b),e=S.fn.mapStyle.call(this,d,d);return e.push(["left",n(c.x-b)+"px"],["top",n(c.y-b)+"px"]),e}}),Z=T.extend({renderData:function(){return e(this.srcElement.toPath())}}),$=U.extend({createDataNode:function(a){return new Z(a)}}),_=T.extend({createElement:function(){T.fn.createElement.call(this),this.attr("textpathok",!0)},renderData:function(){var a=this.srcElement.rect(),b=a.center();return"m "+d([new u.Point(a.topLeft().x,b.y)])+" l "+d([new u.Point(a.bottomRight().x,b.y)])}}),aa=K.extend({createElement:function(){this.element=c("textpath"),this.attr("on",!0),this.attr("fitpath",!1),this.setStyle(),this.setString()},optionsChange:function(a){"content"===a.field?this.setString():this.setStyle(),K.fn.optionsChange.call(this,a)},mapStyle:function(){return[["font",this.srcElement.options.font]]},setString:function(){this.attr("string",this.srcElement.content())}}),ba=U.extend({init:function(a,b,c){this.path=new aa(a),U.fn.init.call(this,a,b,c)},createDataNode:function(a){return new _(a)},attachTo:function(a,b){this.path.attachTo(this.element),U.fn.attachTo.call(this,a,b)},optionsChange:function(a){"font"!==a.field&&"content"!==a.field||(this.path.optionsChange(a),this.pathData.geometryChange(a)),U.fn.optionsChange.call(this,a)}}),ca=T.extend({renderData:function(){var a=this.srcElement.rect(),b=(new s.Path).moveTo(a.topLeft()).lineTo(a.topRight()).lineTo(a.bottomRight()).lineTo(a.bottomLeft()).close();return e(b)}}),da=R.extend({init:function(a,b,c){this.opacity=c,R.fn.init.call(this,a,b)},createElement:function(){this.element=c("fill"),this.attr("type","frame"),this.attr("rotate",!0),this.setOpacity(),this.setSrc(),this.setTransform()},optionsChange:function(a){"src"===a.field&&this.setSrc(),R.fn.optionsChange.call(this,a)},geometryChange:function(){this.refresh()},refreshOpacity:function(a){this.opacity=a,this.setOpacity()},setOpacity:function(){var a=[];this.mapOpacityTo(a,this.srcElement.options.opacity),this.allAttr(a)},setSrc:function(){this.attr("src",this.srcElement.src())},mapTransform:function(){var a,b,c=this.srcElement,d=c.rawBBox(),e=d.center(),f=F/2,g=F,h=d.width()/g,i=d.height()/g,j=0,k=this.transform;if(k){var l=v(k),n=o(l.a*l.a+l.b*l.b),p=o(l.c*l.c+l.d*l.d);h*=n,i*=p;var q=A(m(l.b,l.d)),r=A(m(-l.c,l.a));if(j=(q+r)/2,0!==j){var s=c.bbox().center();a=(s.x-f)/g,b=(s.y-f)/g}else a=(e.x*n+l.e-f)/g,b=(e.y*p+l.f-f)/g}else a=(e.x-f)/g,b=(e.y-f)/g;return h=B(h,I),i=B(i,I),a=B(a,I),b=B(b,I),j=B(j,I),[["size",h+","+i],["position",a+","+b],["angle",j]]}}),ea=U.extend({createFillNode:function(a,b,c){return new da(a,b,c)},createDataNode:function(a){return new ca(a)},optionsChange:function(a){"src"!==a.field&&"transform"!==a.field||this.fill.optionsChange(a),U.fn.optionsChange.call(this,a)},geometryChange:function(){this.fill.geometryChange(),U.fn.geometryChange.call(this)},refreshTransform:function(a){U.fn.refreshTransform.call(this,a),this.fill.refresh(this.srcElement.currentTransform(a))}}),fa={Group:O,Text:ba,Path:U,MultiPath:W,Circle:Y,Arc:$,Image:ea};p.support.vml=function(){var a=p.support.browser;return a.msie&&a.version<9}();var ga="inherit";p.support.browser.msie&&p.support.browser.version<8&&(ga="rect(auto auto auto auto)"),p.support.vml&&s.SurfaceFactory.current.register("vml",J,30),q(s,{vml:{ArcDataNode:Z,ArcNode:$,CircleTransformNode:X,CircleNode:Y,FillNode:Q,GroupNode:O,ImageNode:ea,ImageFillNode:da,ImagePathDataNode:ca,MultiPathDataNode:V,MultiPathNode:W,Node:K,PathDataNode:T,PathNode:U,RootNode:L,StrokeNode:P,Surface:J,TextNode:ba,TextPathNode:aa,TextPathDataNode:_,TransformNode:R}})}(window.kendo.jQuery),function(a,b,c){"use strict";function d(c,d){function f(b){var c=new ca.Group,d=b.getBoundingClientRect();return G(c,[1,0,0,1,-d.left,-d.top]),ia._clipbox=!1,ia._matrix=da.Matrix.unit(),ia._stackingContext={element:b,group:c},a(b).addClass("k-pdf-export"),aa(b,c),a(b).removeClass("k-pdf-export"),c}function g(b){if(null!=b)return"string"==typeof b&&(b=kendo.template(b.replace(/^\s+|\s+$/g,""))),"function"==typeof b?function(c){var d=b(c);if(d)return a(d)[0]}:function(){return a(b).clone()[0]}}function h(c,d,e,f,h,i,j){function k(){function a(){setTimeout(function(){c({pages:w,container:y})},10)}("-"!=e||h)&&l(x);var b=p();if(x.parentNode.insertBefore(b,x),b.appendChild(x),s){var d=w.length;w.forEach(function(b,c){var e=s({element:b,pageNum:c+1,totalPages:w.length});e&&(b.appendChild(e),m(e,function(){0===--d&&a()}))})}else a()}function l(c){var d=u(c),f=b(v(d,"padding-bottom")),g=b(v(d,"border-bottom-width")),i=z;z+=f+g;for(var j=!0,k=c.firstChild;k;k=k.nextSibling)if(1==k.nodeType){j=!1;var m=a(k);if(m.is(e)){o(k);continue}if(!h){l(k);continue}if(!/^(?:static|relative)$/.test(v(u(k),"position")))continue;var n=q(k);1==n?o(k):n&&(m.data("kendoChart")||/^(?:img|tr|iframe|svg|object|canvas|input|textarea|select|video|h[1-6])/i.test(k.tagName))?o(k):l(k)}else 3==k.nodeType&&h&&(r(k,j),j=!1);z=i}function n(a){var b=a.parentNode,c=b.firstChild;if(a===c)return!0;if(a===b.children[0]){if(7==c.nodeType||8==c.nodeType)return!0;if(3==c.nodeType)return!/\S/.test(c.data)}return!1}function o(a){if(1==a.nodeType&&a!==x&&n(a))return o(a.parentNode);var b=p(),c=t.createRange();c.setStartBefore(x),c.setEndBefore(a),b.appendChild(c.extractContents()),x.parentNode.insertBefore(b,x)}function p(){var b=t.createElement("KENDO-PDF-PAGE");return a(b).css({display:"block",boxSizing:"content-box",width:f||"auto",padding:i.top+"px "+i.right+"px "+i.bottom+"px "+i.left+"px",position:"relative",height:h||"auto",overflow:h||f?"hidden":"visible",clear:"both"}),j&&j.pageClassName&&(b.className=j.pageClassName),w.push(b),b}function q(a){var b=a.getBoundingClientRect();if(0===b.width||0===b.height)return 0;var c=x.getBoundingClientRect().top,d=h-z;return b.height>d?3:b.top-c>d?1:b.bottom-c>d?2:0}function r(a,b){if(/\S/.test(a.data)){var c=a.data.length,d=t.createRange();d.selectNodeContents(a);var e=q(d);if(e){var f=a;if(1==e)o(b?a.parentNode:a);else if(function h(b,c,e){return d.setEnd(a,c),b==c||c==e?c:q(d)?h(b,b+c>>1,c):h(c,c+e>>1,e)}(0,c>>1,c),!/\S/.test(d.toString())&&b)o(a.parentNode);else{f=a.splitText(d.endOffset);var g=p();d.setStartBefore(x),g.appendChild(d.extractContents()),x.parentNode.insertBefore(g,x)}r(f)}}}var s=g(j.template),t=d.ownerDocument,w=[],x=a(d).clone(!0,!0)[0],y=t.createElement("KENDO-PDF-DOCUMENT"),z=0;a(y).css({display:"block",position:"absolute",boxSizing:"content-box",left:"-10000px",top:"-10000px"}),f&&(a(y).css({width:f,paddingLeft:i.left,paddingRight:i.right}),a(x).css({overflow:"hidden"})),y.appendChild(x),d.parentNode.insertBefore(y,d),j.beforePageBreak?setTimeout(function(){j.beforePageBreak(y,k)},15):setTimeout(k,15)}d||(d={});var i=a.Deferred();if(c=a(c)[0],!c)return i.reject("No element to export");if("function"!=typeof window.getComputedStyle)throw new Error("window.getComputedStyle is missing.  You are using an unsupported browser, or running in IE8 compatibility mode.  Drawing HTML is supported in Chrome, Firefox, Safari and IE9+.");return kendo.pdf&&kendo.pdf.defineFont(e(c.ownerDocument)),m(c,function(){var a=d&&d.forcePageBreak,b=d&&d.paperSize&&"auto"!=d.paperSize,e=b&&kendo.pdf.getPaperOptions(function(a,b){return a in d?d[a]:b}),g=b&&e.paperSize[0],j=b&&e.paperSize[1],k=d.margin&&e.margin;if(a||j){k||(k={left:0,top:0,right:0,bottom:0});var l=new ca.Group({pdf:{multiPage:!0,paperSize:b?e.paperSize:"auto"}});h(function(a){if(d.progress){var b=!1,c=0;!function e(){c<a.pages.length?(l.append(f(a.pages[c])),d.progress({pageNum:++c,totalPages:a.pages.length,cancel:function(){b=!0}}),b?a.container.parentNode.removeChild(a.container):setTimeout(e)):(a.container.parentNode.removeChild(a.container),i.resolve(l))}()}else a.pages.forEach(function(a){l.append(f(a))}),a.container.parentNode.removeChild(a.container),i.resolve(l)},c,a,g?g-k.left-k.right:null,j?j-k.top-k.bottom:null,k,d)}else i.resolve(f(c))}),i.promise()}function e(a){function b(a){if(a){var b=null;try{b=a.cssRules}catch(c){}b&&d(a,b)}}function c(a){var b=v(a.style,"src");if(b)return la(b).reduce(function(a,b){var c=ma(b);return c&&a.push(c),a},[]);var c=ma(a.cssText);return c?[c]:[]}function d(a,d){for(var f=0;f<d.length;++f){var g=d[f];switch(g.type){case 3:b(g.styleSheet);break;case 5:var h=g.style,i=la(v(h,"font-family")),j=/^(400|bold)$/i.test(v(h,"font-weight")),k="italic"==v(h,"font-style"),l=c(g);l.length>0&&e(a,i,j,k,l[0])}}}function e(a,b,c,d,e){/^[^\/:]+:\/\//.test(e)||/^\//.test(e)||(e=String(a.href).replace(/[^\/]*$/,"")+e),b.forEach(function(a){a=a.replace(/^(['"]?)(.*?)\1$/,"$2"),c&&(a+="|bold"),d&&(a+="|italic"),f[a]=e})}null==a&&(a=document);for(var f={},g=0;g<a.styleSheets.length;++g)b(a.styleSheets[g]);return f}function f(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function g(a){return a="_counter_"+a,ia[a]}function h(a){var b=[],c=ia;for(a="_counter_"+a;c;)f(c,a)&&b.push(c[a]),c=Object.getPrototypeOf(c);return b.reverse()}function i(a,b){var c=ia;for(a="_counter_"+a;c&&!f(c,a);)c=Object.getPrototypeOf(c);c||(c=ia._root),c[a]=(c[a]||0)+(null==b?1:b)}function j(a,b){a="_counter_"+a,ia[a]=null==b?0:b}function k(a,c,d){for(var e=0;e<a.length;){var f=a[e++],g=b(a[e]);isNaN(g)?c(f,d):(c(f,g),++e)}}function l(a,b){var c=kendo.parseColor(a);return c&&(c=c.toRGB(),b?c=c.toCssRgba():0===c.a&&(c=null)),c}function m(a,b){function c(a){ha[a]||(ha[a]=!0,e.push(a))}function d(){--f<=0&&b()}var e=[];!function g(a){/^img$/i.test(a.tagName)&&c(a.src),ka(v(u(a),"background-image")).forEach(function(a){"url"==a.type&&c(a.url)}),ea.call(a.children).forEach(g)}(a);var f=e.length;0===f&&d(),e.forEach(function(a){var b=ha[a]=new Image;/^data:/i.test(a)||(b.crossOrigin="Anonymous"),b.src=a,b.complete?d():(b.onload=d,b.onerror=function(){ha[a]=null,d()})})}function n(a){for(var b={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1e3:"m"},c=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],d="";a>0;)a<c[0]?c.shift():(d+=b[c[0]],a-=c[0]);return d}function o(a){var b="";do{var d=a%26;b=String.fromCharCode(97+d)+b,a=c.floor(a/26)}while(a>0);return b}function p(a,b,c){ia=Object.create(ia),ia[a.tagName.toLowerCase()]={element:a,style:b};var d=v(b,"text-decoration");if(d&&"none"!=d){var e=v(b,"color");d.split(/\s+/g).forEach(function(a){ia[a]||(ia[a]=e)})}t(b)&&(ia._stackingContext={element:a,group:c})}function q(){ia=Object.getPrototypeOf(ia)}function r(a){if(null!=ia._clipbox){var b=a.bbox(ia._matrix);ia._clipbox?ia._clipbox=da.Rect.intersect(ia._clipbox,b):ia._clipbox=b}}function s(){var a=ia._clipbox;return null==a||(a?0===a.width()||0===a.height():void 0)}function t(a){function b(b){return v(a,b)}if("none"!=b("transform")||"static"!=b("position")&&"auto"!=b("z-index")||b("opacity")<1)return!0}function u(a,b){return window.getComputedStyle(a,b||null)}function v(a,b){return a.getPropertyValue(b)||fa.webkit&&a.getPropertyValue("-webkit-"+b)||fa.mozilla&&a.getPropertyValue("-moz-"+b)||fa.opera&&a.getPropertyValue("-o-"+b)||fa.msie&&a.getPropertyValue("-ms-"+b)}function w(a,b,c,d){a.setProperty(b,c,d),fa.webkit?a.setProperty("-webkit-"+b,c,d):fa.mozilla?a.setProperty("-moz-"+b,c,d):fa.opera?a.setProperty("-o-"+b,c,d):fa.msie&&(a.setProperty("-ms-"+b,c,d),b="ms"+b.replace(/(^|-)([a-z])/g,function(a,b,c){return b+c.toUpperCase()}),a[b]=c)}function x(a){if(fa.msie){var b=a.getClientRects();if(2==b.length&&0===b[1].width)return b[0]}return a.getBoundingClientRect()}function y(a,c){return c="border-"+c,{width:b(v(a,c+"-width")),style:v(a,c+"-style"),color:l(v(a,c+"-color"),!0)}}function z(a,b){var c=a.style.cssText,d=b();return a.style.cssText=c,d}function A(a,c){var d=v(a,"border-"+c+"-radius").split(/\s+/g).map(b);return 1==d.length&&d.push(d[0]),J({x:d[0],y:d[1]})}function B(a){var b=a.getBoundingClientRect();return b=C(b,"border-*-width",a),b=C(b,"padding-*",a)}function C(a,c,d){var e,f,g,h,i;return"string"==typeof c?(e=u(d),f=b(v(e,c.replace("*","top"))),g=b(v(e,c.replace("*","right"))),h=b(v(e,c.replace("*","bottom"))),i=b(v(e,c.replace("*","left")))):"number"==typeof c&&(f=g=h=i=c),{top:a.top+f,right:a.right-g,bottom:a.bottom-h,left:a.left+i,width:a.right-a.left-g-i,height:a.bottom-a.top-h-f}}function D(a){var c=v(a,"transform");if("none"==c)return null;var d=/^\s*matrix\(\s*(.*?)\s*\)\s*$/.exec(c);if(d){var e=v(a,"transform-origin");return d=d[1].split(/\s*,\s*/g).map(b),e=e.split(/\s+/g).map(b),{matrix:d,origin:e}}}function E(a){return 180*a/c.PI%360}function F(a){var d=b(a);return/grad$/.test(a)?c.PI*d/200:/rad$/.test(a)?d:/turn$/.test(a)?c.PI*d*2:/deg$/.test(a)?c.PI*d/180:void 0}function G(a,b){return b=new da.Matrix(b[0],b[1],b[2],b[3],b[4],b[5]),a.transform(b),b}function H(a,b){a.clip(b)}function I(a,b,c,d){for(var e=new da.Arc([b,c],d).curvePoints(),f=1;f<e.length;)a.curveTo(e[f++],e[f++],e[f++])}function J(a){return(a.x<=0||a.y<=0)&&(a.x=a.y=0),a}function K(a,b,d,e,f){var g=c.max(0,b.x),h=c.max(0,b.y),i=c.max(0,d.x),j=c.max(0,d.y),k=c.max(0,e.x),l=c.max(0,e.y),m=c.max(0,f.x),n=c.max(0,f.y),o=c.min(a.width/(g+i),a.height/(j+l),a.width/(k+m),a.height/(n+h));return o<1&&(g*=o,h*=o,i*=o,j*=o,k*=o,l*=o,m*=o,n*=o),{tl:{x:g,y:h},tr:{x:i,y:j},br:{x:k,y:l},bl:{x:m,y:n}}}function L(a,c,d){var e=u(a),f=A(e,"top-left"),g=A(e,"top-right"),h=A(e,"bottom-left"),i=A(e,"bottom-right");if("padding"==d||"content"==d){var j=y(e,"top"),k=y(e,"right"),l=y(e,"bottom"),m=y(e,"left");if(f.x-=m.width,f.y-=j.width,g.x-=k.width,g.y-=j.width,i.x-=k.width,i.y-=l.width,h.x-=m.width,h.y-=l.width,"content"==d){var n=b(v(e,"padding-top")),o=b(v(e,"padding-right")),p=b(v(e,"padding-bottom")),q=b(v(e,"padding-left"));f.x-=q,f.y-=n,g.x-=o,g.y-=n,i.x-=o,i.y-=p,h.x-=q,h.y-=p}}return"number"==typeof d&&(f.x-=d,f.y-=d,g.x-=d,g.y-=d,i.x-=d,i.y-=d,h.x-=d,h.y-=d),M(c,f,g,i,h)}function M(a,b,c,d,e){var f=K(a,b,c,d,e),g=f.tl,h=f.tr,i=f.br,j=f.bl,k=new ca.Path({fill:null,stroke:null});return k.moveTo(a.left,a.top+g.y),g.x&&I(k,a.left+g.x,a.top+g.y,{startAngle:-180,endAngle:-90,radiusX:g.x,radiusY:g.y}),k.lineTo(a.right-h.x,a.top),h.x&&I(k,a.right-h.x,a.top+h.y,{startAngle:-90,endAngle:0,radiusX:h.x,radiusY:h.y}),k.lineTo(a.right,a.bottom-i.y),i.x&&I(k,a.right-i.x,a.bottom-i.y,{startAngle:0,endAngle:90,radiusX:i.x,radiusY:i.y}),k.lineTo(a.left+j.x,a.bottom),j.x&&I(k,a.left+j.x,a.bottom-j.y,{startAngle:90,endAngle:180,radiusX:j.x,radiusY:j.y}),k.close()}function N(a,c){var d=b(a)+"";switch(c){case"decimal-leading-zero":return d.length<2&&(d="0"+d),d;case"lower-roman":return n(a);case"upper-roman":return n(a).toUpperCase();case"lower-latin":case"lower-alpha":return o(a-1);case"upper-latin":case"upper-alpha":return o(a-1).toUpperCase();default:return d}}function O(a,b){function c(a,b,c){return c?(c=c.replace(/^\s*(["'])(.*)\1\s*$/,"$2"),h(a).map(function(a){return N(a,b)}).join(c)):N(g(a)||0,b)}var d,e=la(b,/^\s+/),f=[];return e.forEach(function(b){var e;(d=/^\s*(["'])(.*)\1\s*$/.exec(b))?f.push(d[2].replace(/\\([0-9a-f]{4})/gi,function(a,b){return String.fromCharCode(parseInt(b,16))})):(d=/^\s*counter\((.*?)\)\s*$/.exec(b))?(e=la(d[1]),f.push(c(e[0],e[1]))):(d=/^\s*counters\((.*?)\)\s*$/.exec(b))?(e=la(d[1]),f.push(c(e[0],e[2],e[1]))):(d=/^\s*attr\((.*?)\)\s*$/.exec(b))?f.push(a.getAttribute(d[1])||""):f.push(b)}),f.join("")}function P(a){if(a.cssText)return a.cssText;for(var b=[],c=0;c<a.length;++c)b.push(a[c]+": "+v(a,a[c]));
return b.join(";\n")}function Q(a,c){function d(c,d){var f=u(a,c);if(f.content&&"normal"!=f.content&&"none"!=f.content&&"0px"!=f.width){var g=a.ownerDocument.createElement(ga);g.style.cssText=P(f),g.textContent=O(a,f.content),a.insertBefore(g,d),":before"!=c||/absolute|fixed/.test(v(g.style,"position"))||(g.style.marginLeft=b(v(g.style,"margin-left"))-g.offsetWidth+"px"),e.push(g)}}if(a.tagName==ga)return void R(a,c);var e=[];d(":before",a.firstChild),d(":after",null),R(a,c),e.forEach(function(b){a.removeChild(b)})}function R(d,e){function f(a){if(/^td$/i.test(d.tagName)){var b=ia.table;if(b&&"collapse"==v(b.style,"border-collapse")){var c=y(b.style,"left").width,e=y(b.style,"top").width;if(0===c&&0===e)return a;var f=b.element.getBoundingClientRect(),g=b.element.rows[0].cells[0],h=g.getBoundingClientRect();if(h.top==f.top||h.left==f.left)return ea.call(a).map(function(a){return{left:a.left+c,top:a.top+e,right:a.right+c,bottom:a.bottom+e,height:a.height,width:a.width}})}}return a}function g(a,b,d,f,g,h,i,j){function k(b,e,f){var g=c.PI/2*b/(b+d),h={x:e.x-b,y:e.y-d},i=new ca.Path({fill:{color:a},stroke:null}).moveTo(0,0);G(i,f),I(i,0,e.y,{startAngle:-90,endAngle:-E(g),radiusX:e.x,radiusY:e.y}),h.x>0&&h.y>0?(i.lineTo(h.x*c.cos(g),e.y-h.y*c.sin(g)),I(i,0,e.y,{startAngle:-E(g),endAngle:-90,radiusX:h.x,radiusY:h.y,anticlockwise:!0})):h.x>0?i.lineTo(h.x,d).lineTo(0,d):i.lineTo(h.x,d).lineTo(h.x,0),m.append(i.close())}if(!(d<=0)){var l,m=new ca.Group;G(m,j),e.append(m),J(h),J(i),l=new ca.Path({fill:{color:a},stroke:null}),m.append(l),l.moveTo(h.x?c.max(h.x,f):0,0).lineTo(b-(i.x?c.max(i.x,g):0),0).lineTo(b-c.max(i.x,g),d).lineTo(c.max(h.x,f),d).close(),h.x&&k(f,h,[-1,0,0,1,h.x,0]),i.x&&k(g,i,[1,0,0,1,b-i.x,0])}}function h(b){var c=new ca.Group;if(H(c,M(b,w,x,D,B)),e.append(c),"A"==d.tagName&&d.href&&!/^#?$/.test(a(d).attr("href"))&&(c._pdfLink={url:d.href,top:b.top,right:b.right,bottom:b.bottom,left:b.left}),N){var f=new ca.Path({fill:{color:N.toCssRgba()},stroke:null});f.moveTo(b.left,b.top).lineTo(b.right,b.top).lineTo(b.right,b.bottom).lineTo(b.left,b.bottom).close(),c.append(f)}for(var g=O.length;--g>=0;)i(c,b,O[g],P[g%P.length],Q[g%Q.length],R[g%R.length],U[g%U.length])}function i(a,c,e,f,g,h,i){function j(a,c,e,j,k){function l(){for(;s.origin.x>c.left;)s.origin.x-=e}function m(){for(;s.origin.y>c.top;)s.origin.y-=j}function n(){for(;s.origin.x<c.right;)k(a,s.clone()),s.origin.x+=e}var o=e/j,p=c;if("content-box"==h?(p=C(p,"border-*-width",d),p=C(p,"padding-*",d)):"padding-box"==h&&(p=C(p,"border-*-width",d)),!/^\s*auto(\s+auto)?\s*$/.test(i)){var q=i.split(/\s+/g);e=/%$/.test(q[0])?p.width*b(q[0])/100:b(q[0]),j=1==q.length||"auto"==q[1]?e/o:/%$/.test(q[1])?p.height*b(q[1])/100:b(q[1])}var r=(g+"").split(/\s+/);1==r.length&&(r[1]="50%"),/%$/.test(r[0])?r[0]=b(r[0])/100*(p.width-e):r[0]=b(r[0]),/%$/.test(r[1])?r[1]=b(r[1])/100*(p.height-j):r[1]=b(r[1]);var s=new da.Rect([p.left+r[0],p.top+r[1]],[e,j]);if("no-repeat"==f)k(a,s);else if("repeat-x"==f)l(),n();else if("repeat-y"==f)for(m();s.origin.y<c.bottom;)k(a,s.clone()),s.origin.y+=j;else if("repeat"==f){l(),m();for(var t=s.origin.clone();s.origin.y<c.bottom;)s.origin.x=t.x,n(),s.origin.y+=j}}if(e&&"none"!=e)if("url"==e.type){if(/^url\(\"data:image\/svg/i.test(e.url))return;var k=ha[e.url];k&&k.width>0&&k.height>0&&j(a,c,k.width,k.height,function(a,b){a.append(new ca.Image(e.url,b))})}else{if("linear"!=e.type)return;j(a,c,c.width,c.height,S(e))}}function j(a){function b(a){z(d,function(){d.style.position="relative";var b=d.ownerDocument.createElement(ga);b.style.position="absolute",b.style.boxSizing="border-box","outside"==g?(b.style.width="6em",b.style.left="-6.8em",b.style.textAlign="right"):b.style.left="0px",a(b),d.insertBefore(b,d.firstChild),aa(b,e),d.removeChild(b)})}function c(a){for(var b=d.parentNode.children,c=0;c<b.length;++c)if(b[c]===d)return a(c,b.length)}var f=v(m,"list-style-type");if("none"!=f){var g=(v(m,"list-style-image"),v(m,"list-style-position"));switch(f){case"circle":case"disc":case"square":b(function(a){a.style.fontSize="60%",a.style.lineHeight="200%",a.style.paddingRight="0.5em",a.style.fontFamily="DejaVu Serif",a.innerHTML={disc:"",circle:"",square:""}[f]});break;case"decimal":case"decimal-leading-zero":b(function(a){c(function(b,c){++b,"decimal-leading-zero"==f&&(b+"").length<2&&(b="0"+b),a.innerHTML=b+"."})});break;case"lower-roman":case"upper-roman":b(function(a){c(function(b,c){b=n(b+1),"upper-roman"==f&&(b=b.toUpperCase()),a.innerHTML=b+"."})});break;case"lower-latin":case"lower-alpha":case"upper-latin":case"upper-alpha":b(function(a){c(function(b,c){b=o(b),/^upper/i.test(f)&&(b=b.toUpperCase()),a.innerHTML=b+"."})})}}}function k(a,b,c){function f(a){return{x:a.y,y:a.x}}if(0!==a.width&&0!==a.height){h(a);var i=t.width>0&&(b&&"ltr"==F||c&&"rtl"==F),j=q.width>0&&(c&&"ltr"==F||b&&"rtl"==F);if(0!==p.width||0!==t.width||0!==q.width||0!==s.width){if(p.color==q.color&&p.color==s.color&&p.color==t.color&&p.width==q.width&&p.width==s.width&&p.width==t.width&&i&&j){a=C(a,p.width/2);var k=L(d,a,p.width/2);return k.options.stroke={color:p.color,width:p.width},void e.append(k)}if(0===w.x&&0===x.x&&0===D.x&&0===B.x&&p.width<2&&t.width<2&&q.width<2&&s.width<2)return p.width>0&&e.append(new ca.Path({stroke:{width:p.width,color:p.color}}).moveTo(a.left,a.top+p.width/2).lineTo(a.right,a.top+p.width/2)),s.width>0&&e.append(new ca.Path({stroke:{width:s.width,color:s.color}}).moveTo(a.left,a.bottom-s.width/2).lineTo(a.right,a.bottom-s.width/2)),i&&e.append(new ca.Path({stroke:{width:t.width,color:t.color}}).moveTo(a.left+t.width/2,a.top).lineTo(a.left+t.width/2,a.bottom)),void(j&&e.append(new ca.Path({stroke:{width:q.width,color:q.color}}).moveTo(a.right-q.width/2,a.top).lineTo(a.right-q.width/2,a.bottom)));var l=K(a,w,x,D,B),m=l.tl,n=l.tr,o=l.br,r=l.bl;g(p.color,a.width,p.width,t.width,q.width,m,n,[1,0,0,1,a.left,a.top]),g(s.color,a.width,s.width,q.width,t.width,o,r,[-1,0,0,-1,a.right,a.bottom]),g(t.color,a.height,t.width,s.width,p.width,f(r),f(m),[0,-1,1,0,a.left,a.bottom]),g(q.color,a.height,q.width,p.width,s.width,f(n),f(o),[0,1,-1,0,a.right,a.top])}}}var m=u(d),p=y(m,"top"),q=y(m,"right"),s=y(m,"bottom"),t=y(m,"left"),w=A(m,"top-left"),x=A(m,"top-right"),B=A(m,"bottom-left"),D=A(m,"bottom-right"),F=v(m,"direction"),N=v(m,"background-color");N=l(N);var O=ka(v(m,"background-image")),P=la(v(m,"background-repeat")),Q=la(v(m,"background-position")),R=la(v(m,"background-origin")),U=la(v(m,"background-size"));fa.msie&&fa.version<10&&(Q=la(d.currentStyle.backgroundPosition));var V=C(d.getBoundingClientRect(),"border-*-width",d);!function(){var a=v(m,"clip"),c=/^\s*rect\((.*)\)\s*$/.exec(a);if(c){var d=c[1].split(/[ ,]+/g),f="auto"==d[0]?V.top:b(d[0])+V.top,g="auto"==d[1]?V.right:b(d[1])+V.left,h="auto"==d[2]?V.bottom:b(d[2])+V.top,i="auto"==d[3]?V.left:b(d[3])+V.left,j=new ca.Group,k=(new ca.Path).moveTo(i,f).lineTo(g,f).lineTo(g,h).lineTo(i,h).close();H(j,k),e.append(j),e=j,r(k)}}();var X=d.getClientRects();1==X.length&&(X=[d.getBoundingClientRect()]),X=f(X);for(var Y=0;Y<X.length;++Y)k(X[Y],0===Y,Y==X.length-1);return X.length>0&&"list-item"==v(m,"display")&&j(X[0]),function(){function a(){var a=L(d,V,"padding"),b=new ca.Group;H(b,a),e.append(b),e=b,r(a)}W(d)?a():/^(hidden|auto|scroll)/.test(v(m,"overflow"))?a():/^(hidden|auto|scroll)/.test(v(m,"overflow-x"))?a():/^(hidden|auto|scroll)/.test(v(m,"overflow-y"))&&a()}(),T(d,e)||Z(d,e),e}function S(a){return function(d,e){var f=e.width(),g=e.height();e.topLeft();switch(a.type){case"linear":var h=null!=a.angle?a.angle:c.PI;switch(a.to){case"top":h=0;break;case"left":h=-c.PI/2;break;case"bottom":h=c.PI;break;case"right":h=c.PI/2;break;case"top left":case"left top":h=-c.atan2(g,f);break;case"top right":case"right top":h=c.atan2(g,f);break;case"bottom left":case"left bottom":h=c.PI+c.atan2(g,f);break;case"bottom right":case"right bottom":h=c.PI-c.atan2(g,f)}a.reverse&&(h-=c.PI),h%=2*c.PI,h<0&&(h+=2*c.PI);var i=c.abs(f*c.sin(h))+c.abs(g*c.cos(h)),j=c.atan(f*c.tan(h)/g),k=c.sin(j),l=c.cos(j),m=c.abs(k)+c.abs(l),n=m/2*k,o=m/2*l;h>c.PI/2&&h<=3*c.PI/2&&(n=-n,o=-o);var p=[],q=0,r=a.stops.map(function(c,d){var e=c.percent;e?e=b(e)/100:c.length?e=b(c.length)/i:0===d?e=0:d==a.stops.length-1&&(e=1);var f={color:c.color.toCssRgba(),offset:e};return null!=e?(q=e,p.forEach(function(a,b){var c=a.stop;c.offset=a.left+(q-a.left)*(b+1)/(p.length+1)}),p=[]):p.push({left:q,stop:f}),f}),s=[.5-n,.5+o],t=[.5+n,.5-o];d.append(ca.Path.fromRect(e).stroke(null).fill(new ca.LinearGradient({start:s,end:t,stops:r,userSpace:!1})));break;case"radial":window.console&&window.console.log&&window.console.log("Radial gradients are not yet supported in HTML renderer")}}}function T(b,c){if(b.getAttribute(kendo.attr("role"))){var d=kendo.widgetInstance(a(b));if(d&&(d.exportDOMVisual||d.exportVisual)){var e;if(e=d.exportDOMVisual?d.exportDOMVisual():d.exportVisual(),!e)return!1;var f=new ca.Group;f.children.push(e);var g=b.getBoundingClientRect();return f.transform(da.transform().translate(g.left,g.top)),c.append(f),!0}}}function U(a,b,c){var d=B(a),e=new da.Rect([d.left,d.top],[d.width,d.height]),f=new ca.Image(b,e);H(f,L(a,d,"content")),c.append(f)}function V(a,c){var d=u(a),e=u(c),f=b(v(d,"z-index")),g=b(v(e,"z-index")),h=v(d,"position"),i=v(e,"position");return isNaN(f)&&isNaN(g)?/static|absolute/.test(h)&&/static|absolute/.test(i)?0:"static"==h?-1:"static"==i?1:0:isNaN(f)?0===g?0:g>0?-1:1:isNaN(g)?0===f?0:f>0?1:-1:b(f)-b(g)}function W(a){return/^(?:textarea|select|input)$/i.test(a.tagName)}function X(a){return a.selectedOptions&&a.selectedOptions.length>0?a.selectedOptions[0]:a.options[a.selectedIndex]}function Y(a,b){var c,d=a.tagName.toLowerCase(),e=a.parentNode,f=a.ownerDocument,g=f.createElement(ga);if(g.style.cssText=P(u(a)),g.style.display="inline-block","input"==d&&(g.style.whiteSpace="pre"),"select"!=d&&"textarea"!=d||(g.style.overflow="auto"),"select"==d)if(a.multiple)for(var h=0;h<a.options.length;++h)c=f.createElement(ga),c.style.cssText=P(u(a.options[h])),c.style.display="block",c.textContent=a.options[h].textContent,g.appendChild(c);else c=X(a),c&&(g.textContent=c.textContent);else g.textContent=a.value;e.insertBefore(g,a),g.scrollLeft=a.scrollLeft,g.scrollTop=a.scrollTop,Z(g,b),e.removeChild(g)}function Z(a,b){switch(ia._stackingContext.element===a&&(ia._stackingContext.group=b),a.tagName.toLowerCase()){case"img":U(a,a.src,b);break;case"canvas":try{U(a,a.toDataURL("image/png"),b)}catch(c){}break;case"textarea":case"input":case"select":Y(a,b);break;default:for(var d=[],e=[],f=[],g=[],h=a.firstChild;h;h=h.nextSibling)switch(h.nodeType){case 3:/\S/.test(h.data)&&$(a,h,b);break;case 1:var i=u(h),j=v(i,"display"),k=v(i,"float"),l=v(i,"position");"static"!=l?g.push(h):"inline"!=j?"none"!=k?e.push(h):d.push(h):f.push(h)}d.sort(V).forEach(function(a){aa(a,b)}),e.sort(V).forEach(function(a){aa(a,b)}),f.sort(V).forEach(function(a){aa(a,b)}),g.sort(V).forEach(function(a){aa(a,b)})}}function $(a,d,e){function f(){var a,b=k,e=j.substr(k).search(/\S/);if(k+=e,e<0||k>=l)return!0;q.setStart(d,k),q.setEnd(d,k+1),a=q.getBoundingClientRect();var f=!1;if(t&&(e=j.substr(k).search(/\s/),e>=0)){q.setEnd(d,k+e);var h=q.getBoundingClientRect();h.bottom==a.bottom&&(a=h,f=!0,k+=e)}if(!f){if(e=function p(b,c,e){q.setEnd(d,c);var f=x(q);return f.bottom!=a.bottom&&b<c?p(b,b+c>>1,c):f.right!=a.right?(a=f,c<e?p(c,c+e>>1,e):c):c}(k,c.min(l,k+y),l),e==k)return!0;if(k=e,e=q.toString().search(/\s+$/),0===e)return;e>0&&(q.setEnd(d,q.startOffset+e),a=q.getBoundingClientRect())}fa.msie&&(a=q.getClientRects()[0]);var i=q.toString();if(/^(?:pre|pre-wrap)$/i.test(w)){if(/\t/.test(i)){var m=0;for(e=b;e<q.startOffset;++e){var n=j.charCodeAt(e);9==n?m+=8-m%8:10==n||13==n?m=0:m++}for(;(e=i.search("\t"))>=0;){var o="        ".substr(0,8-(m+e)%8);i=i.substr(0,e)+o+i.substr(e+1)}}}else i=i.replace(/\s+/g," ");g(i,a)}function g(a,b){if(fa.msie&&!isNaN(n)){var c=ca.util.measureText(a,{font:o}),d=(b.top+b.bottom-c.height)/2;b={top:d,right:b.right,bottom:d+c.height,left:b.left,height:c.height,width:b.right-b.left}}var f=new ja(a,new da.Rect([b.left,b.top],[b.width,b.height]),{font:o,fill:{color:p}});e.append(f),h(b)}function h(a){function b(b,c){if(b){var d=m/12,f=new ca.Path({stroke:{width:d,color:b}});c-=d,f.moveTo(a.left,c).lineTo(a.right,c),e.append(f)}}b(ia.underline,a.bottom),b(ia["line-through"],a.bottom-a.height/2.7),b(ia.overline,a.top)}if(!s()){var i=u(a);if(!(b(v(i,"text-indent"))<-500)){var j=d.data,k=0,l=j.search(/\S\s*$/)+1;if(l){var m=v(i,"font-size"),n=v(i,"line-height"),o=[v(i,"font-style"),v(i,"font-variant"),v(i,"font-weight"),m,v(i,"font-family")].join(" ");if(m=b(m),n=b(n),0!==m){var p=v(i,"color"),q=a.ownerDocument.createRange(),r=v(i,"text-align"),t="justify"==r,w=v(i,"white-space"),y=a.getBoundingClientRect().width/m*5;for(0===y&&(y=500);!f(););}}}}}function _(a,c,d){var e;"auto"!=d?(e=ia._stackingContext.group,d=b(d)):(e=c,d=0);for(var f=e.children,g=0;g<f.length&&!(null!=f[g]._dom_zIndex&&f[g]._dom_zIndex>d);++g);var h=new ca.Group;if(e.insertAt(h,g),h._dom_zIndex=d,e!==c&&ia._clipbox){var i=ia._matrix.invert(),j=ia._clipbox.transformCopy(i);H(h,ca.Path.fromRect(j))}return h}function aa(a,c){var d=u(a),e=v(d,"counter-reset");e&&k(la(e,/^\s+/),j,0);var f=v(d,"counter-increment");if(f&&k(la(f,/^\s+/),i,1),!/^(style|script|link|meta|iframe|svg|col|colgroup)$/i.test(a.tagName)&&null!=ia._clipbox){var g=b(v(d,"opacity")),h=v(d,"visibility"),l=v(d,"display");if(0!==g&&"hidden"!=h&&"none"!=l){var m,n=D(d),o=v(d,"z-index");(n||g<1)&&"auto"==o&&(o=0),m=_(a,c,o),g<1&&m.opacity(g*m.opacity()),p(a,d,m),n?z(a,function(){w(a.style,"transform","none","important"),w(a.style,"transition","none","important"),"static"==v(d,"position")&&w(a.style,"position","relative","important");var b=a.getBoundingClientRect(),c=b.left+n.origin[0],e=b.top+n.origin[1],f=[1,0,0,1,-c,-e];f=ba(f,n.matrix),f=ba(f,[1,0,0,1,c,e]),f=G(m,f),ia._matrix=ia._matrix.multiplyCopy(f),Q(a,m)}):Q(a,m),q()}}}function ba(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=b[0],j=b[1],k=b[2],l=b[3],m=b[4],n=b[5];return[c*i+d*k,c*j+d*l,e*i+f*k,e*j+f*l,g*i+h*k+m,g*j+h*l+n]}var ca=kendo.drawing,da=kendo.geometry,ea=Array.prototype.slice,fa=kendo.support.browser,ga="KENDO-PSEUDO-ELEMENT",ha={},ia={};ia._root=ia;var ja=ca.Text.extend({nodeType:"Text",init:function(a,b,c){ca.Text.fn.init.call(this,a,b.getOrigin(),c),this._pdfRect=b},rect:function(){return this._pdfRect},rawBBox:function(){return this._pdfRect}});ca.drawDOM=d,d.getFontFaces=e;var ka=function(){function a(a){function o(){var b=h.exec(a);b&&(a=a.substr(b[1].length))}function p(b){o();var c=b.exec(a);if(c)return a=a.substr(c[1].length),c[1]}function q(){var b,e,f=kendo.parseColor(a,!0);if(f)return a=a.substr(f.match[0].length),f=f.toRGB(),(b=p(d))||(e=p(c)),{color:f,length:b,percent:e}}function r(b){var d,f,h,l=[],m=!1;if(p(i)){if(d=p(g),d?(d=F(d),p(k)):(f=p(e),"to"==f?f=p(e):f&&/^-/.test(b)&&(m=!0),h=p(e),p(k)),/-moz-/.test(b)&&null==d&&null==f){var n=p(c),o=p(c);m=!0,"0%"==n?f="left":"100%"==n&&(f="right"),"0%"==o?h="top":"100%"==o&&(h="bottom"),p(k)}for(;a&&!p(j);){var r=q();if(!r)break;l.push(r),p(k)}return{type:"linear",angle:d,to:f&&h?f+" "+h:f?f:h?h:null,stops:l,reverse:m}}}function s(){if(p(i)){var a=p(m);return a=a.replace(/^['"]+|["']+$/g,""),p(j),{type:"url",url:a}}}var t=a;if(f(n,t))return n[t];var u;return(u=p(b))?u=r(u):(u=p(l))&&(u=s()),n[t]=u||{type:"none"}}var b=/^((-webkit-|-moz-|-o-|-ms-)?linear-gradient\s*)\(/,c=/^([-0-9.]+%)/,d=/^([-0-9.]+px)/,e=/^(left|right|top|bottom|to|center)\W/,g=/^([-0-9.]+(deg|grad|rad|turn))/,h=/^(\s+)/,i=/^(\()/,j=/^(\))/,k=/^(,)/,l=/^(url)\(/,m=/^(.*?)\)/,n={},o={};return function(b){return f(o,b)?o[b]:o[b]=la(b).map(a)}}(),la=function(){var a={};return function(b,c){function d(a){return h=a.exec(b.substr(k))}function e(a){return a.replace(/^\s+|\s+$/g,"")}c||(c=/^\s*,\s*/);var g=b+c;if(f(a,g))return a[g];for(var h,i=[],j=0,k=0,l=0,m=!1;k<b.length;)!m&&d(/^[\(\[\{]/)?(l++,k++):!m&&d(/^[\)\]\}]/)?(l--,k++):!m&&d(/^[\"\']/)?(m=h[0],k++):"'"==m&&d(/^\\\'/)?k+=2:'"'==m&&d(/^\\\"/)?k+=2:"'"==m&&d(/^\'/)?(m=!1,k++):'"'==m&&d(/^\"/)?(m=!1,k++):d(c)?(!m&&!l&&k>j&&(i.push(e(b.substring(j,k))),j=k+h[0].length),k+=h[0].length):k++;return j<k&&i.push(e(b.substring(j,k))),a[g]=i}}(),ma=function(){var a={};return function(b){var c=a[b];if(!c){var d;(d=/url\((['"]?)([^'")]*?)\1\)\s+format\((['"]?)truetype\3\)/.exec(b))?c=a[b]=d[2]:(d=/url\((['"]?)([^'")]*?\.ttf)\1\)/.exec(b))&&(c=a[b]=d[2])}return c}}()}(window.kendo.jQuery,parseFloat,Math),function(a,b){var c=(document,a.noop),d=window.kendo,e=d.Class,f=d.util,g=d.animationFrame,h=d.deepExtend,i=e.extend({init:function(a,b){var c=this;c.options=h({},c.options,b),c.element=a},options:{duration:500,easing:"swing"},setup:c,step:c,play:function(){var b=this,c=b.options,d=a.easing[c.easing],e=c.duration,h=c.delay||0,i=f.now()+h,j=i+e;0===e?(b.step(1),b.abort()):setTimeout(function(){var a=function(){if(!b._stopped){var c=f.now(),h=f.limitValue(c-i,0,e),k=h/e,l=d(k,h,0,1,e);b.step(l),c<j?g(a):b.abort()}};a()},h)},abort:function(){this._stopped=!0},destroy:function(){this.abort()}}),j=function(){this._items=[]};j.prototype={register:function(a,b){this._items.push({name:a,type:b})},create:function(a,b){var c,d=this._items;if(b&&b.type)for(var e=b.type.toLowerCase(),f=0;f<d.length;f++)if(d[f].name.toLowerCase()===e){c=d[f];break}if(c)return new c.type(a,b)}},j.current=new j,i.create=function(a,b,c){return j.current.create(a,b,c)},h(d.drawing,{Animation:i,AnimationFactory:j})}(window.kendo.jQuery,Math),function(a,b,c){"use strict";function d(){function a(){for(var b=0;b<arguments.length;++b){var e=arguments[b];if(e===c)throw new Error("Cannot output undefined to PDF");if(e instanceof v)e.beforeRender(a),e.render(a);else if(Z(e))p(e,a);else if(o(e))q(e,a);else if("number"==typeof e){if(isNaN(e))throw new Error("Cannot output NaN to PDF");var f=e.toFixed(7);f.indexOf(".")>=0&&(f=f.replace(/\.?0+$/,"")),"-0"==f&&(f="0"),d.writeString(f)}else/string|boolean/.test(typeof e)?d.writeString(e+""):"function"==typeof e.get?d.write(e.get()):"object"==typeof e&&(e?a(new ca(e)):d.writeString("null"))}}var b=0,d=H();return a.writeData=function(a){d.write(a)},a.withIndent=function(c){++b,c(a),--b},a.indent=function(){a(R,l("",2*b,"  ")),a.apply(null,arguments)},a.offset=function(){return d.offset()},a.toString=function(){throw new Error("FIX CALLER")},a.get=function(){return d.get()},a.stream=function(){return d},a}function e(a,b){var c=a.beforeRender,d=a.render;a.beforeRender=function(){},a.render=function(a){a(b," 0 R")},a.renderFull=function(e){a._offset=e.offset(),e(b," 0 obj "),c.call(a,e),d.call(a,e),e(" endobj")}}function f(a){var b=a("paperSize",U.a4);if(!b)return{};if("string"==typeof b&&(b=U[b.toLowerCase()],null==b))throw new Error("Unknown paper size");b[0]=u(b[0]),b[1]=u(b[1]),a("landscape",!1)&&(b=[Math.max(b[0],b[1]),Math.min(b[0],b[1])]);var c=a("margin");return c&&("string"==typeof c||"number"==typeof c?(c=u(c,0),c={left:c,top:c,right:c,bottom:c}):c={left:u(c.left,0),top:u(c.top,0),right:u(c.right,0),bottom:u(c.bottom,0)},a("addMargin")&&(b[0]+=c.left+c.right,b[1]+=c.top+c.bottom)),{paperSize:b,margin:c}}function g(a){function b(b,c){return a&&null!=a[b]?a[b]:c}var c=this,g=d(),h=0,i=[];c.getOption=b,c.attach=function(a){return i.indexOf(a)<0&&(e(a,++h),i.push(a)),a},c.pages=[],c.FONTS={},c.IMAGES={},c.GRAD_COL_FUNCTIONS={},c.GRAD_OPC_FUNCTIONS={},c.GRAD_COL={},c.GRAD_OPC={};var j=c.attach(new ea),k=c.attach(new fa);j.setPages(k),c.addPage=function(a){var b=f(function(b,c){return a&&null!=a[b]?a[b]:c}),e=b.paperSize,g=b.margin,h=e[0],i=e[1];g&&(h-=g.left+g.right,i-=g.top+g.bottom);var j=new da(d(),null,(!0)),l={Contents:c.attach(j),Parent:k,MediaBox:[0,0,e[0],e[1]]},m=new ja(c,l);return m._content=j,k.addPage(c.attach(m)),m.transform(1,0,0,-1,0,e[1]),g&&(m.translate(g.left,g.top),m.rect(0,0,h,i),m.clip()),c.pages.push(m),m},c.render=function(){var a;for(g("%PDF-1.4",R,"%",R,R),a=0;a<i.length;++a)i[a].renderFull(g),g(R,R);var c=g.offset();for(g("xref",R,0," ",i.length+1,R),g("0000000000 65535 f ",R),a=0;a<i.length;++a)g(m(i[a]._offset,10)," 00000 n ",R);return g(R),g("trailer",R),g(new ca({Size:i.length+1,Root:j,Info:new ca({Producer:new $(b("producer","Kendo UI PDF Generator")),Title:new $(b("title","")),Author:new $(b("author","")),Subject:new $(b("subject","")),Keywords:new $(b("keywords","")),Creator:new $(b("creator","Kendo UI PDF Generator")),CreationDate:b("date",new Date)})}),R,R),g("startxref",R,c,R),g("%%EOF",R),g.stream().offset(0)}}function h(b,c){function d(){a.console&&(a.console.error?a.console.error("Cannot load URL: %s",b):a.console.log("Cannot load URL: %s",b)),c(null)}var e=new XMLHttpRequest;e.open("GET",b,!0),Q&&(e.responseType="arraybuffer"),e.onload=function(){200==e.status||304==e.status?c(Q?new Uint8Array(e.response):new VBArray(e.responseBody).toArray()):d()},e.onerror=d,e.send(null)}function i(a,b){var c=V[a];c?b(c):h(a,function(c){if(null==c)throw new Error("Cannot load font from "+a);var d=new P.pdf.TTFFont(c);V[a]=d,b(d)})}function j(a,b){function c(a){h.src=a,h.complete&&!P.support.browser.msie?e():(h.onload=e,h.onerror=d)}function d(){b(W[a]="TAINTED")}function e(){if(g&&/^image\/jpe?g$/i.test(g.type)){var c=new FileReader;return c.onload=function(){h=new y(h.width,h.height,H(new Uint8Array(this.result))),URL.revokeObjectURL(f),b(W[a]=h)},void c.readAsArrayBuffer(g)}var e=document.createElement("canvas");e.width=h.width,e.height=h.height;var i=e.getContext("2d");i.drawImage(h,0,0);var j;try{j=i.getImageData(0,0,h.width,h.height)}catch(k){return d()}finally{f&&URL.revokeObjectURL(f)}for(var l=!1,m=H(),n=H(),o=j.data,p=0;p<o.length;){m.writeByte(o[p++]),m.writeByte(o[p++]),m.writeByte(o[p++]);var q=o[p++];q<255&&(l=!0),n.writeByte(q)}if(l)h=new z(h.width,h.height,m,n);else{var r=e.toDataURL("image/jpeg");r=r.substr(r.indexOf(";base64,")+8);var s=H();s.writeBase64(r),s.offset(0),h=new y(h.width,h.height,s)}b(W[a]=h)}var f,g,h=W[a];if(h)b(h);else if(h=new Image,/^data:/i.test(a)||(h.crossOrigin="Anonymous"),Q&&!/^data:/i.test(a)){var i=new XMLHttpRequest;i.onload=function(){g=i.response,f=URL.createObjectURL(g),c(f)},i.onerror=d,i.open("GET",a,!0),i.responseType="blob",i.send()}else c(a)}function k(a){return function(b,c){var d=b.length,e=d;if(0===d)return c();for(;e-- >0;)a(b[e],function(){0===--d&&c()})}}function l(a,b,c){for(;a.length<b;)a=c+a;return a}function m(a,b){return l(a+"",b,"0")}function n(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function o(a){return a instanceof Date}function p(a,b){b("["),a.length>0&&b.withIndent(function(){for(var c=0;c<a.length;++c)c>0&&c%8===0?b.indent(a[c]):b(" ",a[c])}),b(" ]")}function q(a,b){b("(D:",m(a.getUTCFullYear(),4),m(a.getUTCMonth()+1,2),m(a.getUTCDate(),2),m(a.getUTCHours(),2),m(a.getUTCMinutes(),2),m(a.getUTCSeconds(),2),"Z)")}function r(a){return a*(72/25.4)}function s(a){return r(10*a)}function t(a){return 72*a}function u(a,c){if("number"==typeof a)return a;if("string"==typeof a){var d;if(d=/^\s*([0-9.]+)\s*(mm|cm|in|pt)\s*$/.exec(a)){var e=b(d[1]);if(!isNaN(e))return"pt"==d[2]?e:{mm:r,cm:s,"in":t}[d[2]](e)}}if(null!=c)return c;throw new Error("Can't parse unit: "+a)}function v(){}function w(a,b,c){c||(c=v),a.prototype=new c;for(var d in b)n(b,d)&&(a.prototype[d]=b[d]);return a}function x(a){return n(ba,a)?ba[a]:ba[a]=new aa(a)}function y(a,b,c){this.asStream=function(){var d=new da(c,{Type:x("XObject"),Subtype:x("Image"),Width:a,Height:b,BitsPerComponent:8,ColorSpace:x("DeviceRGB"),Filter:x("DCTDecode")});return d._resourceName=x("I"+ ++S),d}}function z(a,b,c,d){this.asStream=function(e){var f=new da(d,{Type:x("XObject"),Subtype:x("Image"),Width:a,Height:b,BitsPerComponent:8,ColorSpace:x("DeviceGray")},(!0)),g=new da(c,{Type:x("XObject"),Subtype:x("Image"),Width:a,Height:b,BitsPerComponent:8,ColorSpace:x("DeviceRGB"),SMask:e.attach(f)},(!0));return g._resourceName=x("I"+ ++S),g}}function A(a){return a.map(function(a){return Z(a)?A(a):"number"==typeof a?(Math.round(1e3*a)/1e3).toFixed(3):a}).join(" ")}function B(a,b,c,d,e,f,g){var h=A([b,c,d,e,f,g]),i=a.GRAD_COL_FUNCTIONS[h];return i||(i=a.GRAD_COL_FUNCTIONS[h]=a.attach(new ca({FunctionType:2,Domain:[0,1],Range:[0,1,0,1,0,1],N:1,C0:[b,c,d],C1:[e,f,g]}))),i}function C(a,b,c){var d=A([b,c]),e=a.GRAD_OPC_FUNCTIONS[d];return e||(e=a.GRAD_OPC_FUNCTIONS[d]=a.attach(new ca({FunctionType:2,Domain:[0,1],Range:[0,1],N:1,C0:[b],C1:[c]}))),e}function D(a,b){function c(a){return 1==a.length?a[0]:{FunctionType:3,Functions:a,Domain:[0,1],Bounds:l,Encode:m}}var d,e,f,g,h,i=!1,j=[],k=[],l=[],m=[];for(d=1;d<b.length;++d)e=b[d-1],f=b[d],g=e.color,h=f.color,k.push(B(a,g.r,g.g,g.b,h.r,h.g,h.b)),(g.a<1||h.a<1)&&(i=!0),l.push(f.offset),m.push(0,1);if(i)for(d=1;d<b.length;++d)e=b[d-1],f=b[d],g=e.color,h=f.color,j.push(C(a,g.a,h.a));return l.pop(),{hasAlpha:i,colors:c(k),opacities:i?c(j):null}}function E(a,b,c,d,e,f){var g,h;if(!f){var i=[b].concat(d);c.forEach(function(a){i.push(a.offset,a.color.r,a.color.g,a.color.b)}),h=A(i),g=a.GRAD_COL[h]}return g||(g=new ca({Type:x("Shading"),ShadingType:b?3:2,ColorSpace:x("DeviceRGB"),Coords:d,Domain:[0,1],Function:e,Extend:[!0,!0]}),a.attach(g),g._resourceName="S"+ ++S,h&&(a.GRAD_COL[h]=g)),g}function F(a,b,c,d,e,f){var g,h;if(!f){var i=[b].concat(d);c.forEach(function(a){i.push(a.offset,a.color.a)}),h=A(i),g=a.GRAD_OPC[h]}return g||(g=new ca({Type:x("ExtGState"),AIS:!1,CA:1,ca:1,SMask:{Type:x("Mask"),S:x("Luminosity"),G:a.attach(new da("/a0 gs /s0 sh",{Type:x("XObject"),Subtype:x("Form"),FormType:1,BBox:f?[f.left,f.top+f.height,f.left+f.width,f.top]:[0,1,1,0],Group:{Type:x("Group"),S:x("Transparency"),CS:x("DeviceGray"),I:!0},Resources:{ExtGState:{a0:{CA:1,ca:1}},Shading:{s0:{ColorSpace:x("DeviceGray"),Coords:d,Domain:[0,1],ShadingType:b?3:2,Function:e,Extend:[!0,!0]}}}}))}}),a.attach(g),g._resourceName="O"+ ++S,h&&(a.GRAD_OPC[h]=g)),g}function G(a,b,c){var d="radial"==b.type,e=D(a,b.stops),f=d?[b.start.x,b.start.y,b.start.r,b.end.x,b.end.y,b.end.r]:[b.start.x,b.start.y,b.end.x,b.end.y],g=E(a,d,b.stops,f,e.colors,b.userSpace&&c),h=e.hasAlpha?F(a,d,b.stops,f,e.opacities,b.userSpace&&c):null;return{hasAlpha:e.hasAlpha,shading:g,opacity:h}}function H(b){function c(){return v>=w}function d(){return v<w?b[v++]:0}function e(a){x(v),b[v++]=255&a,v>w&&(w=v)}function f(){return d()<<8|d()}function g(a){e(a>>8),e(a)}function h(){var a=f();return a>=32768?a-65536:a}function i(a){g(a<0?a+65536:a)}function j(){return 65536*f()+f()}function k(a){g(a>>>16&65535),g(65535&a)}function l(){var a=j();return a>=2147483648?a-4294967296:a}function m(a){k(a<0?a+4294967296:a)}function n(){return j()/65536}function o(a){k(Math.round(65536*a))}function p(){return l()/65536}function q(a){m(Math.round(65536*a))}function r(a){return u(a,d)}function s(a){return String.fromCharCode.apply(String,r(a))}function t(a){for(var b=0;b<a.length;++b)e(a.charCodeAt(b))}function u(a,b){for(var c=new Array(a),d=0;d<a;++d)c[d]=b();return c}var v=0,w=0;null==b?b=Q?new Uint8Array(256):[]:w=b.length;var x=Q?function(a){if(a>=b.length){var c=new Uint8Array(Math.max(a+256,2*b.length));c.set(b,0),b=c}}:function(){},y=Q?function(){return new Uint8Array(b.buffer,0,w)}:function(){return b},z=Q?function(a){if("string"==typeof a)return t(a);var c=a.length;x(v+c),b.set(a,v),v+=c,v>w&&(w=v)}:function(a){if("string"==typeof a)return t(a);for(var b=0;b<a.length;++b)e(a[b])},A=Q?function(a,c){if(b.buffer.slice)return new Uint8Array(b.buffer.slice(a,a+c));var d=new Uint8Array(c);return d.set(new Uint8Array(b.buffer,a,c)),d}:function(a,c){return b.slice(a,a+c)},B={eof:c,readByte:d,writeByte:e,readShort:f,writeShort:g,readLong:j,writeLong:k,readFixed:n,writeFixed:o,readShort_:h,writeShort_:i,readLong_:l,writeLong_:m,readFixed_:p,writeFixed_:q,read:r,write:z,readString:s,writeString:t,times:u,get:y,slice:A,offset:function(a){return null!=a?(v=a,B):v},skip:function(a){v+=a},toString:function(){throw new Error("FIX CALLER.  BinaryStream is no longer convertible to string!")},length:function(){return w},saveExcursion:function(a){var b=v;try{return a()}finally{v=b}},writeBase64:function(b){a.atob?t(a.atob(b)):z(T.decode(b))},base64:function(){return T.encode(y())}};return B}function I(a){return a.replace(/^\s*(['"])(.*)\1\s*$/,"$2")}function J(a){var b=/^\s*((normal|italic)\s+)?((normal|small-caps)\s+)?((normal|bold|\d+)\s+)?(([0-9.]+)(px|pt))(\/(([0-9.]+)(px|pt)|normal))?\s+(.*?)\s*$/i,c=b.exec(a);if(!c)return{fontSize:12,fontFamily:"sans-serif"};var d=c[8]?parseInt(c[8],10):12;return{italic:c[2]&&"italic"==c[2].toLowerCase(),variant:c[4],bold:c[6]&&/bold|700/i.test(c[6]),fontSize:d,lineHeight:c[12]?"normal"==c[12]?d:parseInt(c[12],10):null,fontFamily:c[14].split(/\s*,\s*/g).map(I)}}function K(a){function b(b){return a.bold&&(b+="|bold"),a.italic&&(b+="|italic"),b.toLowerCase()}var c,d,e=a.fontFamily;if(e instanceof Array)for(var f=0;f<e.length&&(c=b(e[f]),!(d=ka[c]));++f);else d=ka[e.toLowerCase()];for(;"function"==typeof d;)d=d();return d||(d="Times-Roman"),d}function L(a,b){a=a.toLowerCase(),ka[a]=function(){return ka[b]},ka[a+"|bold"]=function(){return ka[b+"|bold"]},ka[a+"|italic"]=function(){return ka[b+"|italic"]},ka[a+"|bold|italic"]=function(){return ka[b+"|bold|italic"]}}function M(a,b){if(1==arguments.length)for(var c in a)n(a,c)&&M(c,a[c]);else switch(a=a.toLowerCase(),ka[a]=b,a){case"dejavu sans":ka["sans-serif"]=b;break;case"dejavu sans|bold":ka["sans-serif|bold"]=b;break;case"dejavu sans|italic":ka["sans-serif|italic"]=b;break;case"dejavu sans|bold|italic":ka["sans-serif|bold|italic"]=b;break;case"dejavu serif":ka.serif=b;break;case"dejavu serif|bold":ka["serif|bold"]=b;break;case"dejavu serif|italic":ka["serif|italic"]=b;break;case"dejavu serif|bold|italic":ka["serif|bold|italic"]=b;break;case"dejavu mono":ka.monospace=b;break;case"dejavu mono|bold":ka["monospace|bold"]=b;break;case"dejavu mono|italic":ka["monospace|italic"]=b;break;case"dejavu mono|bold|italic":ka["monospace|bold|italic"]=b}}function N(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=b[0],j=b[1],k=b[2],l=b[3],m=b[4],n=b[5];return[c*i+d*k,c*j+d*l,e*i+f*k,e*j+f*l,g*i+h*k+m,g*j+h*l+n]}function O(a){return 1===a[0]&&0===a[1]&&0===a[2]&&1===a[3]&&0===a[4]&&0===a[5]}var P=a.kendo,Q=!!a.Uint8Array,R="\n",S=0,T=function(){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{decode:function(b){for(var c=b.replace(/[^A-Za-z0-9\+\/\=]/g,""),d=0,e=c.length,f=[];d<e;){var g=a.indexOf(c.charAt(d++)),h=a.indexOf(c.charAt(d++)),i=a.indexOf(c.charAt(d++)),j=a.indexOf(c.charAt(d++)),k=g<<2|h>>>4,l=(15&h)<<4|i>>>2,m=(3&i)<<6|j;f.push(k),64!=i&&f.push(l),64!=j&&f.push(m)}return f},encode:function(b){for(var c=0,d=b.length,e="";c<d;){var f=b[c++],g=b[c++],h=b[c++],i=f>>>2,j=(3&f)<<4|g>>>4,k=(15&g)<<2|h>>>6,l=63&h;c-d==2?k=l=64:c-d==1&&(l=64),e+=a.charAt(i)+a.charAt(j)+a.charAt(k)+a.charAt(l)}return e}}}(),U={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],executive:[521.86,756],folio:[612,936],legal:[612,1008],letter:[612,792],tabloid:[792,1224]},V={"Times-Roman":!0,"Times-Bold":!0,"Times-Italic":!0,"Times-BoldItalic":!0,Helvetica:!0,"Helvetica-Bold":!0,"Helvetica-Oblique":!0,"Helvetica-BoldOblique":!0,Courier:!0,"Courier-Bold":!0,"Courier-Oblique":!0,"Courier-BoldOblique":!0,Symbol:!0,ZapfDingbats:!0},W={},X=k(i),Y=k(j);g.prototype={loadFonts:X,loadImages:Y,getFont:function(a){
var b=this.FONTS[a];if(!b){if(b=V[a],!b)throw new Error("Font "+a+" has not been loaded");b=b===!0?this.attach(new ga(a)):this.attach(new ha(this,b)),this.FONTS[a]=b}return b},getImage:function(a){var b=this.IMAGES[a];if(!b){if(b=W[a],!b)throw new Error("Image "+a+" has not been loaded");if("TAINTED"===b)return null;b=this.IMAGES[a]=this.attach(b.asStream(this))}return b},getOpacityGS:function(a,c){var d=b(a).toFixed(3);a=b(d),d+=c?"S":"F";var e=this._opacityGSCache||(this._opacityGSCache={}),f=e[d];if(!f){var g={Type:x("ExtGState")};c?g.CA=a:g.ca=a,f=this.attach(new ca(g)),f._resourceName=x("GS"+ ++S),e[d]=f}return f},dict:function(a){return new ca(a)},name:function(a){return x(a)},stream:function(a,b){return new da(b,a)}};var Z=Array.isArray||function(a){return a instanceof Array};v.prototype.beforeRender=function(){};var $=w(function(a){this.value=a},{render:function(a){for(var b="",c=this.escape(),d=0;d<c.length;++d)b+=String.fromCharCode(255&c.charCodeAt(d));a("(",b,")")},escape:function(){return this.value.replace(/([\(\)\\])/g,"\\$1")},toString:function(){return this.value}}),_=w(function(a){this.value=a},{render:function(a){a("<");for(var b=0;b<this.value.length;++b)a(m(this.value.charCodeAt(b).toString(16),4));a(">")}},$),aa=w(function(a){this.name=a},{render:function(a){a("/"+this.escape())},escape:function(){return this.name.replace(/[^\x21-\x7E]/g,function(a){return"#"+m(a.charCodeAt(0).toString(16),2)})},toString:function(){return this.name}}),ba={};aa.get=x;var ca=w(function(a){this.props=a},{render:function(a){var b=this.props,c=!0;a("<<"),a.withIndent(function(){for(var d in b)n(b,d)&&!/^_/.test(d)&&(c=!1,a.indent(x(d)," ",b[d]))}),c||a.indent(),a(">>")}}),da=w(function(a,b,c){if("string"==typeof a){var d=H();d.write(a),a=d}this.data=a,this.props=b||{},this.compress=c},{render:function(b){var c=this.data.get(),d=this.props;this.compress&&a.pako&&"function"==typeof a.pako.deflate&&(d.Filter?d.Filter instanceof Array||(d.Filter=[d.Filter]):d.Filter=[],d.Filter.unshift(x("FlateDecode")),c=a.pako.deflate(c)),d.Length=c.length,b(new ca(d)," stream",R),b.writeData(c),b(R,"endstream")}}),ea=w(function(a){a=this.props=a||{},a.Type=x("Catalog")},{setPages:function(a){this.props.Pages=a}},ca),fa=w(function(){this.props={Type:x("Pages"),Kids:[],Count:0}},{addPage:function(a){this.props.Kids.push(a),this.props.Count++}},ca),ga=w(function(a){this.props={Type:x("Font"),Subtype:x("Type1"),BaseFont:x(a)},this._resourceName=x("F"+ ++S)},{encodeText:function(a){return new $(a+"")}},ca),ha=w(function(a,b,c){c=this.props=c||{},c.Type=x("Font"),c.Subtype=x("Type0"),c.Encoding=x("Identity-H"),this._pdf=a,this._font=b,this._sub=b.makeSubset(),this._resourceName=x("F"+ ++S);var d=b.head;this.name=b.psName;var e=this.scale=b.scale;this.bbox=[d.xMin*e,d.yMin*e,d.xMax*e,d.yMax*e],this.italicAngle=b.post.italicAngle,this.ascent=b.ascent*e,this.descent=b.descent*e,this.lineGap=b.lineGap*e,this.capHeight=b.os2.capHeight||this.ascent,this.xHeight=b.os2.xHeight||0,this.stemV=0,this.familyClass=(b.os2.familyClass||0)>>8,this.isSerif=this.familyClass>=1&&this.familyClass<=7,this.isScript=10==this.familyClass,this.flags=(b.post.isFixedPitch?1:0)|(this.isSerif?2:0)|(this.isScript?8:0)|(0!==this.italicAngle?64:0)|32},{encodeText:function(a){return new _(this._sub.encodeText(a+""))},getTextWidth:function(a,b){for(var c=0,d=this._font.cmap.getUnicodeEntry().codeMap,e=0;e<b.length;++e){var f=d[b.charCodeAt(e)];c+=this._font.widthOfGlyph(f||0)}return c*a/1e3},beforeRender:function(){var a=this,b=(a._font,a._sub),c=b.render(),e=new da(H(c),{Length1:c.length},(!0)),f=a._pdf.attach(new ca({Type:x("FontDescriptor"),FontName:x(a._sub.psName),FontBBox:a.bbox,Flags:a.flags,StemV:a.stemV,ItalicAngle:a.italicAngle,Ascent:a.ascent,Descent:a.descent,CapHeight:a.capHeight,XHeight:a.xHeight,FontFile2:a._pdf.attach(e)})),g=b.ncid2ogid,h=b.firstChar,i=b.lastChar,j=[];!function o(b,c){if(b<=i){var d=g[b];null==d?o(b+1):(c||j.push(b,c=[]),c.push(a._font.widthOfGlyph(d)),o(b+1,c))}}(h);var k=new ca({Type:x("Font"),Subtype:x("CIDFontType2"),BaseFont:x(a._sub.psName),CIDSystemInfo:new ca({Registry:new $("Adobe"),Ordering:new $("Identity"),Supplement:0}),FontDescriptor:f,FirstChar:h,LastChar:i,DW:Math.round(a._font.widthOfGlyph(0)),W:j,CIDToGIDMap:a._pdf.attach(a._makeCidToGidMap())}),l=a.props;l.BaseFont=x(a._sub.psName),l.DescendantFonts=[a._pdf.attach(k)];var m=new ia(h,i,b.subset),n=new da(d(),null,(!0));n.data(m),l.ToUnicode=a._pdf.attach(n)},_makeCidToGidMap:function(){return new da(H(this._sub.cidToGidMap()),null,(!0))}},ca),ia=w(function(a,b,c){this.firstChar=a,this.lastChar=b,this.map=c},{render:function(a){a.indent("/CIDInit /ProcSet findresource begin"),a.indent("12 dict begin"),a.indent("begincmap"),a.indent("/CIDSystemInfo <<"),a.indent("  /Registry (Adobe)"),a.indent("  /Ordering (UCS)"),a.indent("  /Supplement 0"),a.indent(">> def"),a.indent("/CMapName /Adobe-Identity-UCS def"),a.indent("/CMapType 2 def"),a.indent("1 begincodespacerange"),a.indent("  <0000><ffff>"),a.indent("endcodespacerange");var b=this;a.indent(b.lastChar-b.firstChar+1," beginbfchar"),a.withIndent(function(){for(var c=b.firstChar;c<=b.lastChar;++c){var d=b.map[c];a.indent("<",m(c.toString(16),4),">","<",m(d.toString(16),4),">")}}),a.indent("endbfchar"),a.indent("endcmap"),a.indent("CMapName currentdict /CMap defineresource pop"),a.indent("end"),a.indent("end")}}),ja=w(function(a,b){this._pdf=a,this._rcount=0,this._textMode=!1,this._fontResources={},this._gsResources={},this._xResources={},this._patResources={},this._shResources={},this._opacity=1,this._matrix=[1,0,0,1,0,0],this._annotations=[],this._font=null,this._fontSize=null,this._contextStack=[],b=this.props=b||{},b.Type=x("Page"),b.ProcSet=[x("PDF"),x("Text"),x("ImageB"),x("ImageC"),x("ImageI")],b.Resources=new ca({Font:new ca(this._fontResources),ExtGState:new ca(this._gsResources),XObject:new ca(this._xResources),Pattern:new ca(this._patResources),Shading:new ca(this._shResources)}),b.Annots=this._annotations},{_out:function(){this._content.data.apply(null,arguments)},transform:function(a,b,c,d,e,f){O(arguments)||(this._matrix=N(arguments,this._matrix),this._out(a," ",b," ",c," ",d," ",e," ",f," cm"),this._out(R))},translate:function(a,b){this.transform(1,0,0,1,a,b)},scale:function(a,b){this.transform(a,0,0,b,0,0)},rotate:function(a){var b=Math.cos(a),c=Math.sin(a);this.transform(b,c,-c,b,0,0)},beginText:function(){this._textMode=!0,this._out("BT",R)},endText:function(){this._textMode=!1,this._out("ET",R)},_requireTextMode:function(){if(!this._textMode)throw new Error("Text mode required; call page.beginText() first")},_requireFont:function(){if(!this._font)throw new Error("No font selected; call page.setFont() first")},setFont:function(a,b){this._requireTextMode(),null==a?a=this._font:a instanceof ha||(a=this._pdf.getFont(a)),null==b&&(b=this._fontSize),this._fontResources[a._resourceName]=a,this._font=a,this._fontSize=b,this._out(a._resourceName," ",b," Tf",R)},setTextLeading:function(a){this._requireTextMode(),this._out(a," TL",R)},setTextRenderingMode:function(a){this._requireTextMode(),this._out(a," Tr",R)},showText:function(a,b){if(this._requireFont(),a.length>1&&b&&this._font instanceof ha){var c=this._font.getTextWidth(this._fontSize,a),d=b/c*100;this._out(d," Tz ")}this._out(this._font.encodeText(a)," Tj",R)},showTextNL:function(a){this._requireFont(),this._out(this._font.encodeText(a)," '",R)},addLink:function(a,b){var c=this._toPage({x:b.left,y:b.bottom}),d=this._toPage({x:b.right,y:b.top});this._annotations.push(new ca({Type:x("Annot"),Subtype:x("Link"),Rect:[c.x,c.y,d.x,d.y],Border:[0,0,0],A:new ca({Type:x("Action"),S:x("URI"),URI:new $(a)})}))},setStrokeColor:function(a,b,c){this._out(a," ",b," ",c," RG",R)},setOpacity:function(a){this.setFillOpacity(a),this.setStrokeOpacity(a),this._opacity*=a},setStrokeOpacity:function(a){if(a<1){var b=this._pdf.getOpacityGS(this._opacity*a,!0);this._gsResources[b._resourceName]=b,this._out(b._resourceName," gs",R)}},setFillColor:function(a,b,c){this._out(a," ",b," ",c," rg",R)},setFillOpacity:function(a){if(a<1){var b=this._pdf.getOpacityGS(this._opacity*a,!1);this._gsResources[b._resourceName]=b,this._out(b._resourceName," gs",R)}},gradient:function(a,b){this.save(),this.rect(b.left,b.top,b.width,b.height),this.clip(),a.userSpace||this.transform(b.width,0,0,b.height,b.left,b.top);var c,d=G(this._pdf,a,b),e=d.shading._resourceName;this._shResources[e]=d.shading,d.hasAlpha&&(c=d.opacity._resourceName,this._gsResources[c]=d.opacity,this._out("/"+c+" gs ")),this._out("/"+e+" sh",R),this.restore()},setDashPattern:function(a,b){this._out(a," ",b," d",R)},setLineWidth:function(a){this._out(a," w",R)},setLineCap:function(a){this._out(a," J",R)},setLineJoin:function(a){this._out(a," j",R)},setMitterLimit:function(a){this._out(a," M",R)},save:function(){this._contextStack.push(this._context()),this._out("q",R)},restore:function(){this._out("Q",R),this._context(this._contextStack.pop())},moveTo:function(a,b){this._out(a," ",b," m",R)},lineTo:function(a,b){this._out(a," ",b," l",R)},bezier:function(a,b,c,d,e,f){this._out(a," ",b," ",c," ",d," ",e," ",f," c",R)},bezier1:function(a,b,c,d){this._out(a," ",b," ",c," ",d," y",R)},bezier2:function(a,b,c,d){this._out(a," ",b," ",c," ",d," v",R)},close:function(){this._out("h",R)},rect:function(a,b,c,d){this._out(a," ",b," ",c," ",d," re",R)},ellipse:function(a,b,c,d){function e(b){return a+b}function f(a){return b+a}var g=.5522847498307936;this.moveTo(e(0),f(d)),this.bezier(e(c*g),f(d),e(c),f(d*g),e(c),f(0)),this.bezier(e(c),f(-d*g),e(c*g),f(-d),e(0),f(-d)),this.bezier(e(-c*g),f(-d),e(-c),f(-d*g),e(-c),f(0)),this.bezier(e(-c),f(d*g),e(-c*g),f(d),e(0),f(d))},circle:function(a,b,c){this.ellipse(a,b,c,c)},stroke:function(){this._out("S",R)},nop:function(){this._out("n",R)},clip:function(){this._out("W n",R)},clipStroke:function(){this._out("W S",R)},closeStroke:function(){this._out("s",R)},fill:function(){this._out("f",R)},fillStroke:function(){this._out("B",R)},drawImage:function(a){var b=this._pdf.getImage(a);b&&(this._xResources[b._resourceName]=b,this._out(b._resourceName," Do",R))},comment:function(a){var b=this;a.split(/\r?\n/g).forEach(function(a){b._out("% ",a,R)})},_context:function(a){return null==a?{opacity:this._opacity,matrix:this._matrix}:(this._opacity=a.opacity,void(this._matrix=a.matrix))},_toPage:function(a){var b=this._matrix,c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5];return{x:c*a.x+e*a.y+g,y:d*a.x+f*a.y+h}}},ca),ka={serif:"Times-Roman","serif|bold":"Times-Bold","serif|italic":"Times-Italic","serif|bold|italic":"Times-BoldItalic","sans-serif":"Helvetica","sans-serif|bold":"Helvetica-Bold","sans-serif|italic":"Helvetica-Oblique","sans-serif|bold|italic":"Helvetica-BoldOblique",monospace:"Courier","monospace|bold":"Courier-Bold","monospace|italic":"Courier-Oblique","monospace|bold|italic":"Courier-BoldOblique",zapfdingbats:"ZapfDingbats","zapfdingbats|bold":"ZapfDingbats","zapfdingbats|italic":"ZapfDingbats","zapfdingbats|bold|italic":"ZapfDingbats"};L("Times New Roman","serif"),L("Courier New","monospace"),L("Arial","sans-serif"),L("Helvetica","sans-serif"),L("Verdana","sans-serif"),L("Tahoma","sans-serif"),L("Georgia","sans-serif"),L("Monaco","monospace"),L("Andale Mono","monospace"),P.pdf={Document:g,BinaryStream:H,defineFont:M,parseFontDef:J,getFontURL:K,loadFonts:X,loadImages:Y,getPaperOptions:f,TEXT_RENDERING_MODE:{fill:0,stroke:1,fillAndStroke:2,invisible:3,fillAndClip:4,strokeAndClip:5,fillStrokeClip:6,clip:7}}}(window,parseFloat),function(a){"use strict";function b(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function c(a){return Object.keys(a).sort(function(a,b){return a-b}).map(parseFloat)}function d(a){this.raw=a,this.scalerType=a.readLong(),this.tableCount=a.readShort(),this.searchRange=a.readShort(),this.entrySelector=a.readShort(),this.rangeShift=a.readShort();for(var b=this.tables={},c=0;c<this.tableCount;++c){var d={tag:a.readString(4),checksum:a.readLong(),offset:a.readLong(),length:a.readLong()};b[d.tag]=d}}function e(a){function c(a,b){this.definition=b,this.length=b.length,this.offset=b.offset,this.file=a,this.rawData=a.raw,this.parse(a.raw)}c.prototype.raw=function(){return this.rawData.slice(this.offset,this.length)};for(var d in a)b(a,d)&&(c[d]=c.prototype[d]=a[d]);return c}function f(){for(var a="",b=u+"",c=0;c<b.length;++c)a+=String.fromCharCode(b.charCodeAt(c)-48+65);return++u,a}function g(a){this.font=a,this.subset={},this.unicodes={},this.ogid2ngid={0:0},this.ngid2ogid={0:0},this.ncid2ogid={},this.next=this.firstChar=1,this.nextGid=1,this.psName=f()+"+"+this.font.psName}function h(a,b){var c=this,d=c.contents=j(a);if("ttcf"==d.readString(4)){if(!b)throw new Error("Must specify a name for TTC files");for(var e=(d.readLong(),d.readLong()),f=0;f<e;++f){var g=d.readLong();if(d.saveExcursion(function(){d.offset(g),c.parse()}),c.psName==b)return}throw new Error("Font "+b+" not found in collection")}d.offset(0),c.parse()}var i=a.kendo.pdf,j=i.BinaryStream;d.prototype={readTable:function(a,b){var c=this.tables[a];if(!c)throw new Error("Table "+a+" not found in directory");return this[a]=c.table=new b(this,c)},render:function(a){var c=Object.keys(a).length,d=Math.pow(2,Math.floor(Math.log(c)/Math.LN2)),e=16*d,f=Math.floor(Math.log(d)/Math.LN2),g=16*c-e,h=j();h.writeLong(this.scalerType),h.writeShort(c),h.writeShort(e),h.writeShort(f),h.writeShort(g);var i=16*c,k=h.offset()+i,l=null,m=j();for(var n in a)if(b(a,n)){var o=a[n];for(h.writeString(n),h.writeLong(this.checksum(o)),h.writeLong(k),h.writeLong(o.length),m.write(o),"head"==n&&(l=k),k+=o.length;k%4;)m.writeByte(0),k++}h.write(m.get());var p=this.checksum(h.get()),q=2981146554-p;return h.offset(l+8),h.writeLong(q),h.get()},checksum:function(a){a=j(a);for(var b=0;!a.eof();)b+=a.readLong();return 4294967295&b}};var k=e({parse:function(a){a.offset(this.offset),this.version=a.readLong(),this.revision=a.readLong(),this.checkSumAdjustment=a.readLong(),this.magicNumber=a.readLong(),this.flags=a.readShort(),this.unitsPerEm=a.readShort(),this.created=a.read(8),this.modified=a.read(8),this.xMin=a.readShort_(),this.yMin=a.readShort_(),this.xMax=a.readShort_(),this.yMax=a.readShort_(),this.macStyle=a.readShort(),this.lowestRecPPEM=a.readShort(),this.fontDirectionHint=a.readShort_(),this.indexToLocFormat=a.readShort_(),this.glyphDataFormat=a.readShort_()},render:function(a){var b=j();return b.writeLong(this.version),b.writeLong(this.revision),b.writeLong(0),b.writeLong(this.magicNumber),b.writeShort(this.flags),b.writeShort(this.unitsPerEm),b.write(this.created),b.write(this.modified),b.writeShort_(this.xMin),b.writeShort_(this.yMin),b.writeShort_(this.xMax),b.writeShort_(this.yMax),b.writeShort(this.macStyle),b.writeShort(this.lowestRecPPEM),b.writeShort_(this.fontDirectionHint),b.writeShort_(a),b.writeShort_(this.glyphDataFormat),b.get()}}),l=e({parse:function(a){a.offset(this.offset);var b=this.file.head.indexToLocFormat;0===b?this.offsets=a.times(this.length/2,function(){return 2*a.readShort()}):this.offsets=a.times(this.length/4,a.readLong)},offsetOf:function(a){return this.offsets[a]},lengthOf:function(a){return this.offsets[a+1]-this.offsets[a]},render:function(a){for(var b=j(),c=a[a.length-1]>65535,d=0;d<a.length;++d)c?b.writeLong(a[d]):b.writeShort(a[d]/2);return{format:c?1:0,table:b.get()}}}),m=e({parse:function(a){a.offset(this.offset),this.version=a.readLong(),this.ascent=a.readShort_(),this.descent=a.readShort_(),this.lineGap=a.readShort_(),this.advanceWidthMax=a.readShort(),this.minLeftSideBearing=a.readShort_(),this.minRightSideBearing=a.readShort_(),this.xMaxExtent=a.readShort_(),this.caretSlopeRise=a.readShort_(),this.caretSlopeRun=a.readShort_(),this.caretOffset=a.readShort_(),a.skip(8),this.metricDataFormat=a.readShort_(),this.numOfLongHorMetrics=a.readShort()},render:function(a){var b=j();return b.writeLong(this.version),b.writeShort_(this.ascent),b.writeShort_(this.descent),b.writeShort_(this.lineGap),b.writeShort(this.advanceWidthMax),b.writeShort_(this.minLeftSideBearing),b.writeShort_(this.minRightSideBearing),b.writeShort_(this.xMaxExtent),b.writeShort_(this.caretSlopeRise),b.writeShort_(this.caretSlopeRun),b.writeShort_(this.caretOffset),b.write([0,0,0,0,0,0,0,0]),b.writeShort_(this.metricDataFormat),b.writeShort(a.length),b.get()}}),n=e({parse:function(a){a.offset(this.offset),this.version=a.readLong(),this.numGlyphs=a.readShort(),this.maxPoints=a.readShort(),this.maxContours=a.readShort(),this.maxComponentPoints=a.readShort(),this.maxComponentContours=a.readShort(),this.maxZones=a.readShort(),this.maxTwilightPoints=a.readShort(),this.maxStorage=a.readShort(),this.maxFunctionDefs=a.readShort(),this.maxInstructionDefs=a.readShort(),this.maxStackElements=a.readShort(),this.maxSizeOfInstructions=a.readShort(),this.maxComponentElements=a.readShort(),this.maxComponentDepth=a.readShort()},render:function(a){var b=j();return b.writeLong(this.version),b.writeShort(a.length),b.writeShort(this.maxPoints),b.writeShort(this.maxContours),b.writeShort(this.maxComponentPoints),b.writeShort(this.maxComponentContours),b.writeShort(this.maxZones),b.writeShort(this.maxTwilightPoints),b.writeShort(this.maxStorage),b.writeShort(this.maxFunctionDefs),b.writeShort(this.maxInstructionDefs),b.writeShort(this.maxStackElements),b.writeShort(this.maxSizeOfInstructions),b.writeShort(this.maxComponentElements),b.writeShort(this.maxComponentDepth),b.get()}}),o=e({parse:function(a){a.offset(this.offset);var b=this.file,c=b.hhea;this.metrics=a.times(c.numOfLongHorMetrics,function(){return{advance:a.readShort(),lsb:a.readShort_()}});var d=b.maxp.numGlyphs-b.hhea.numOfLongHorMetrics;this.leftSideBearings=a.times(d,a.readShort_)},forGlyph:function(a){var b=this.metrics,c=b.length;return a<c?b[a]:{advance:b[c-1].advance,lsb:this.leftSideBearings[a-c]}},render:function(a){for(var b=j(),c=0;c<a.length;++c){var d=this.forGlyph(a[c]);b.writeShort(d.advance),b.writeShort_(d.lsb)}return b.get()}}),p=function(){function a(a){this.raw=a}function c(a){this.raw=a;for(var b=this.glyphIds=[],c=this.idOffsets=[];;){var e=a.readShort();if(c.push(a.offset()),b.push(a.readShort()),!(e&g))break;a.skip(e&d?4:2),e&i?a.skip(8):e&h?a.skip(4):e&f&&a.skip(2)}}a.prototype={compound:!1,render:function(){return this.raw.get()}};var d=1,f=8,g=32,h=64,i=128;return c.prototype={compound:!0,render:function(a){for(var b=j(this.raw.get()),c=0;c<this.glyphIds.length;++c){var d=this.glyphIds[c];b.offset(this.idOffsets[c]),b.writeShort(a[d])}return b.get()}},e({parse:function(a){this.cache={}},glyphFor:function(d){var e=this.cache;if(b(e,d))return e[d];var f=this.file.loca,g=f.lengthOf(d);if(0===g)return e[d]=null;var h=this.rawData,i=this.offset+f.offsetOf(d),k=j(h.slice(i,g)),l=k.readShort_(),m=k.readShort_(),n=k.readShort_(),o=k.readShort_(),p=k.readShort_(),q=e[d]=l==-1?new c(k):new a(k);return q.numberOfContours=l,q.xMin=m,q.yMin=n,q.xMax=o,q.yMax=p,q},render:function(a,b,c){for(var d=j(),e=[],f=0;f<b.length;++f){var g=b[f],h=a[g];e.push(d.offset()),h&&d.write(h.render(c))}return e.push(d.offset()),{table:d.get(),offsets:e}}})}(),q=function(){function a(a,b){this.text=a,this.length=a.length,this.platformID=b.platformID,this.platformSpecificID=b.platformSpecificID,this.languageID=b.languageID,this.nameID=b.nameID}return e({parse:function(b){b.offset(this.offset);for(var c=(b.readShort(),b.readShort()),d=this.offset+b.readShort(),e=b.times(c,function(){return{platformID:b.readShort(),platformSpecificID:b.readShort(),languageID:b.readShort(),nameID:b.readShort(),length:b.readShort(),offset:b.readShort()+d}}),f=this.strings={},g=0;g<e.length;++g){var h=e[g];b.offset(h.offset);var i=b.readString(h.length);f[h.nameID]||(f[h.nameID]=[]),f[h.nameID].push(new a(i,h))}this.postscriptEntry=f[6][0],this.postscriptName=this.postscriptEntry.text.replace(/[^\x20-\x7F]/g,"")},render:function(c){var d=this.strings,e=0;for(var f in d)b(d,f)&&(e+=d[f].length);var g=j(),h=j();g.writeShort(0),g.writeShort(e),g.writeShort(6+12*e);for(f in d)if(b(d,f))for(var i=6==f?[new a(c,this.postscriptEntry)]:d[f],k=0;k<i.length;++k){var l=i[k];g.writeShort(l.platformID),g.writeShort(l.platformSpecificID),g.writeShort(l.languageID),g.writeShort(l.nameID),g.writeShort(l.length),g.writeShort(h.offset()),h.writeString(l.text)}return g.write(h.get()),g.get()}})}(),r=function(){var a=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(/\s+/g);return e({parse:function(a){a.offset(this.offset),this.format=a.readLong(),this.italicAngle=a.readFixed_(),this.underlinePosition=a.readShort_(),this.underlineThickness=a.readShort_(),this.isFixedPitch=a.readLong(),this.minMemType42=a.readLong(),this.maxMemType42=a.readLong(),this.minMemType1=a.readLong(),this.maxMemType1=a.readLong();var b;switch(this.format){case 65536:case 196608:break;case 131072:b=a.readShort(),this.glyphNameIndex=a.times(b,a.readShort),this.names=[];for(var c=this.offset+this.length;a.offset()<c;)this.names.push(a.readString(a.readByte()));break;case 151552:b=a.readShort(),this.offsets=a.read(b);break;case 262144:this.map=a.times(this.file.maxp.numGlyphs,a.readShort)}},glyphFor:function(b){switch(this.format){case 65536:return a[b]||".notdef";case 131072:var c=this.glyphNameIndex[b];return c<a.length?a[c]:this.names[c-a.length]||".notdef";case 151552:case 196608:return".notdef";case 262144:return this.map[b]||65535}},render:function(b){if(196608==this.format)return this.raw();var c=j(this.rawData.slice(this.offset,32));c.writeLong(131072),c.offset(32);for(var d=[],e=[],f=0;f<b.length;++f){var g=b[f],h=this.glyphFor(g),i=a.indexOf(h);i>=0?d.push(i):(d.push(a.length+e.length),e.push(h))}for(c.writeShort(b.length),f=0;f<d.length;++f)c.writeShort(d[f]);for(f=0;f<e.length;++f)c.writeByte(e[f].length),c.writeString(e[f]);return c.get()}})}(),s=function(){function a(a,b){var c=this;c.platformID=a.readShort(),c.platformSpecificID=a.readShort(),c.offset=b+a.readLong(),a.saveExcursion(function(){switch(a.offset(c.offset),c.format=a.readShort(),c.length=a.readShort(),c.language=a.readShort(),c.isUnicode=3==c.platformID&&1==c.platformSpecificID&&4==c.format||0===c.platformID&&4==c.format,c.codeMap={},c.format){case 0:for(var b=0;b<256;++b)c.codeMap[b]=a.readByte();break;case 4:var d=a.readShort()/2;a.skip(6);var e=a.times(d,a.readShort);a.skip(2);var f=a.times(d,a.readShort),g=a.times(d,a.readShort_),h=a.times(d,a.readShort),i=(c.length+c.offset-a.offset())/2,j=a.times(i,a.readShort);for(b=0;b<d;++b)for(var k=f[b],l=e[b],m=k;m<=l;++m){var n;if(0===h[b])n=m+g[b];else{var o=h[b]/2-(d-b)+(m-k);n=j[o]||0,0!==n&&(n+=g[b])}c.codeMap[m]=65535&n}}})}function b(a,b){function d(c){return b[a[c]]}for(var e=c(a),f=[],g=[],h=null,i=null,k=0;k<e.length;++k){var l=e[k],m=d(l),n=m-l;null!=h&&n===i||(h&&g.push(h),f.push(l),i=n),h=l}h&&g.push(h),g.push(65535),f.push(65535);var o=f.length,p=2*o,q=2*Math.pow(2,Math.floor(Math.log(o)/Math.LN2)),r=Math.log(q/2)/Math.LN2,s=p-q,t=[],u=[],v=[];for(k=0;k<o;++k){var w=f[k],x=g[k];if(65535==w){t.push(0),u.push(0);break}var y=d(w);if(w-y>=32768){t.push(0),u.push(2*(v.length+o-k));for(var z=w;z<=x;++z)v.push(d(z))}else t.push(y-w),u.push(0)}var A=j();return A.writeShort(3),A.writeShort(1),A.writeLong(12),A.writeShort(4),A.writeShort(16+8*o+2*v.length),A.writeShort(0),A.writeShort(p),A.writeShort(q),A.writeShort(r),A.writeShort(s),g.forEach(A.writeShort),A.writeShort(0),f.forEach(A.writeShort),t.forEach(A.writeShort_),u.forEach(A.writeShort),v.forEach(A.writeShort),A.get()}return e({parse:function(b){var c=this,d=c.offset;b.offset(d),c.version=b.readShort();var e=b.readShort();c.unicodeEntry=null,c.tables=b.times(e,function(){var e=new a(b,d);return e.isUnicode&&(c.unicodeEntry=e),e})},render:function(a,c){var d=j();return d.writeShort(0),d.writeShort(1),d.write(b(a,c)),d.get()},getUnicodeEntry:function(){if(!this.unicodeEntry)throw new Error("Font doesn't have an Unicode encoding");return this.unicodeEntry}})}(),t=e({parse:function(a){a.offset(this.offset),this.version=a.readShort(),this.averageCharWidth=a.readShort_(),this.weightClass=a.readShort(),this.widthClass=a.readShort(),this.type=a.readShort(),this.ySubscriptXSize=a.readShort_(),this.ySubscriptYSize=a.readShort_(),this.ySubscriptXOffset=a.readShort_(),this.ySubscriptYOffset=a.readShort_(),this.ySuperscriptXSize=a.readShort_(),this.ySuperscriptYSize=a.readShort_(),this.ySuperscriptXOffset=a.readShort_(),this.ySuperscriptYOffset=a.readShort_(),this.yStrikeoutSize=a.readShort_(),this.yStrikeoutPosition=a.readShort_(),this.familyClass=a.readShort_(),this.panose=a.times(10,a.readByte),this.charRange=a.times(4,a.readLong),this.vendorID=a.readString(4),this.selection=a.readShort(),this.firstCharIndex=a.readShort(),this.lastCharIndex=a.readShort(),this.version>0&&(this.ascent=a.readShort_(),this.descent=a.readShort_(),this.lineGap=a.readShort_(),this.winAscent=a.readShort(),this.winDescent=a.readShort(),this.codePageRange=a.times(2,a.readLong),this.version>1&&(this.xHeight=a.readShort(),this.capHeight=a.readShort(),this.defaultChar=a.readShort(),this.breakChar=a.readShort(),this.maxContext=a.readShort()))},render:function(){return this.raw()}}),u=1e5;g.prototype={use:function(a){var b;if("string"==typeof a){for(var c="",d=0;d<a.length;++d)b=this.use(a.charCodeAt(d)),c+=String.fromCharCode(b);return c}if(b=this.unicodes[a],!b){b=this.next++,this.subset[b]=a,this.unicodes[a]=b;var e=this.font.cmap.getUnicodeEntry().codeMap[a];if(e&&(this.ncid2ogid[b]=e,null==this.ogid2ngid[e])){var f=this.nextGid++;this.ogid2ngid[e]=f,this.ngid2ogid[f]=e}}return b},encodeText:function(a){return this.use(a)},glyphIds:function(){return c(this.ogid2ngid)},glyphsFor:function(a,b){b||(b={});for(var c=0;c<a.length;++c){var d=a[c];if(!b[d]){var e=b[d]=this.font.glyf.glyphFor(d);e&&e.compound&&this.glyphsFor(e.glyphIds,b)}}return b},render:function(){var a=this.glyphsFor(this.glyphIds());for(var d in a)if(b(a,d)&&(d=parseInt(d,10),null==this.ogid2ngid[d])){var e=this.nextGid++;this.ogid2ngid[d]=e,this.ngid2ogid[e]=d}var f=c(this.ngid2ogid),g=f.map(function(a){return this.ngid2ogid[a]},this),h=this.font,i=h.glyf.render(a,g,this.ogid2ngid),j=h.loca.render(i.offsets);this.lastChar=this.next-1;var k={cmap:s.render(this.ncid2ogid,this.ogid2ngid),glyf:i.table,loca:j.table,hmtx:h.hmtx.render(g),hhea:h.hhea.render(g),maxp:h.maxp.render(g),post:h.post.render(g),name:h.name.render(this.psName),head:h.head.render(j.format),"OS/2":h.os2.render()};return this.font.directory.render(k)},cidToGidMap:function(){for(var a=j(),b=0,c=this.firstChar;c<this.next;++c){for(;b<c;)a.writeShort(0),b++;var d=this.ncid2ogid[c];if(d){var e=this.ogid2ngid[d];a.writeShort(e)}else a.writeShort(0);b++}return a.get()}},h.prototype={parse:function(){var a=this.directory=new d(this.contents);this.head=a.readTable("head",k),this.loca=a.readTable("loca",l),this.hhea=a.readTable("hhea",m),this.maxp=a.readTable("maxp",n),this.hmtx=a.readTable("hmtx",o),this.glyf=a.readTable("glyf",p),this.name=a.readTable("name",q),this.post=a.readTable("post",r),this.cmap=a.readTable("cmap",s),this.os2=a.readTable("OS/2",t),this.psName=this.name.postscriptName,this.ascent=this.os2.ascent||this.hhea.ascent,this.descent=this.os2.descent||this.hhea.descent,this.lineGap=this.os2.lineGap||this.hhea.lineGap,this.scale=1e3/this.head.unitsPerEm},widthOfGlyph:function(a){return this.hmtx.forGlyph(a).advance*this.scale},makeSubset:function(){return new g(this)}},i.TTFFont=h}(window),function(a,b){"use strict";function c(b,c){function d(a,b,c){return c||(c=j),c.pdf&&null!=c.pdf[a]?c.pdf[a]:b}function e(){function e(a){var b=a.options,c=z(a),e=c.bbox;a=c.root;var g=d("paperSize",d("paperSize","auto"),b),i=!1;if("auto"==g)if(e){var j=e.getSize();g=[j.width,j.height],i=!0;var k=e.getOrigin();c=new A.Group,c.transform(new B.Matrix(1,0,0,1,(-k.x),(-k.y))),c.append(a),a=c}else g="A4";var l;l=f.addPage({paperSize:g,margin:d("margin",d("margin"),b),addMargin:i,landscape:d("landscape",d("landscape",!1),b)}),h(a,l,f)}if(!(--l>0)){var f=new a.pdf.Document({producer:d("producer"),title:d("title"),author:d("author"),subject:d("subject"),keywords:d("keywords"),creator:d("creator"),date:d("date")});k?b.children.forEach(e):e(b),c(f.render(),f)}}var f=[],i=[],j=b.options,k=d("multiPage");b.traverse(function(b){g({Image:function(a){i.indexOf(a.src())<0&&i.push(a.src())},Text:function(b){var c=a.pdf.parseFontDef(b.options.font),d=a.pdf.getFontURL(c);f.indexOf(d)<0&&f.push(d)}},b)});var l=2;a.pdf.loadFonts(f,e),a.pdf.loadImages(i,e)}function d(a,b){c(a,function(a){b("data:application/pdf;base64,"+a.base64())})}function e(a,b){c(a,function(a){b(new Blob([a.get()],{type:"application/pdf"}))})}function f(b,c,f,g){window.Blob&&!a.support.browser.safari?e(b,function(b){a.saveAs({dataURI:b,fileName:c}),g&&g(b)}):d(b,function(b){a.saveAs({dataURI:b,fileName:c,proxyURL:f}),g&&g(b)})}function g(a,b){var c=a[b.nodeType];return c?c.call.apply(c,arguments):b}function h(a,b,c){a.options._pdfDebug&&b.comment("BEGIN: "+a.options._pdfDebug);var d=a.transform(),e=a.opacity();if(b.save(),null!=e&&e<1&&b.setOpacity(e),i(a,b,c),j(a,b,c),k(a,b,c),d){var f=d.matrix();b.transform(f.a,f.b,f.c,f.d,f.e,f.f)}g({Path:q,MultiPath:r,Circle:s,Arc:t,Text:u,Image:w,Group:v},a,b,c),b.restore(),a.options._pdfDebug&&b.comment("END: "+a.options._pdfDebug)}function i(a,b,c){var d=a.stroke&&a.stroke();if(d){var e=d.color;if(e){if(e=y(e),null==e)return;b.setStrokeColor(e.r,e.g,e.b),1!=e.a&&b.setStrokeOpacity(e.a)}var f=d.width;if(null!=f){if(0===f)return;b.setLineWidth(f)}var g=d.dashType;g&&b.setDashPattern(D[g],0);var h=d.lineCap;h&&b.setLineCap(E[h]);var i=d.lineJoin;i&&b.setLineJoin(F[i]);var j=d.opacity;null!=j&&b.setStrokeOpacity(j)}}function j(a,b,c){var d=a.fill&&a.fill();if(d&&!(d instanceof A.Gradient)){var e=d.color;if(e){if(e=y(e),null==e)return;b.setFillColor(e.r,e.g,e.b),1!=e.a&&b.setFillOpacity(e.a)}var f=d.opacity;null!=f&&b.setFillOpacity(f)}}function k(a,b,c){var d=a.clip();d&&(p(d,b,c),b.clip())}function l(a){return a&&(a instanceof A.Gradient||a.color&&!/^(none|transparent)$/i.test(a.color)&&(null==a.width||a.width>0)&&(null==a.opacity||a.opacity>0))}function m(a,b,c,d){var e=a.fill();if(e instanceof A.Gradient){d?b.clipStroke():b.clip();
var f,g,h=e instanceof A.RadialGradient;h?(f={x:e.center().x,y:e.center().y,r:0},g={x:e.center().x,y:e.center().y,r:e.radius()}):(f={x:e.start().x,y:e.start().y},g={x:e.end().x,y:e.end().y});var i={type:h?"radial":"linear",start:f,end:g,userSpace:e.userSpace(),stops:e.stops.elements().map(function(a){var b=a.offset();b=/%$/.test(b)?parseFloat(b)/100:parseFloat(b);var c=y(a.color());return c.a*=a.opacity(),{offset:b,color:c}})},j=a.rawBBox(),k=j.topLeft(),l=j.getSize();return j={left:k.x,top:k.y,width:l.width,height:l.height},b.gradient(i,j),!0}}function n(a,b,c){l(a.fill())&&l(a.stroke())?m(a,b,c,!0)||b.fillStroke():l(a.fill())?m(a,b,c,!1)||b.fill():l(a.stroke())?b.stroke():b.nop()}function o(a,b,c){var d=a.segments;if(4==d.length&&a.options.closed){for(var e=[],f=0;f<d.length;++f){if(d[f].controlIn())return!1;e[f]=d[f].anchor()}var g=e[0].y==e[1].y&&e[1].x==e[2].x&&e[2].y==e[3].y&&e[3].x==e[0].x||e[0].x==e[1].x&&e[1].y==e[2].y&&e[2].x==e[3].x&&e[3].y==e[0].y;if(g)return b.rect(e[0].x,e[0].y,e[2].x-e[0].x,e[2].y-e[0].y),!0}}function p(a,b,c){var d=a.segments;if(0!==d.length&&!o(a,b,c)){for(var e,f=0;f<d.length;++f){var g=d[f],h=g.anchor();if(e){var i=e.controlOut(),j=g.controlIn();i&&j?b.bezier(i.x,i.y,j.x,j.y,h.x,h.y):b.lineTo(h.x,h.y)}else b.moveTo(h.x,h.y);e=g}a.options.closed&&b.close()}}function q(a,b,c){p(a,b,c),n(a,b,c)}function r(a,b,c){for(var d=a.paths,e=0;e<d.length;++e)p(d[e],b,c);n(a,b,c)}function s(a,b,c){var d=a.geometry();b.circle(d.center.x,d.center.y,d.radius),n(a,b,c)}function t(a,b,c){var d=a.geometry().curvePoints();b.moveTo(d[0].x,d[0].y);for(var e=1;e<d.length;)b.bezier(d[e].x,d[e++].y,d[e].x,d[e++].y,d[e].x,d[e++].y);n(a,b,c)}function u(b,c,d){var e,f=a.pdf.parseFontDef(b.options.font),g=b._position;b.fill()&&b.stroke()?e=C.fillAndStroke:b.fill()?e=C.fill:b.stroke()&&(e=C.stroke),c.transform(1,0,0,-1,g.x,g.y+f.fontSize),c.beginText(),c.setFont(a.pdf.getFontURL(f),f.fontSize),c.setTextRenderingMode(e),c.showText(b.content(),b._pdfRect?b._pdfRect.width():null),c.endText()}function v(a,b,c){a._pdfLink&&b.addLink(a._pdfLink.url,a._pdfLink);for(var d=a.children,e=0;e<d.length;++e)h(d[e],b,c)}function w(a,b,c){var d=a.src();if(d){var e=a.rect(),f=e.getOrigin(),g=e.getSize();b.transform(g.width,0,0,-g.height,f.x,f.y+g.height),b.drawImage(d)}}function x(a,c){var d=b.Deferred();for(var e in c)a.options.set("pdf."+e,c[e]);return A.pdf.toDataURL(a,d.resolve),d.promise()}function y(b){var c=a.parseColor(b,!0);return c?c.toRGB():null}function z(a){function b(a){return i=!0,a}function c(a){return a.visible()&&a.opacity()>0&&(l(a.fill())||l(a.stroke()))}function d(a){for(var b=[],c=0;c<a.length;++c){var d=h(a[c]);null!=d&&b.push(d)}return b}function e(a,b){var c=j,d=k;a.transform()&&(k=k.multiplyCopy(a.transform().matrix()));var e=a.clip();e&&(e=e.bbox(),e&&(e=e.bbox(k),j=j?B.Rect.intersect(j,e):e));try{return b()}finally{j=c,k=d}}function f(a){if(null==j)return!1;var b=a.rawBBox().bbox(k);return j&&b&&(b=B.Rect.intersect(b,j)),b}function h(h){return e(h,function(){if(!(h instanceof A.Group||h instanceof A.MultiPath)){var e=f(h);if(!e)return b(null);m=m?B.Rect.union(m,e):e}return g({Path:function(a){return 0!==a.segments.length&&c(a)?a:b(null)},MultiPath:function(a){if(!c(a))return b(null);var e=new A.MultiPath(a.options);return e.paths=d(a.paths),0===e.paths.length?b(null):e},Circle:function(a){return c(a)?a:b(null)},Arc:function(a){return c(a)?a:b(null)},Text:function(a){return/\S/.test(a.content())&&c(a)?a:b(null)},Image:function(a){return a.visible()&&a.opacity()>0?a:b(null)},Group:function(c){var e=new A.Group(c.options);return e.children=d(c.children),e._pdfLink=c._pdfLink,c===a||0!==e.children.length||c._pdfLink?e:b(null)}},h)})}var i,j=!1,k=B.Matrix.unit(),m=null;do i=!1,a=h(a);while(a&&i);return{root:a,bbox:m}}var A=a.drawing,B=a.geometry,C=(A.Color,a.pdf.TEXT_RENDERING_MODE),D={dash:[4],dashDot:[4,2,1,2],dot:[1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2],solid:[]},E={butt:0,round:1,square:2},F={miter:0,round:1,bevel:2};a.deepExtend(A,{exportPDF:x,pdf:{toDataURL:d,toBlob:e,saveAs:f,toStream:c}})}(window.kendo,window.kendo.jQuery),function(a,b){a.PDFMixin={extend:function(a){a.events.push("pdfExport"),a.options.pdf=this.options,a.saveAsPDF=this.saveAsPDF,a._drawPDF=this._drawPDF,a._drawPDFShadow=this._drawPDFShadow},options:{fileName:"Export.pdf",proxyURL:"",paperSize:"auto",allPages:!1,landscape:!1,margin:null,title:null,author:null,subject:null,keywords:null,creator:"Kendo UI PDF Generator",date:null},saveAsPDF:function(){var c=new b.Deferred,d=c.promise(),e={promise:d};if(!this.trigger("pdfExport",e)){var f=this.options.pdf;return f.multiPage=f.allPages,this._drawPDF(c).then(function(b){return a.drawing.exportPDF(b,f)}).done(function(b){a.saveAs({dataURI:b,fileName:f.fileName,proxyURL:f.proxyURL,forceProxy:f.forceProxy,proxyTarget:f.proxyTarget}),c.resolve()}).fail(function(a){c.reject(a)}),d}},_drawPDF:function(){return a.drawing.drawDOM(this.wrapper)},_drawPDFShadow:function(c){c=c||{};var d=this.wrapper,e=b("<div class='k-pdf-export-shadow'>");c.width&&e.css({width:c.width,overflow:"visible"}),d.before(e),e.append(c.content||d.clone(!0,!0));var f=a.drawing.drawDOM(e);return f.always(function(){e.remove()}),f}}}(kendo,window.kendo.jQuery),function(a,b){function c(a){return new Array(a+1).join('<td class="k-group-cell">&nbsp;</td>')}function d(a){var b,c=" ";if(a){if(typeof a===kb)return a;for(b in a)c+=b+'="'+a[b]+'"'}return c}function e(b,c){a("th, th .k-grid-filter, th .k-link",b).add(document.body).css("cursor",c)}function f(b,c,d,e,f){var g=c;c=a(),f=f||1;for(var h=0;h<f;h++)c=c.add(b.eq(g+h));"number"==typeof d?c[e?"insertBefore":"insertAfter"](b.eq(d)):c.appendTo(d)}function g(b,c,d){return a(b).add(c).find(d)}function h(a,b,c){var d,e,f,g;for(c=za(c)?c:[c],d=0,e=c.length;d<e;d++)f=c[d],va(f)&&f.click&&(g=f.name||f.text,b.on(gb+Oa,"a.k-grid-"+(g||"").replace(/\s/g,""),{commandName:g},Ca(f.click,a)))}function i(a,b,c){return xa(a,function(a){a=typeof a===kb?{field:a}:a;var d;return n(a)&&!c||(a.attributes=R(a.attributes),a.footerAttributes=R(a.footerAttributes),a.headerAttributes=R(a.headerAttributes),d=!0),a.columns&&(a.columns=i(a.columns,b,d)),wa({encoded:b,hidden:d},a)})}function j(a,b){var c=[];return k(a,b,c),c[c.length-1]}function k(a,b,c){c=c||[];for(var d=0;d<b.length;d++){if(a===b[d])return!0;if(b[d].columns){var e=c.length;if(c.push(b[d]),k(a,b[d].columns,c))return!0;c.splice(e,c.length-e)}}return!1}function l(a,b){var c=b?S:R;a.hidden=!b,a.attributes=c(a.attributes),a.footerAttributes=c(a.footerAttributes),a.headerAttributes=c(a.headerAttributes)}function m(){return"none"!==this.style.display}function n(a){return o([a]).length>0}function o(a){return ya(a,function(a){var b=!a.hidden;return b&&a.columns&&(b=o(a.columns).length>0),b})}function p(b){return a(b).map(function(){return this.toArray()})}function q(a,b,c){var d=t(H(b)),e=t(I(b)),f=a.rowSpan;c?d>e?a.rowSpan=f-(d-e)||1:a.rowSpan=f+(e-d):d>e?a.rowSpan=f+(d-e):a.rowSpan=f-(e-d)||1}function r(b,c,d,e,f,g,h){var i=t(b),j=t([c]);if(i>j){var k=new Array(h+1).join('<th class="k-group-cell k-header">&nbsp;</th>'),l=g.children(":not(.k-filter-row)");a(new Array(i-j+1).join("<tr>"+k+"</tr>")).insertAfter(l.last())}E(g,i-j),u(d,e,f,g)}function s(b,c,d){d=d||0;var e,f,g=c;c=M(c);for(var h={},i=b.find(">tr:not(.k-filter-row)"),j=function(){var b=a(this);return!b.hasClass("k-group-cell")&&!b.hasClass("k-hierarchy-cell")},k=0,l=c.length;k<l;k++)e=v(c[k],g),h[e.row]||(h[e.row]=i.eq(e.row).find(".k-header").filter(j)),f=h[e.row].eq(e.cell),f.attr(na.attr("index"),d+k);return c.length}function t(a){for(var b=1,c=0,d=0;d<a.length;d++)if(a[d].columns){var e=t(a[d].columns);e>c&&(c=e)}return b+c}function u(b,c,d,e){var f,g=y(b[0],c),h=d.find(">tr:not(.k-filter-row):eq("+g.row+")>th.k-header"),i=a(),j=g.cell;for(f=0;f<b.length;f++)i=i.add(h.eq(j+f));e.find(">tr:not(.k-filter-row)").eq(g.row).append(i);var k=[];for(f=0;f<b.length;f++)b[f].columns&&(k=k.concat(b[f].columns));k.length&&u(k,c,d,e)}function v(a,b,c,d){var e,f;for(c=c||0,d=d||{},d[c]=d[c]||0,f=0;f<b.length;f++){if(b[f]==a){e={cell:d[c],row:c};break}if(b[f].columns&&(e=v(a,b[f].columns,c+1,d)))break;d[c]++}return e}function w(a,b,c,d){var e,f=c.locked;do e=a[b],b+=d?1:-1;while(e&&b>-1&&b<a.length&&e!=c&&!e.columns&&e.locked==f);return e}function x(a,b,c,d){if(b.columns)return b=b.columns,b[d?0:b.length-1];var e,f=j(b,a);e=f?f.columns:a;var g=Aa(b,e);0===g&&d?g++:g!=e.length-1||d?(g>0||0===g&&!d)&&(g+=d?-1:1):g--;var h=Aa(c,e);return b=w(e,g,c,h>g),b&&b!=c&&b.columns?x(a,b,c,d):null}function y(a,b,c,d){var e,f;for(c=c||0,d=d||{},d[c]=d[c]||0,f=0;f<b.length;f++){if(b[f]==a){e={cell:d[c],row:c};break}if(b[f].columns&&(e=y(a,b[f].columns,c+1,d)))break;b[f].hidden||d[c]++}return e}function z(a){var b=A(H(a));return b.concat(A(I(a)))}function A(a){for(var b=[],c=[],d=0;d<a.length;d++)b.push(a[d]),a[d].columns&&(c=c.concat(a[d].columns));return c.length&&(b=b.concat(A(c))),b}function B(a){for(var b,c=0,d=0;d<a.length;d++)b=a[d],b.columns?c+=B(b.columns):b.hidden&&c++;return c}function C(a){for(var b,c=0,d=0,e=a.length;d<e;d++)b=a[d].style.width,b&&b.indexOf("%")==-1&&(c+=parseInt(b,10));return c}function D(a,b){for(var c,d=a.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)"),e=0;e<d.length;e++)c=d[e].rowSpan,c>1&&(d[e].rowSpan=c-b||1)}function E(a,b){for(var c=a.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)"),d=0;d<c.length;d++)c[d].rowSpan+=b}function F(b){for(var c=b.find("tr:not(.k-filter-row)"),d=c.filter(function(){return!a(this).children().length}).remove().length,e=c.find("th:not(.k-group-cell,.k-hierarchy-cell)"),f=0;f<e.length;f++)e[f].rowSpan>1&&(e[f].rowSpan-=d);return c.length-d}function G(a,b,c,d,e){var f,g,h,i=[];for(f=0,h=a.length;f<h;f++)g=c[d]||[],g.push(b.eq(e+f)),c[d]=g,a[f].columns&&(i=i.concat(a[f].columns));i.length&&G(i,b,c,d+1,e+a.length)}function H(a){return ya(a,function(a){return a.locked})}function I(a){return ya(a,function(a){return!a.locked})}function J(a){return ya(a,function(a){return!a.locked&&n(a)})}function K(a){return ya(a,function(a){return a.locked&&n(a)})}function L(a){for(var b=[],c=0;c<a.length;c++)a[c].hidden||(a[c].columns?b=b.concat(L(a[c].columns)):b.push(a[c]));return b}function M(a){for(var b=[],c=0;c<a.length;c++)a[c].columns?b=b.concat(M(a[c].columns)):b.push(a[c]);return b}function N(c){var d=c.find(">tr:not(.k-filter-row)"),e=function(){var b=a(this);return!b.hasClass("k-group-cell")&&!b.hasClass("k-hierarchy-cell")},f=a();d.length>1&&(f=d.find("th").filter(e).filter(function(){return this.rowSpan>1})),f=f.add(d.last().find("th").filter(e));var g=na.attr("index");return f.sort(function(c,d){c=a(c),d=a(d);var e=c.attr(g),f=d.attr(g);return e===b&&(e=a(c).index()),f===b&&(f=a(d).index()),e=parseInt(e,10),f=parseInt(f,10),e>f?1:e<f?-1:0}),f}function O(b){var c=b.closest("table"),d=a().add(b),e=b.closest("tr"),f=c.find("tr:not(.k-filter-row)"),g=f.index(e);if(g>0){var h=f.eq(g-1),i=h.find("th:not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return!a(this).attr("rowspan")}),j=0,k=e.find("th:not(.k-group-cell,.k-hierarchy-cell)").index(b),l=b.prevAll(":not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return this.colSpan>1});for(m=0;m<l.length;m++)j+=l[m].colSpan||1;k+=Math.max(j-1,0),j=0;for(var m=0;m<i.length;m++){var n=i.eq(m);if(j+=n.attr("colSpan")?n[0].colSpan:1,k>=m&&k<j){d=O(n).add(d);break}}}return d}function P(b){var c=b.closest("table"),d=a().add(b),e=b.closest("tr"),f=c.find("tr:not(.k-filter-row)"),g=f.index(e)+b[0].rowSpan,h=na.attr("colspan");if(g<=f.length-1){var i,j=e.next(),k=(e.find("th:not(.k-group-cell,.k-hierarchy-cell)").index(b),b.prevAll(":not(.k-group-cell,.k-hierarchy-cell)"));k=k.filter(function(){return!this.rowSpan||1===this.rowSpan});var l=0;for(i=0;i<k.length;i++)l+=parseInt(k.eq(i).attr(h),10)||1;var m=j.find("th:not(.k-group-cell,.k-hierarchy-cell)"),n=parseInt(b.attr(h),10)||1;for(i=0;i<n;){j=m.eq(i+l),d=d.add(P(j));var o=parseInt(j.attr(h),10);o>1&&(n-=o-1),i++}}return d}function Q(b,c,d){var e,f=b;return ra?b[0].innerHTML=d:(e=document.createElement("div"),e.innerHTML="<table><tbody>"+d+"</tbody></table>",b=e.firstChild.firstChild,c[0].replaceChild(b,f[0]),b=a(b)),b}function R(a){a=a||{};var b=a.style;return b?(b=b.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none"),b===a.style&&(b=b.replace(/(.*)?/i,"display:none;$1"))):b="display:none",wa({},a,{style:b})}function S(a){a=a||{};var b=a.style;return b&&(a.style=b.replace(/(display\s*:\s*none\s*;?)*/gi,"")),a}function T(b,c,d,e){var f,g=b.find(">colgroup"),h=xa(c,function(a){return f=a.width,f&&0!==parseInt(f,10)?na.format('<col style="width:{0}"/>',typeof f===kb?f:f+"px"):"<col />"});(d||g.find(".k-hierarchy-col").length)&&h.splice(0,0,'<col class="k-hierarchy-col" />'),g.length&&g.remove(),g=a(new Array(e+1).join('<col class="k-group-col">')+h.join("")),g.is("colgroup")||(g=a("<colgroup/>").append(g)),b.prepend(g),vb.msie&&8==vb.version&&(b.css("display","inline-table"),window.setTimeout(function(){b.css("display","")},1))}function U(a,b){var c,d,e=0;for(c=0,d=b.length;c<d;c++)b[c].locked&&(a.eq(c).insertBefore(a.eq(e)),e++)}function V(a){var b,c,d,e={};for(c=0,d=a.length;c<d;c++)b=a[c],e[b.value]=b.text;return e}function W(a,b,c,d){var e=c&&c.length&&va(c[0])&&"value"in c[0],f=e?V(c)[a]:a;return f=null!=f?f:"",b?na.format(b,f):d===!1?f:na.htmlEncode(f)}function X(a,b,c){for(var d,e=0,f=a[e];f;){if(d=!!c||"none"!==f.style.display,d&&!rb.test(f.className)&&--b<0){f.style.display=c?"":"none";break}f=a[++e]}}function Y(b,c){for(var d,e,f=0,g=b.length;f<g;f+=1)e=b.eq(f),e.is(".k-grouping-row,.k-detail-row")?(d=e.children(":not(.k-group-cell):first,.k-detail-cell").last(),d.attr("colspan",parseInt(d.attr("colspan"),10)-1)):(e.hasClass("k-grid-edit-row")&&(d=e.children(".k-edit-container")[0])&&(d=a(d),d.attr("colspan",parseInt(d.attr("colspan"),10)-1),d.find("col").eq(c).remove(),e=d.find("tr:first")),X(e[0].cells,c,!1))}function Z(a){for(var b,c=[],d=0;d<a.length&&(b=a[d],"field"in b&&"value"in b&&"items"in b);d++)c.push(b),b.hasSubgroups&&(c=c.concat(Z(b.items)));return c}function $(b,c){for(var d,e,f,g=0,h=b.length;g<h;g+=1)e=b.eq(g),e.is(".k-grouping-row,.k-detail-row")?(d=e.children(":not(.k-group-cell):first,.k-detail-cell").last(),d.attr("colspan",parseInt(d.attr("colspan"),10)+1)):(e.hasClass("k-grid-edit-row")&&(d=e.children(".k-edit-container")[0])&&(d=a(d),d.attr("colspan",parseInt(d.attr("colspan"),10)+1),T(d.find(">form>table"),o(f),!1,0),e=d.find("tr:first")),X(e[0].cells,c,!0))}function _(a,b,c){c=c||1;var d,e,f;for(e=0,f=a.length;e<f;e++)d=a.eq(e).children().last(),d.attr("colspan",parseInt(d.attr("colspan"),10)+c),d=b.eq(e).children().last(),d.attr("colspan",parseInt(d.attr("colspan"),10)-c)}function aa(a){var b,c,d=0,e=a.find(">colgroup>col");for(b=0,c=e.length;b<c;b+=1)d+=parseInt(e[b].style.width,10);return d}function ba(a,b){if(a=a[0],b=b[0],a.rows.length!==b.rows.length){var c,d,e=a.offsetHeight,f=b.offsetHeight;e>f?(c=b.rows[b.rows.length-1],sb.test(c.className)&&(c=b.rows[b.rows.length-2]),d=e-f):(c=a.rows[a.rows.length-1],sb.test(c.className)&&(c=a.rows[a.rows.length-2]),d=f-e),c.style.height=c.offsetHeight+d+"px"}}function ca(a,b){var c,d=a.offsetHeight,e=b.offsetHeight;d>e?c=d+"px":d<e&&(c=e+"px"),c&&(a.style.height=b.style.height=c)}function da(a,b){var c,d,e;if(typeof a===kb&&a===b)return a;if(va(a)&&a.name===b)return a;if(za(a))for(c=0,d=a.length;c<d;c++)if(e=a[c],typeof e===kb&&e===b||e.name===b)return e;return null}function ea(b,c){var d=vb.msie;if(c===!0){b=a(b);var e,f,g=!0;if(g&&(e=b.parent().scrollTop(),f=b.parent().scrollLeft()),d)try{b[0].setActive()}catch(h){b[0].focus()}else b[0].focus();g&&(b.parent().scrollTop(e),b.parent().scrollLeft(f))}else a(b).one("focusin",function(a){a.preventDefault()}).focus()}function fa(b){var c=a(b.currentTarget),d=c.is("th"),e=this.table.add(this.lockedTable),f=this.thead.parent().add(a(">table",this.lockedHeader)),g=a(b.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap"),h=c.closest("table")[0];if(!na.support.touch)return g&&c.find(na.roleSelector("filtercell")).length?void this.current(c):void(h!==e[0]&&h!==e[1]&&h!==f[0]&&h!==f[1]||a(b.target).is("a.k-i-collapse, a.k-i-expand")||(this.options.navigatable&&this.current(c),!d&&g||setTimeout(function(){xb&&a(na._activeElement()).hasClass("k-widget")||ea(h,!0)}),d&&b.preventDefault()))}function ga(b,c,d,e){if(b=a(b),e){var f=c;c=d,d=f}return c.not(b).length!=c.length?b:b[0]==d[0]?c.eq(0):c.eq(1)}function ha(a,c,d,e,f,g){var h,i,j=f?"prevAll":"nextAll";if(a){if(h=a.parent()[j](Ka).first(),!h[0]&&(f||a.is("th"))||!f&&a[0].rowSpan>1){if(c=ga(c,d,e,f),ea(c,!0),f&&!a.is(".k-header"))return N(c.find("thead:first")).eq(a.index());h=c.find((f?">thead>":">tbody>")+Ka).first()}if(!f&&a[0].colSpan>1&&a.is(".k-header"))a=P(a).eq(1);else if(a.is(".k-header")&&f){var k=O(a);a=k.eq(k.length-2)}else i=a.attr(na.attr("index")),i===b||f?i=a.index():c.parent().prev().hasClass("k-grid-content-locked")&&(i-=g),a=h.children().eq(i);a[0]&&a.is(La)||(a=h.children(La).first())}else a=d.find(Ma);return a}function ia(a,b,c,d,e){var f=c.length>1;return a?a.prevAll(":visible")[0]?a=a.prevAll(Ia).first():f&&(b==c[1]?(ea(c[0]),a=e(a.parent()).children(Ia).last()):b==d[1]&&(ea(d[0]),a=d.eq(0).find("tr>"+Ia).last())):a=c.find(Ma),a}function ja(a,b,c,d,e){var f=c.length>1;return a?a.nextAll(":visible")[0]?a=a.nextAll(Ia).first():f&&(b==c[0]?(ea(c[1]),a=e(a.parent()).children(Ia).first()):b==d[0]&&(ea(d[1]),a=d.eq(1).find("tr>"+Ia).first())):a=c.find(Ma),a}function ka(a,b,c,d,e){var f=2==c.length,g=!0,h=e?a.prevAll(Ia+":first"):a.nextAll(":visible:first");return h.length||(h=a.parent(),f&&(g=e&&b==c[0]||!e&&b==c[1],h=d(h)),g&&(h=h[e?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first")),h=h.children(Ia+(e?":last":":first"))),h}function la(a,b,d){return'<tr class="k-grouping-row">'+c(b)+'<td colspan="'+a+'" aria-expanded="true"><p class="k-reset"><a class="k-icon k-i-collapse" href="#" tabindex="-1"></a>'+d+"</p></td></tr>"}function ma(a,b,c){return'<tr class="k-grouping-row"><td colspan="'+a+'" aria-expanded="true"><p class="k-reset">&nbsp;</p></td></tr>'}var na=window.kendo,oa=na.ui,pa=na.data.DataSource,qa=oa.Groupable,ra=na.support.tbodyInnerHtml,sa=na._activeElement,ta=oa.Widget,ua=na.keys,va=a.isPlainObject,wa=a.extend,xa=a.map,ya=a.grep,za=a.isArray,Aa=a.inArray,Ba=Array.prototype.push,Ca=a.proxy,Da=na.isFunction,Ea=a.isEmptyObject,Fa=Math,Ga="progress",Ha="error",Ia=":not(.k-group-cell):not(.k-hierarchy-cell):visible",Ja="tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)",Ka="tr:not(.k-footer-template):visible",La=":not(.k-group-cell):not(.k-hierarchy-cell):visible",Ma=Ka+":first>"+La+":first",Na="th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)",Oa=".kendoGrid",Pa="edit",Qa="save",Ra="remove",Sa="detailInit",Ta="filterMenuInit",Ua="columnMenuInit",Va="change",Wa="columnHide",Xa="columnShow",Ya="saveChanges",Za="dataBound",$a="detailExpand",_a="detailCollapse",ab="k-state-focused",bb="k-state-selected",cb="columnResize",db="columnReorder",eb="columnLock",fb="columnUnlock",gb="click",hb="height",ib="tabIndex",jb="function",kb="string",lb="Are you sure you want to delete this record?",mb="Delete",nb="Cancel",ob=/(\}|\#)/gi,pb=/#/gi,qb="[\\x20\\t\\r\\n\\f]",rb=new RegExp("(^|"+qb+")(k-group-cell|k-hierarchy-cell)("+qb+"|$)"),sb=new RegExp("(^|"+qb+")(k-filter-row)("+qb+"|$)"),tb='<a class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>',ub=!1,vb=na.support.browser,wb=vb.msie&&7==vb.version,xb=vb.msie&&8==vb.version,yb=ta.extend({init:function(a,b){var c=this;ta.fn.init.call(c,a,b),c._refreshHandler=Ca(c.refresh,c),c.setDataSource(b.dataSource),c.wrap()},setDataSource:function(a){var b=this;b.dataSource&&b.dataSource.unbind(Va,b._refreshHandler),b.dataSource=a,b.dataSource.bind(Va,b._refreshHandler)},options:{name:"VirtualScrollable",itemHeight:a.noop,prefetch:!0},destroy:function(){var a=this;ta.fn.destroy.call(a),a.dataSource.unbind(Va,a._refreshHandler),a.wrapper.add(a.verticalScrollbar).off(Oa),a.drag&&(a.drag.destroy(),a.drag=null),a.wrapper=a.element=a.verticalScrollbar=null,a._refreshHandler=null},wrap:function(){var b,c=this,d=na.support.scrollbar()+1,e=c.element;e.css({width:"auto",overflow:"hidden"}).css(ub?"padding-left":"padding-right",d),c.content=e.children().first(),b=c.wrapper=c.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll"+Oa+" mousewheel"+Oa,Ca(c._wheelScroll,c)),na.support.kineticScrollNeeded&&(c.drag=new na.UserEvents(c.wrapper,{global:!0,start:function(a){a.sender.capture()},move:function(a){c.verticalScrollbar.scrollTop(c.verticalScrollbar.scrollTop()-a.y.delta),b.scrollLeft(b.scrollLeft()-a.x.delta),a.preventDefault()}})),c.verticalScrollbar=a('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:d}).appendTo(e).bind("scroll"+Oa,Ca(c._scroll,c))},_wheelScroll:function(b){if(!b.ctrlKey){var c=this.verticalScrollbar.scrollTop(),d=na.wheelDeltaY(b);d&&(b.preventDefault(),a(b.currentTarget).one("wheel"+Oa,!1),this.verticalScrollbar.scrollTop(c+-d))}},_scroll:function(a){var b=this,c=!b.options.prefetch,d=a.currentTarget.scrollTop,e=b.dataSource,f=b.itemHeight,g=e.skip()||0,h=b._rangeStart||g,i=b.element.innerHeight(),j=!!(b._scrollbarTop&&b._scrollbarTop>d),k=Fa.max(Fa.floor(d/f),0),l=Fa.max(k+Fa.floor(i/f),0);b._scrollTop=d-h*f,b._scrollbarTop=d,b._scrolling=c,b._fetch(k,l,j)||(b.wrapper[0].scrollTop=b._scrollTop),c&&(b._scrollingTimeout&&clearTimeout(b._scrollingTimeout),b._scrollingTimeout=setTimeout(function(){b._scrolling=!1,b._page(b._rangeStart,b.dataSource.take())},100))},_fetch:function(a,b,c){var d=this,e=d.dataSource,f=d.itemHeight,g=e.take(),h=d._rangeStart||e.skip()||0,i=Fa.floor(a/g)*g,j=!1,k=.33;return a<h?(j=!0,h=Fa.max(0,b-g),d._scrollTop=(a-h)*f,d._page(h,g)):b>=h+g&&!c?(j=!0,h=a,d._scrollTop=f,d._page(h,g)):!d._fetching&&d.options.prefetch&&(a<i+g-g*k&&a>g&&e.prefetch(i-g,g),b>i+g*k&&e.prefetch(i+g,g)),j},_page:function(a,b){var c=this,d=!c.options.prefetch,e=c.dataSource;clearTimeout(c._timeout),c._fetching=!0,c._rangeStart=a,e.inRange(a,b)?e.range(a,b):(d||na.ui.progress(c.wrapper.parent(),!0),c._timeout=setTimeout(function(){c._scrolling||(d&&na.ui.progress(c.wrapper.parent(),!0),e.range(a,b))},100))},repaintScrollbar:function(){var a,b,c,d=this,e="",f=25e4,g=d.dataSource,h=na.support.kineticScrollNeeded?0:na.support.scrollbar(),i=d.wrapper[0];c=d.itemHeight=d.options.itemHeight()||0;var j=i.scrollWidth>i.offsetWidth?h:0;for(a=g.total()*c+j,b=0;b<Fa.floor(a/f);b++)e+='<div style="width:1px;height:'+f+'px"></div>';a%f&&(e+='<div style="width:1px;height:'+a%f+'px"></div>'),d.verticalScrollbar.html(e),i.scrollTop=d._scrollTop},refresh:function(){var a=this,b=a.dataSource,c=a._rangeStart;na.ui.progress(a.wrapper.parent(),!1),clearTimeout(a._timeout),a.repaintScrollbar(),a.drag&&a.drag.cancel(),c&&!a._fetching&&(a._rangeStart=b.skip(),1===b.page()&&(a.verticalScrollbar[0].scrollTop=0)),a._fetching=!1}}),zb={create:{text:"Add new record",imageClass:"k-add",className:"k-grid-add",iconClass:"k-icon"},cancel:{text:"Cancel changes",imageClass:"k-cancel",className:"k-grid-cancel-changes",iconClass:"k-icon"},save:{text:"Save changes",imageClass:"k-update",className:"k-grid-save-changes",iconClass:"k-icon"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-grid-delete",iconClass:"k-icon"},edit:{text:"Edit",imageClass:"k-edit",className:"k-grid-edit",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-update",className:"k-primary k-grid-update",iconClass:"k-icon"},canceledit:{text:"Cancel",imageClass:"k-cancel",className:"k-grid-cancel",iconClass:"k-icon"},excel:{text:"Export to Excel",imageClass:"k-i-excel",className:"k-grid-excel",iconClass:"k-icon"},pdf:{text:"Export to PDF",imageClass:"k-i-pdf",className:"k-grid-pdf",iconClass:"k-icon"}},Ab=na.ui.DataBoundWidget.extend({init:function(b,c,d){var e=this;c=za(c)?{dataSource:c}:c,ta.fn.init.call(e,b,c),d&&(e._events=d),ub=na.support.isRtl(b),e._element(),e._aria(),e._columns(e.options.columns),e._dataSource(),e._tbody(),e._pageable(),e._thead(),e._groupable(),e._toolbar(),e._setContentHeight(),e._templates(),e._navigatable(),e._selectable(),e._clipboard(),e._details(),e._editable(),e._attachCustomCommandsEvent(),e._minScreenSupport(),e.options.autoBind?e.dataSource.fetch():e._footer(),e.lockedContent&&(e.wrapper.addClass("k-grid-lockedcolumns"),e._resizeHandler=function(){e.resize()},a(window).on("resize"+Oa,e._resizeHandler)),na.notify(e)},events:[Va,"dataBinding","cancel",Za,$a,_a,Sa,Ta,Ua,Pa,Qa,Ra,Ya,cb,db,Xa,Wa,eb,fb],setDataSource:function(a){var b=this,c=b.options.scrollable;b.options.dataSource=a,b._dataSource(),b._pageable(),b._thead(),c&&(c.virtual?b.content.find(">.k-virtual-scrollable-wrap").scrollLeft(0):b.content.scrollLeft(0)),b.options.groupable&&b._groupable(),b.virtualScrollable&&b.virtualScrollable.setDataSource(b.options.dataSource),b.options.navigatable&&b._navigatable(),b.options.selectable&&b._selectable(),b.options.autoBind&&a.fetch()},options:{name:"Grid",columns:[],toolbar:null,autoBind:!0,filterable:!1,scrollable:!0,sortable:!1,selectable:!1,allowCopy:!1,navigatable:!1,pageable:!1,editable:!1,groupable:!1,rowTemplate:"",altRowTemplate:"",dataSource:{},height:null,resizable:!1,reorderable:!1,columnMenu:!1,detailTemplate:null,columnResizeHandleWidth:3,mobile:"",messages:{editable:{cancelDelete:nb,confirmation:lb,confirmDelete:mb},commands:{create:zb.create.text,cancel:zb.cancel.text,save:zb.save.text,destroy:zb.destroy.text,edit:zb.edit.text,update:zb.update.text,canceledit:zb.canceledit.text,excel:zb.excel.text,pdf:zb.pdf.text}}},destroy:function(){var b,c=this;c._destroyColumnAttachments(),ta.fn.destroy.call(c),c._resizeHandler&&a(window).off("resize"+Oa,c._resizeHandler),c.pager&&c.pager.element&&c.pager.destroy(),c.pager=null,c.groupable&&c.groupable.element&&c.groupable.element.kendoGroupable("destroy"),c.groupable=null,c.options.reorderable&&c.wrapper.data("kendoReorderable").destroy(),c.selectable&&c.selectable.element&&(c.selectable.destroy(),c.clearArea(),c.copyHandler&&(c.wrapper.off("keydown",c.copyHandler),c.unbind(c.copyHandler)),c.updateClipBoardState&&(c.unbind(c.updateClipBoardState),c.updateClipBoardState=null),c.clearAreaHandler&&c.wrapper.off("keyup",c.clearAreaHandler)),c.selectable=null,c.resizable&&(c.resizable.destroy(),c._resizeUserEvents&&(c._resizeHandleDocumentClickHandler&&a(document).off("click",c._resizeHandleDocumentClickHandler),c._resizeUserEvents.destroy(),c._resizeUserEvents=null),c.resizable=null),c.virtualScrollable&&c.virtualScrollable.element&&c.virtualScrollable.destroy(),c.virtualScrollable=null,c._destroyEditable(),c.dataSource&&(c.dataSource.unbind(Va,c._refreshHandler).unbind(Ga,c._progressHandler).unbind(Ha,c._errorHandler),c._refreshHandler=c._progressHandler=c._errorHandler=null),b=c.element.add(c.wrapper).add(c.table).add(c.thead).add(c.wrapper.find(">.k-grid-toolbar")),c.content&&(b=b.add(c.content).add(c.content.find(">.k-virtual-scrollable-wrap"))),c.lockedHeader&&c._removeLockedContainers(),c.pane&&c.pane.destroy(),c.minScreenResizeHandler&&a(window).off("resize",c.minScreenResizeHandler),c._draggableInstance&&c._draggableInstance.element&&c._draggableInstance.destroy(),c._draggableInstance=null,b.off(Oa),na.destroy(c.wrapper),c.rowTemplate=c.altRowTemplate=c.lockedRowTemplate=c.lockedAltRowTemplate=c.detailTemplate=c.footerTemplate=c.groupFooterTemplate=c.lockedGroupFooterTemplate=null,c.scrollables=c.thead=c.tbody=c.element=c.table=c.content=c.footer=c.wrapper=c._groupableClickHandler=c._setContentWidthHandler=null},getOptions:function(){var c=this.options;c.dataSource=null;var d=wa(!0,{},this.options);d.columns=na.deepExtend([],this.columns);var e=this.dataSource,f=e.options.data&&e._data;return e.options.data=null,d.dataSource=a.extend(!0,{},e.options),e.options.data=f,d.dataSource.data=f,d.dataSource.page=e.page(),d.dataSource.filter=e.filter(),d.dataSource.pageSize=e.pageSize(),d.dataSource.sort=e.sort(),d.dataSource.group=e.group(),d.dataSource.aggregate=e.aggregate(),d.dataSource.transport&&(d.dataSource.transport.dataSource=null),d.$angular=b,d},setOptions:function(a){var b=this.getOptions();na.deepExtend(b,a),a.dataSource||(b.dataSource=this.dataSource);var c=this.wrapper,d=this._events,e=this.element;if(this.destroy(),this.options=null,this._isMobile){var f=c.closest(na.roleSelector("pane")).parent();f.after(c),f.remove(),c.removeClass("k-grid-mobile")}c[0]!==e[0]&&(c.before(e),c.remove()),e.empty(),this.init(e,b,d),this._setEvents(b)},items:function(){return this.lockedContent?this._items(this.tbody).add(this._items(this.lockedTable.children("tbody"))):this._items(this.tbody)},_items:function(b){return b.children().filter(function(){var b=a(this);return!b.hasClass("k-grouping-row")&&!b.hasClass("k-detail-row")&&!b.hasClass("k-group-footer")})},dataItems:function(){var a=na.ui.DataBoundWidget.fn.dataItems.call(this);if(this.lockedContent){for(var b=a.length,c=new Array(2*b),d=b;--d>=0;)c[d]=c[d+b]=a[d];a=c}return a},_destroyColumnAttachments:function(){var b=this;b.resizeHandle=null,b.thead&&(this.angular("cleanup",function(){return{elements:b.thead.get()}}),b.thead.find("th").each(function(){var b=a(this),c=b.data("kendoFilterMenu"),d=b.data("kendoColumnSorter"),e=b.data("kendoColumnMenu");c&&c.destroy(),d&&d.destroy(),e&&e.destroy()}))},_attachCustomCommandsEvent:function(){var a,b,c,d=this,e=M(d.columns||[]);for(b=0,c=e.length;b<c;b++)a=e[b].command,a&&h(d,d.wrapper,a)},_aria:function(){var a=this.element.attr("id")||"aria";a&&(this._cellId=a+"_active_cell")},_element:function(){var b=this,c=b.element;c.is("table")||(c=b.options.scrollable?b.element.find("> .k-grid-content > table"):b.element.children("table"),c.length||(c=a("<table />").appendTo(b.element))),wb&&c.attr("cellspacing",0),b.table=c.attr("role",b._hasDetails()?"treegrid":"grid"),b._wrapper()},_createResizeHandle:function(b,c){var d,e=this,f=e.options.columnResizeHandleWidth,g=e.options.scrollable,h=e.resizeHandle,i=this._groups();if(h&&e.lockedContent&&h.data("th")[0]!==c[0]&&(h.off(Oa).remove(),h=null),h||(h=e.resizeHandle=a('<div class="k-resize-handle"><div class="k-resize-handle-inner"></div></div>'),b.append(h)),ub){if(d=c.position().left,g){var j=c.closest(".k-grid-header-wrap, .k-grid-header-locked"),k=vb.msie?j.scrollLeft():0,l=vb.webkit?j[0].scrollWidth-j[0].offsetWidth-j.scrollLeft():0,m=vb.mozilla?j[0].scrollWidth-j[0].offsetWidth-(j[0].scrollWidth-j[0].offsetWidth-j.scrollLeft()):0;d-=l-m+k}}else{d=c[0].offsetWidth;for(var n=N(c.closest("thead")),o=0;o<n.length&&n[o]!=c[0];o++)d+=n[o].offsetWidth;i>0&&(d+=b.find(".k-group-cell:first").outerWidth()*i),e._hasDetails()&&(d+=b.find(".k-hierarchy-cell:first").outerWidth())}h.css({top:c.position().top,left:d-f,height:c.outerHeight(),width:3*f}).data("th",c).show(),h.off("dblclick"+Oa).on("dblclick"+Oa,function(){e._autoFitLeafColumn(c.data("index"))})},_positionColumnResizeHandle:function(b){var c=this,d=c.options.columnResizeHandleWidth,f=c.lockedHeader?c.lockedHeader.find("thead:first"):a();c.thead.add(f).on("mousemove"+Oa,"th",function(b){var f=a(this);if(!f.hasClass("k-group-cell")&&!f.hasClass("k-hierarchy-cell")){var g=b.clientX,h=a(window).scrollLeft(),i=f.offset().left+(ub?0:this.offsetWidth);g+h>i-d&&g+h<i+d?c._createResizeHandle(f.closest("div"),f):c.resizeHandle?c.resizeHandle.hide():e(c.wrapper,"")}})},_resizeHandleDocumentClick:function(b){a(b.target).closest(".k-column-active").length||(a(document).off(b),this._hideResizeHandle())},_hideResizeHandle:function(){this.resizeHandle&&(this.resizeHandle.data("th").removeClass("k-column-active"),this.lockedContent&&!this._isMobile?(this.resizeHandle.off(Oa).remove(),
this.resizeHandle=null):this.resizeHandle.hide())},_positionColumnResizeHandleTouch:function(b){var c=this,d=c.lockedHeader?c.lockedHeader.find("thead:first"):a();c._resizeUserEvents=new na.UserEvents(d.add(c.thead),{filter:"th:not(.k-group-cell):not(.k-hierarchy-cell)",threshold:10,hold:function(b){var d=a(b.target);b.preventDefault(),d.addClass("k-column-active"),c._createResizeHandle(d.closest("div"),d),c._resizeHandleDocumentClickHandler||(c._resizeHandleDocumentClickHandler=Ca(c._resizeHandleDocumentClick,c)),a(document).on("click",c._resizeHandleDocumentClickHandler)}})},_resizable:function(){var b,c,d,f,g,h,i,j=this,k=j.options,l=this._isMobile,m=na.support.mobileOS?0:na.support.scrollbar();k.resizable&&(b=k.scrollable?j.wrapper.find(".k-grid-header-wrap:first"):j.wrapper,l?j._positionColumnResizeHandleTouch(b):j._positionColumnResizeHandle(b),j.resizable&&j.resizable.destroy(),j.resizable=new oa.Resizable(b.add(j.lockedHeader),{handle:(k.scrollable?"":">")+".k-resize-handle",hint:function(b){return a('<div class="k-grid-resize-indicator" />').css({height:b.data("th").outerHeight()+j.tbody.attr("clientHeight")})},start:function(b){i=a(b.currentTarget).data("th"),l&&j._hideResizeHandle();var m=i.closest("table"),n=a.inArray(i[0],N(i.closest("thead")).filter(":visible"));g=m.parent().hasClass("k-grid-header-locked");var o=g?j.lockedTable:j.table,p=j.footer||a();j.footer&&j.lockedContent&&(p=g?j.footer.children(".k-grid-footer-locked"):j.footer.children(".k-grid-footer-wrap")),e(j.wrapper,"col-resize"),h=k.scrollable?m.find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+n+")").add(o.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+n+")")).add(p.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+n+")")):o.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+n+")"),c=b.x.location,d=i.outerWidth(),f=g?o.children("tbody").outerWidth():j.tbody.outerWidth(),vb.webkit&&j.wrapper.addClass("k-grid-column-resizing")},resize:function(b){var e=ub?-1:1,l=d+b.x.location*e-c*e;if(k.scrollable){var n;g&&j.lockedFooter?n=j.lockedFooter.children("table"):j.footer&&(n=j.footer.find(">.k-grid-footer-wrap>table")),n&&n[0]||(n=a());var o=i.closest("table"),p=g?j.lockedTable:j.table,q=!1,r=j.wrapper.width()-m,s=l;g&&f-d+s>r&&(s=d+(r-f-2*m),s<0&&(s=l),q=!0),s>10&&(h.css("width",s),f&&(s=q?r-2*m:f+b.x.location*e-c*e,p.add(o).add(n).css("width",s),g||(j._footerWidth=s)))}else l>10&&h.css("width",l)},resizeend:function(){var a,b,c=i.outerWidth();if(e(j.wrapper,""),vb.webkit&&j.wrapper.removeClass("k-grid-column-resizing"),d!=c){b=j.lockedHeader?j.lockedHeader.find("thead:first tr:first").add(j.thead.find("tr:first")):i.parent();var f=i.attr(na.attr("index"));f||(f=b.find("th:not(.k-group-cell):not(.k-hierarchy-cell)").index(i)),a=M(j.columns)[f],a.width=c,j.trigger(cb,{column:a,oldWidth:d,newWidth:c}),j._applyLockedContainersWidth(),j._syncLockedContentHeight(),j._syncLockedHeaderHeight()}j._hideResizeHandle(),i=null}}))},_draggable:function(){var b=this;b.options.reorderable&&(b._draggableInstance&&b._draggableInstance.destroy(),b._draggableInstance=b.wrapper.kendoDraggable({group:na.guid(),filter:b.content?".k-grid-header:first "+Na:"table:first>.k-grid-header "+Na,drag:function(){b._hideResizeHandle()},hint:function(b){return a('<div class="k-header k-drag-clue" />').css({width:b.width(),paddingLeft:b.css("paddingLeft"),paddingRight:b.css("paddingRight"),lineHeight:b.height()+"px",paddingTop:b.css("paddingTop"),paddingBottom:b.css("paddingBottom")}).html(b.attr(na.attr("title"))||b.attr(na.attr("field"))||b.text()).prepend('<span class="k-icon k-drag-status k-denied" />')}}).data("kendoDraggable"))},_reorderable:function(){var b=this;if(b.options.reorderable){b.wrapper.data("kendoReorderable")&&b.wrapper.data("kendoReorderable").destroy();var c=function(a,c,d){var e=a[c],f=a[d],g=j(e,b.columns);return a=g?g.columns:b.columns,Aa(f,a)};b.wrapper.kendoReorderable({draggable:b._draggableInstance,dragOverContainers:function(a,d){var e=z(b.columns);return e[a].lockable!==!1&&c(e,a,d)>-1},inSameContainer:function(d){return a(d.source).parent()[0]===a(d.target).parent()[0]&&c(z(b.columns),d.sourceIndex,d.targetIndex)>-1},change:function(a){var d=z(b.columns),e=d[a.oldIndex],f=c(d,a.oldIndex,a.newIndex);b.trigger(db,{newIndex:f,oldIndex:Aa(e,d),column:e}),b.reorderColumn(f,e,"before"===a.position)}})}},_reorderHeader:function(a,b,c){for(var d=this,e=v(a[0],d.columns),h=v(b,d.columns),i=[],j=0;j<a.length;j++)a[j].columns&&(i=i.concat(a[j].columns));var k=g(d.lockedHeader,d.thead,"tr:eq("+e.row+")>th.k-header:not(.k-group-cell,.k-hierarchy-cell)"),l=H(a).length,m=H([b]).length;i.length?(l>0&&0===m?r(a,b,i,d.columns,d.lockedHeader.find("thead"),d.thead,this._groups()):0===l&&m>0&&r(a,b,i,d.columns,d.thead,d.lockedHeader.find("thead"),this._groups()),(b.columns||e.cell-h.cell>1||h.cell-e.cell>1)&&(b=x(d.columns,b,a[0],c),b&&d._reorderHeader(i,b,c))):l!==m&&q(k[e.cell],d.columns,l),f(k,e.cell,h.cell,c,a.length)},_reorderContent:function(b,c,d){var e,h,i=this,j=a(),k=b[0],l=o(b),m=Aa(k,M(i.columns)),n=Aa(c,M(i.columns)),p=Aa(k,L(i.columns)),q=Aa(c,L(i.columns)),r=H(i.columns).length,s=!!c.locked,t=i.footer||i.wrapper.find(".k-grid-footer");e=h=q,c.hidden&&(s?(q=i.lockedTable.find("colgroup"),e=i.lockedHeader.find("colgroup"),h=a(i.lockedFooter).find(">table>colgroup")):(q=i.tbody.prev(),e=i.thead.prev(),h=t.find(".k-grid-footer-wrap").find(">table>colgroup"))),i._hasFilterRow()&&f(i.wrapper.find(".k-filter-row th:not(.k-group-cell,.k-hierarchy-cell)"),m,n,d,b.length),f(g(i.lockedHeader,i.thead.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),p,e,d,l.length),i.options.scrollable&&f(g(i.lockedTable,i.tbody.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),p,q,d,l.length),t&&t.length&&(f(g(i.lockedFooter,t.find(".k-grid-footer-wrap"),">table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),p,h,d,l.length),f(t.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),m,n,d,b.length));var u=i.tbody.children(":not(.k-grouping-row,.k-detail-row)");i.lockedTable&&(r>n?r<=m&&_(i.lockedTable.find(">tbody>tr.k-grouping-row"),i.table.find(">tbody>tr.k-grouping-row"),b.length):r>m&&_(i.table.find(">tbody>tr.k-grouping-row"),i.lockedTable.find(">tbody>tr.k-grouping-row"),b.length),j=i.lockedTable.find(">tbody>tr:not(.k-grouping-row,.k-detail-row)"));for(var v=0,w=u.length;v<w;v+=1)f(g(j[v],u[v],">td:not(.k-group-cell,.k-hierarchy-cell)"),m,n,d,b.length)},_autoFitLeafColumn:function(a){this.autoFitColumn(M(this.columns)[a])},autoFitColumn:function(b){var c,d,e,f,g,h=this,i=h.options,j=h.columns,k=h.lockedHeader?N(h.lockedHeader.find(">table>thead")).filter(m).length:0;if(b="number"==typeof b?j[b]:va(b)?ya(A(j),function(a){return a===b})[0]:ya(A(j),function(a){return a.field===b})[0],b&&n(b)){c=Aa(b,M(j)),f=b.locked,e=f?h.lockedHeader.children("table"):h.thead.parent(),d=e.find("[data-index='"+c+"']");var l=f?h.lockedTable:h.table,o=h.footer||a();h.footer&&h.lockedContent&&(o=f?h.footer.children(".k-grid-footer-locked"):h.footer.children(".k-grid-footer-wrap"));var p=o.find("table").first();h.lockedHeader&&k>=c&&!f&&(c-=k);for(var q=0;q<j.length&&j[q]!==b;q++)j[q].hidden&&c--;g=i.scrollable?e.find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+c+")").add(l.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+c+")")).add(p.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+c+")")):l.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+c+")");var r=e.add(l).add(p),s=d.outerWidth();g.width(""),r.css("table-layout","fixed"),g.width("auto"),r.addClass("k-autofitting"),r.css("table-layout","");var t=(Math.max(e.width(),l.width(),p.width()),Math.ceil(Math.max(d.outerWidth(),l.find("tr").eq(0).children("td:visible").eq(c).outerWidth(),p.find("tr").eq(0).children("td:visible").eq(c).outerWidth())));if(g.width(t),b.width=t,i.scrollable){for(var u,v=e.find("col"),w=0,x=0,y=v.length;x<y;x+=1){if(u=v[x].style.width,!u||u.indexOf("%")!=-1){w=0;break}w+=parseInt(u,10)}w&&r.each(function(){this.style.width=w+"px"})}vb.msie&&8==vb.version&&(r.css("display","inline-table"),setTimeout(function(){r.css("display","table")},1)),r.removeClass("k-autofitting"),h.trigger(cb,{column:b,oldWidth:s,newWidth:t}),h._applyLockedContainersWidth(),h._syncLockedContentHeight(),h._syncLockedHeaderHeight()}},reorderColumn:function(a,c,d){var e,f=this,g=j(c,f.columns),h=g?g.columns:f.columns,i=Aa(c,h),k=h[a],l=!!k.locked,m=H(f.columns).length;if(i!==a&&(c.locked||!l||1!=I(f.columns).length)&&(!c.locked||l||1!=m)){f._hideResizeHandle(),d===b&&(d=a<i);var n=[c];f._reorderHeader(n,k,d),f.lockedHeader&&(F(f.thead),F(f.lockedHeader)),k.columns&&(k=M(k.columns),k=k[d?0:k.length-1]),c.columns&&(n=M(c.columns)),f._reorderContent(n,k,d),e=!!c.locked,e=e!=l,c.locked=l,h.splice(d?a:a+1,0,c),h.splice(i<a?i:i+1,1),f._templates(),f._updateColumnCellIndex(),f._updateTablesWidth(),f._applyLockedContainersWidth(),f._syncLockedHeaderHeight(),f._syncLockedContentHeight(),f._updateFirstColumnClass(),e&&(l?f.trigger(eb,{column:c}):f.trigger(fb,{column:c}))}},_updateColumnCellIndex:function(){var a,b=0;this.lockedHeader&&(a=this.lockedHeader.find("thead"),b=s(a,H(this.columns))),s(this.thead,I(this.columns),b)},lockColumn:function(a){var b=this.columns;if(a="number"==typeof a?b[a]:ya(b,function(b){return b.field===a})[0],a&&!a.locked&&!a.hidden){var c=H(b).length-1;this.reorderColumn(c,a,!1)}},unlockColumn:function(a){var b=this.columns;if(a="number"==typeof a?b[a]:ya(b,function(b){return b.field===a})[0],a&&a.locked&&!a.hidden){var c=H(b).length;this.reorderColumn(c,a,!0)}},cellIndex:function(b){var c=0;return this.lockedTable&&!a.contains(this.lockedTable[0],b[0])&&(c=M(H(this.columns)).length),a(b).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(b)+c},_modelForContainer:function(b){b=a(b),b.is("tr")||"popup"===this._editMode()||(b=b.closest("tr"));var c=b.attr(na.attr("uid"));return this.dataSource.getByUid(c)},_editable:function(){var b=this,c=b.selectable&&b.selectable.options.multiple,d=b.options.editable,e=function(){var c=sa(),d=b._editContainer;!d||a.contains(d[0],c)||d[0]===c||a(c).closest(".k-animation-container").length||b.editable.end()&&b.closeCell()};if(d){var f=b._editMode();"incell"===f?d.update!==!1&&b.wrapper.on(gb+Oa,"tr:not(.k-grouping-row) > td",function(d){var e=a(this),f=b.lockedTable&&e.closest("table")[0]===b.lockedTable[0];e.hasClass("k-hierarchy-cell")||e.hasClass("k-detail-cell")||e.hasClass("k-group-cell")||e.hasClass("k-edit-cell")||e.has("a.k-grid-delete").length||e.has("button.k-grid-delete").length||e.closest("tbody")[0]!==b.tbody[0]&&!f||a(d.target).is(":input")||(b.editable?b.editable.end()&&(c&&a(sa()).blur(),b.closeCell(),b.editCell(e)):b.editCell(e))}).on("focusin"+Oa,function(){clearTimeout(b.timer),b.timer=null}).on("focusout"+Oa,function(){b.timer=setTimeout(e,1)}):d.update!==!1&&b.wrapper.on(gb+Oa,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(c){c.preventDefault(),b.editRow(a(this).closest("tr"))}),d.destroy!==!1?b.wrapper.on(gb+Oa,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(c){c.preventDefault(),c.stopPropagation(),b.removeRow(a(this).closest("tr"))}):b.wrapper.on(gb+Oa,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",function(a){a.stopPropagation(),b._confirmation()||a.preventDefault()})}},editCell:function(b){b=a(b);var c=this,d=M(c.columns)[c.cellIndex(b)],e=c._modelForContainer(b);if(c.closeCell(),e&&(!e.editable||e.editable(d.field))&&!d.command&&d.field){c._attachModelChange(e),c._editContainer=b,c.editable=b.addClass("k-edit-cell").kendoEditable({fields:{field:d.field,format:d.format,editor:d.editor,values:d.values},model:e,target:c,change:function(a){c.trigger(Qa,{values:a.values,container:b,model:e})&&a.preventDefault()}}).data("kendoEditable");var f=b.parent().addClass("k-grid-edit-row");c.lockedContent&&ca(f[0],c._relatedRow(f).addClass("k-grid-edit-row")[0]),c.trigger(Pa,{container:b,model:e})}},_adjustLockedHorizontalScrollBar:function(){var a=this.table,b=a.parent(),c=a[0].offsetWidth>b[0].clientWidth?na.support.scrollbar():0;this.lockedContent.height(b.height()-c)},_syncLockedContentHeight:function(){this.lockedTable&&(this.touchScroller||this._adjustLockedHorizontalScrollBar(),this._adjustRowsHeight(this.table,this.lockedTable))},_syncLockedHeaderHeight:function(){if(this.lockedHeader){var a=this.lockedHeader.children("table"),b=this.thead.parent();this._adjustRowsHeight(a,b),ba(a,b)}},_syncLockedFooterHeight:function(){this.lockedFooter&&this.footer&&this.footer.length&&this._adjustRowsHeight(this.lockedFooter.children("table"),this.footer.find(".k-grid-footer-wrap > table"))},_destroyEditable:function(){var a=this,b=function(){if(a.editable){var b=a.editView?a.editView.element:a._editContainer;b&&(b.off(gb+Oa,"a.k-grid-cancel",a._editCancelClickHandler),b.off(gb+Oa,"a.k-grid-update",a._editUpdateClickHandler)),a._detachModelChange(),a.editable.destroy(),a.editable=null,a._editContainer=null,a._destroyEditView()}};a.editable&&("popup"!==a._editMode()||a._isMobile?b():a._editContainer.data("kendoWindow").bind("deactivate",b).close()),a._actionSheet&&(a._actionSheet.destroy(),a._actionSheet=null)},_destroyEditView:function(){this.editView&&(this.editView.purge(),this.editView=null,this.pane.navigate(""))},_attachModelChange:function(a){var b=this;b._modelChangeHandler=function(a){b._modelChange({field:a.field,model:this})},a.bind("change",b._modelChangeHandler)},_detachModelChange:function(){var a=this,b=a._editContainer,c=a._modelForContainer(b);c&&c.unbind(Va,a._modelChangeHandler)},closeCell:function(b){var c,d,e,f,g=this,h=g._editContainer;h&&(c=h.closest("tr").attr(na.attr("uid")),f=g.dataSource.getByUid(c),b&&g.trigger("cancel",{container:h,model:f})||(h.removeClass("k-edit-cell"),d=M(g.columns)[g.cellIndex(h)],e=h.parent().removeClass("k-grid-edit-row"),g._destroyEditable(),g._displayCell(h,d,f),h.hasClass("k-dirty-cell")&&a('<span class="k-dirty"/>').prependTo(h),g.lockedContent&&ca(e.css("height","")[0],g._relatedRow(e).css("height","")[0])))},_displayCell:function(a,b,c){var d=this,e={storage:{},count:0},f=wa({},na.Template,d.options.templateSettings),g=na.template(d._cellTmpl(b,e),f);e.count>0&&(g=Ca(g,e.storage)),a.empty().html(g(c)),d.angular("compile",function(){return{elements:a,data:[{dataItem:c}]}})},removeRow:function(a){this._confirmation(a)&&this._removeRow(a)},_removeRow:function(b){var c,d=this,e=d._editMode();"incell"!==e&&d.cancelRow(),b=a(b).hide(),c=d._modelForContainer(b),c&&!d.trigger(Ra,{row:b,model:c})?(d.dataSource.remove(c),"inline"!==e&&"popup"!==e||d.dataSource.sync()):"incell"===e&&d._destroyEditable()},_editMode:function(){var a="incell",b=this.options.editable;return b!==!0&&(a="string"==typeof b?b:b.mode||a),a},editRow:function(b){var c,d=this;b instanceof na.data.ObservableObject?c=b:(b=a(b),c=d._modelForContainer(b));var e,f=d._editMode();d.cancelRow(),c&&(d._attachModelChange(c),"popup"===f?d._createPopupEditor(c):"inline"===f?d._createInlineEditor(b,c):"incell"===f&&a(b).children(Ia).each(function(){var b=a(this),e=M(d.columns)[b.index()];if(c=d._modelForContainer(b),c&&(!c.editable||c.editable(e.field))&&e.field)return d.editCell(b),!1}),e=d.editView?d.editView.element:d._editContainer,e&&(this._editCancelClickHandler||(this._editCancelClickHandler=Ca(this._editCancelClick,this)),e.on(gb+Oa,"a.k-grid-cancel",this._editCancelClickHandler),this._editUpdateClickHandler||(this._editUpdateClickHandler=Ca(this._editUpdateClick,this)),e.on(gb+Oa,"a.k-grid-update",this._editUpdateClickHandler)))},_editUpdateClick:function(a){a.preventDefault(),a.stopPropagation(),this.saveRow()},_editCancelClick:function(b){var c=this,d=c.options.navigatable,e=c.editable.options.model,f=c.editView?c.editView.element:c._editContainer;if(b.preventDefault(),b.stopPropagation(),!c.trigger("cancel",{container:f,model:e})){var g=c.items().index(a(c.current()).parent());c.cancelRow(),d&&(c.current(c.items().eq(g).children().filter(La).first()),ea(c.table,!0))}},_createPopupEditor:function(b){var c,d,e,f,g,h,i,j,k,l=this,m="<div "+na.attr("uid")+'="'+b.uid+'" class="k-popup-edit-form'+(l._isMobile?" k-mobile-list":"")+'"><div class="k-edit-form-container">',n=[],o=M(l.columns),p=l.options.editable,q=p.template,r=va(p)?p.window:{},s=wa({},na.Template,l.options.templateSettings);if(r=r||{},q)for(typeof q===kb&&(q=window.unescape(q)),m+=na.template(q,s)(b),e=0,f=o.length;e<f;e++)c=o[e],c.command&&(j=da(c.command,"edit"),j&&(d=j));else for(e=0,f=o.length;e<f;e++)if(c=o[e],c.command)c.command&&(j=da(c.command,"edit"),j&&(d=j));else if(m+='<div class="k-edit-label"><label for="'+c.field+'">'+(c.title||c.field||"")+"</label></div>",b.editable&&!b.editable(c.field)||!c.field){var t={storage:{},count:0};g=na.template(l._cellTmpl(c,t),s),t.count>0&&(g=Ca(g,t.storage)),m+='<div class="k-edit-field">'+g(b)+"</div>"}else n.push({field:c.field,format:c.format,editor:c.editor,values:c.values}),m+="<div "+na.attr("container-for")+'="'+c.field+'" class="k-edit-field"></div>';d&&va(d)&&(d.text&&va(d.text)&&(h=d.text.update,i=d.text.cancel),d.attr&&(k=d.attr));var u;l._isMobile?(m+="</div></div>",l.editView=l.pane.append("<div data-"+na.ns+'role="view" data-'+na.ns+'init-widgets="false" class="k-grid-edit-form"><div data-'+na.ns+'role="header" class="k-header">'+l._createButton({name:"update",text:h,attr:k})+(r.title||"Edit")+l._createButton({name:"canceledit",text:i,attr:k})+"</div>"+m+"</div>"),u=l._editContainer=l.editView.element.find(".k-popup-edit-form")):(m+='<div class="k-edit-buttons k-state-default">',m+=l._createButton({name:"update",text:h,attr:k})+l._createButton({name:"canceledit",text:i,attr:k}),m+="</div></div></div>",u=l._editContainer=a(m).appendTo(l.wrapper).eq(0).kendoWindow(wa({modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1,close:function(c){if(c.userTriggered){if(c.sender.element.focus(),l.trigger("cancel",{container:u,model:b}))return void c.preventDefault();var d=l.items().index(a(l.current()).parent());l.cancelRow(),l.options.navigatable&&(l.current(l.items().eq(d).children().filter(La).first()),ea(l.table,!0))}}},r))),l.editable=l._editContainer.kendoEditable({fields:n,model:b,clearContainer:!1,target:l}).data("kendoEditable"),l._isMobile&&u.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){a(this).next().children("input").click()}),l._openPopUpEditor(),l.trigger(Pa,{container:u,model:b})},_openPopUpEditor:function(){this._isMobile?this.pane.navigate(this.editView,this._editAnimation):this._editContainer.data("kendoWindow").center().open()},_createInlineEditor:function(b,c){var d,e,f,g=this,h=[];g.lockedContent&&(b=b.add(g._relatedRow(b))),b.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){if(e=a(this),d=M(g.columns)[g.cellIndex(e)],d.command||!d.field||c.editable&&!c.editable(d.field)){if(d.command&&(f=da(d.command,"edit"))){e.empty();var b,i,j;va(f)&&(f.text&&va(f.text)&&(b=f.text.update,i=f.text.cancel),f.attr&&(j=f.attr)),a(g._createButton({name:"update",text:b,attr:j})+g._createButton({name:"canceledit",text:i,attr:j})).appendTo(e)}}else h.push({field:d.field,format:d.format,editor:d.editor,values:d.values}),e.attr(na.attr("container-for"),d.field),e.empty()}),g._editContainer=b,g.editable=new na.ui.Editable(b.addClass("k-grid-edit-row"),{target:g,fields:h,model:c,clearContainer:!1}),b.length>1&&(ca(b[0],b[1]),g._applyLockedContainersWidth()),g.trigger(Pa,{container:b,model:c})},cancelRow:function(){var a,b=this,c=b._editContainer;c&&(a=b._modelForContainer(c),b._destroyEditable(),b.dataSource.cancelChanges(a),"popup"!==b._editMode()?b._displayRow(c):b._displayRow(b.tbody.find("["+na.attr("uid")+"="+a.uid+"]")))},saveRow:function(){var a=this,b=a._editContainer,c=a._modelForContainer(b),d=a.editable;b&&d&&d.end()&&!a.trigger(Qa,{container:b,model:c})&&a.dataSource.sync()},_displayRow:function(b){var c,d,e,f=this,g=f._modelForContainer(b),h=b.hasClass("k-state-selected"),i=b.hasClass("k-alt");g&&(f.lockedContent&&(c=a((i?f.lockedAltRowTemplate:f.lockedRowTemplate)(g)),f._relatedRow(b.last()).replaceWith(c)),f.angular("cleanup",function(){return{elements:b.get()}}),d=a((i?f.altRowTemplate:f.rowTemplate)(g)),b.replaceWith(d),f.angular("compile",function(){return{elements:d.get(),data:[{dataItem:g}]}}),h&&f.options.selectable&&f.select(d.add(c)),c&&ca(d[0],c[0]),e=d.next(),e.hasClass("k-detail-row")&&e.is(":visible")&&d.find(".k-hierarchy-cell .k-icon").removeClass("k-plus").addClass("k-minus"))},_showMessage:function(b,c){var d=this;if(!d._isMobile)return window.confirm(b.title);var e=na.template('<ul><li class="km-actionsheet-title">#:title#</li><li><a href="\\#" class="k-button k-grid-delete">#:confirmDelete#</a></li></ul>'),f=a(e(b)).appendTo(d.view.element),g=d._actionSheet=new na.mobile.ui.ActionSheet(f,{cancel:b.cancelDelete,cancelTemplate:'<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#</a></li>',close:function(){this.destroy()},command:function(b){var e=a(b.currentTarget).parent();e.hasClass("km-actionsheet-cancel")||d._removeRow(c)},popup:d._actionSheetPopupOptions});return g.open(c),!1},_confirmation:function(a){var b=this,c=b.options.editable,d=c===!0||typeof c===kb?b.options.messages.editable.confirmation:c.confirmation;return d===!1||null==d||(typeof d===jb&&(d=d(b._modelForContainer(a))),b._showMessage({confirmDelete:c.confirmDelete||b.options.messages.editable.confirmDelete,cancelDelete:c.cancelDelete||b.options.messages.editable.cancelDelete,title:d===!0?b.options.messages.editable.confirmation:d},a))},cancelChanges:function(){this.dataSource.cancelChanges()},saveChanges:function(){var a=this;(a.editable&&a.editable.end()||!a.editable)&&!a.trigger(Ya)&&a.dataSource.sync()},addRow:function(){var a,b=this,c=b.dataSource,d=b._editMode(),e=b.options.editable.createAt||"",f=c.pageSize(),g=c.view()||[];if(b.editable&&b.editable.end()||!b.editable){"incell"!=d&&b.cancelRow(),a=c.indexOf(g[0]),"bottom"==e.toLowerCase()&&(a+=g.length,f&&!c.options.serverPaging&&f<=g.length&&(a-=1)),a<0&&(a=c.page()>c.totalPages()?(c.page()-1)*f:0);var h=c.insert(a,{}),i=h.uid,j=b.lockedContent?b.lockedTable:b.table,k=j.find("tr["+na.attr("uid")+"="+i+"]"),l=k.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(b._firstEditableColumnIndex(k));"inline"===d&&k.length?b.editRow(k):"popup"===d?b.editRow(h):l.length&&b.editCell(l),"bottom"==e.toLowerCase()&&b.lockedContent&&(b.lockedContent[0].scrollTop=b.content[0].scrollTop=b.content[0].offsetHeight)}},_firstEditableColumnIndex:function(a){var b,c,d,e=this,f=M(e.columns),g=e._modelForContainer(a);for(c=0,d=f.length;c<d;c++)if(b=f[c],g&&(!g.editable||g.editable(b.field))&&!b.command&&b.field&&b.hidden!==!0)return c;return-1},_toolbar:function(){var b,c=this,d=c.wrapper,e=c.options.toolbar,f=c.options.editable;e&&(b=c.wrapper.find(".k-grid-toolbar"),b.length||(Da(e)||(e=typeof e===kb?e:c._toolbarTmpl(e).replace(pb,"\\#"),e=Ca(na.template(e),c)),b=a('<div class="k-header k-grid-toolbar" />').html(e({})).prependTo(d),c.angular("compile",function(){return{elements:b.get()}})),f&&f.create!==!1&&b.on(gb+Oa,".k-grid-add",function(a){a.preventDefault(),c.addRow()}).on(gb+Oa,".k-grid-cancel-changes",function(a){a.preventDefault(),c.cancelChanges()}).on(gb+Oa,".k-grid-save-changes",function(a){a.preventDefault(),c.saveChanges()}),b.on(gb+Oa,".k-grid-excel",function(a){a.preventDefault(),c.saveAsExcel()}),b.on(gb+Oa,".k-grid-pdf",function(a){a.preventDefault(),c.saveAsPDF()}))},_toolbarTmpl:function(a){var b,c,d=this,e="";if(za(a))for(b=0,c=a.length;b<c;b++)e+=d._createButton(a[b]);return e},_createButton:function(a){var c,e=a.template||tb,f=typeof a===kb?a:a.name||a.text,g=zb[f]?zb[f].className:"k-grid-"+(f||"").replace(/\s/g,""),h={className:g,text:f,imageClass:"",attr:"",iconClass:""},i=this.options.messages.commands;if(!(f||va(a)&&a.template))throw new Error("Custom commands should have name specified");return va(a)?(a.className&&Aa(h.className,a.className.split(" "))<0?a.className+=" "+h.className:a.className===b&&(a.className=h.className),"edit"===f&&va(a.text)&&(a=wa(!0,{},a),a.text=a.text.edit),a.attr&&(va(a.attr)&&(a.attr=d(a.attr)),typeof a.attr===kb&&(c=a.attr.match(/class="(.+?)"/),c&&Aa(c[1],a.className.split(" "))<0&&(a.className+=" "+c[1]))),h=wa(!0,h,zb[f],{text:i[f]},a)):h=wa(!0,h,zb[f],{text:i[f]}),na.template(e)(h)},_hasFooters:function(){return!!this.footerTemplate||!!this.groupFooterTemplate||this.footer&&this.footer.length>0||this.wrapper.find(".k-grid-footer").length>0},_groupable:function(){var b=this;b._groupableClickHandler?b.table.add(b.lockedTable).off(gb+Oa,b._groupableClickHandler):b._groupableClickHandler=function(c){var d=a(this),e=d.closest("tr");d.hasClass("k-i-collapse")?b.collapseGroup(e):b.expandGroup(e),c.preventDefault(),c.stopPropagation()},b._isLocked()?b.lockedTable.on(gb+Oa,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",b._groupableClickHandler):b.table.on(gb+Oa,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",b._groupableClickHandler),b._attachGroupable()},_attachGroupable:function(){var b=this,c=b.wrapper,d=b.options.groupable,e=Na+"["+na.attr("field")+"]",f=b.content?".k-grid-header:first "+e:"table:first>.k-grid-header "+e;d&&d.enabled!==!1&&(c.has("div.k-grouping-header")[0]||a("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(c),b.groupable&&b.groupable.destroy(),b.groupable=new qa(c,wa({},d,{draggable:b._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:b.dataSource,draggableElements:f,filter:f,allowDrag:b.options.reorderable})))},_continuousItems:function(b,c){if(this.lockedContent){for(var d=this,e=d.table.add(d.lockedTable),f=a(b,e[0]),g=a(b,e[1]),h=c?H(d.columns).length:1,i=c?d.columns.length-h:1,j=[],k=0;k<f.length;k+=h)Ba.apply(j,f.slice(k,k+h)),Ba.apply(j,g.splice(0,i));return j}},_selectable:function(){var b,c,d=this,e=[],f=d._isLocked(),g=d.options.selectable;if(g){d.selectable&&d.selectable.destroy(),g=na.ui.Selectable.parseOptions(g),b=g.multiple,c=g.cell,d._hasDetails()&&(e[e.length]=".k-detail-row"),(d.options.groupable||d._hasFooters())&&(e[e.length]=".k-grouping-row,.k-group-footer"),e=e.join(","),""!==e&&(e=":not("+e+")");var h=d.table;f&&(h=h.add(d.lockedTable));var i=">"+(c?Ja:"tbody>tr"+e);d.selectable=new na.ui.Selectable(h,{filter:i,aria:!0,multiple:b,change:function(){d.trigger(Va)},useAllItems:f&&b&&c,relatedTarget:function(b){if(!c&&f){for(var e,g=a(),h=0,i=b.length;h<i;h++)e=d._relatedRow(b[h]),Aa(e[0],b)<0&&(g=g.add(e));return g}},continuousItems:function(){return d._continuousItems(i,c)}}),d.options.navigatable&&h.on("keydown"+Oa,function(e){var g=d.current(),i=e.target;if(e.keyCode===ua.SPACEBAR&&a.inArray(i,h)>-1&&!g.is(".k-edit-cell,.k-header")&&g.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){if(e.preventDefault(),e.stopPropagation(),g=c?g:g.parent(),f&&!c&&(g=g.add(d._relatedRow(g))),b)if(e.ctrlKey){if(g.hasClass(bb))return g.removeClass(bb),void d.trigger(Va)}else d.selectable.clear();else d.selectable.clear();d.selectable.value(g)}})}},_clipboard:function(){var a=this.options,b=a.selectable;if(b&&a.allowCopy){var c=this;a.navigatable||c.table.add(c.lockedTable).attr("tabindex",0).on("mousedown"+Oa+" keydown"+Oa,".k-detail-cell",function(a){a.target!==a.currentTarget&&a.stopImmediatePropagation()}).on("mousedown"+Oa,Ka+">"+La,Ca(fa,c)),c.copyHandler=Ca(c.copySelection,c),c.updateClipBoardState=function(){c.areaClipBoard&&c.areaClipBoard.val(c.getTSV()).focus().select()},c.bind("change",c.updateClipBoardState),c.wrapper.on("keydown",c.copyHandler),c.clearAreaHandler=Ca(c.clearArea,c),c.wrapper.on("keyup",c.clearAreaHandler)}},copySelection:function(b){b instanceof jQuery.Event&&!b.ctrlKey&&!b.metaKey||a(b.target).is("input:visible,textarea:visible")||window.getSelection&&window.getSelection().toString()||document.selection&&document.selection.createRange().text||(this.areaClipBoard||(this.areaClipBoard=a("<textarea />").css({position:"fixed",top:"50%",left:"50%",opacity:0,width:0,height:0}).appendTo(this.wrapper)),this.areaClipBoard.val(this.getTSV()).focus().select())},getTSV:function(){var b=this,c=b.select(),d="\t",e=b.options.allowCopy;a.isPlainObject(e)&&e.delimeter&&(d=e.delimeter);var f="";if(c.length){c.eq(0).is("tr")&&(c=c.find("td:not(.k-group-cell)"));var g=[],h=this.columns.length,i=b._isLocked()&&H(b.columns).length,j=!0;a.each(c,function(c,d){d=a(d);var e=d.closest("tr"),f=e.index(),k=d.index();i&&j&&(j=a.contains(b.lockedTable[0],d[0])),b._groups()&&j&&(k-=b._groups()),k=j?k:k+i,h>k&&(h=k);var l=d.text();g[f]||(g[f]=[]),g[f][k]=l});var k=g.length;g=a.each(g,function(a,b){b&&(g[a]=b.slice(h),k>a&&(k=a))}),a.each(g.slice(k),function(a,b){f+=b?b.join(d)+"\r\n":"\r\n"})}return f},clearArea:function(b){this.areaClipBoard&&b&&b.target===this.areaClipBoard[0]&&(this.options.navigatable?a(this.current()).closest("table").focus():this.table.focus()),this.areaClipBoard&&(this.areaClipBoard.remove(),this.areaClipBoard=null)},_minScreenSupport:function(){var b=this.hideMinScreenCols();b&&(this.minScreenResizeHandler=Ca(this.hideMinScreenCols,this),a(window).on("resize",this.minScreenResizeHandler))},hideMinScreenCols:function(){for(var a=this.columns,c=!1,d=window.innerWidth>0?window.innerWidth:screen.width,e=0;e<a.length;e++){var f=a[e],g=f.minScreenWidth;g!==b&&null!==g&&(c=!0,g>d?this.hideColumn(f):this.showColumn(f))}return c},_relatedRow:function(b){var c=this.lockedTable;if(b=a(b),!c)return b;var d=b.closest(this.table.add(this.lockedTable)),e=d.find(">tbody>tr").index(b);return d=d[0]===this.table[0]?c:this.table,d.find(">tbody>tr").eq(e)},clearSelection:function(){var a=this;a.selectable.clear(),a.trigger(Va)},select:function(b){var c=this,d=c.selectable;return b=a(b),b.length?(d.options.multiple||(d.clear(),b=b.first()),c._isLocked()&&(b=b.add(b.map(function(){return c._relatedRow(this)}))),void d.value(b)):d.value()},current:function(a){var c=this,d=c.options.scrollable,e=c._current,f=c.table.add(c.thead.parent());if(a!==b&&a.length&&(!e||e[0]!==a[0])&&(e&&(e.removeClass(ab).removeAttr("id"),f.removeAttr("aria-activedescendant")),a.attr("id",c._cellId),c._current=a.addClass(ab),f.attr("aria-activedescendant",c._cellId),a.length&&d)){var g=a.closest("table").parent();g.is(".k-grid-content")?c._scrollTo(a.parent()[0],c.content[0]):g.is(".k-grid-content-locked")&&(c._scrollTo(c._relatedRow(a.parent())[0],c.content[0]),d.virtual||(c.lockedContent[0].scrollTop=c.content[0].scrollTop)),g.is(".k-grid-content-locked,.k-grid-header-locked")||(d.virtual?c._scrollTo(a[0],c.content.find(">.k-virtual-scrollable-wrap")[0]):c._scrollTo(a[0],c.content[0]))}return c._current},_removeCurrent:function(){this._current&&(this._current.removeClass(ab),this._current=null)},_scrollTo:function(a,b){var c=a.tagName.toLowerCase(),d="td"===c||"th"===c,e=a[d?"offsetLeft":"offsetTop"],f=a[d?"offsetWidth":"offsetHeight"],g=b[d?"scrollLeft":"scrollTop"],h=b[d?"clientWidth":"clientHeight"],i=e+f,j=0;j=g>e?e:i>g+h?f<=h?i-h:e:g,b[d?"scrollLeft":"scrollTop"]=j},_navigatable:function(){var b=this,c=Ca(b.current,b),d=b.table.add(b.lockedTable),e=b.thead.parent().add(a(">table",b.lockedHeader)),f=(b._isLocked(),d),g=na.support.isRtl(b.element);b.options.navigatable&&(b.options.scrollable&&(f=d.add(e),e.attr(ib,-1)),f.off("mousedown"+Oa+" focus"+Oa+" focusout"+Oa+" keydown"+Oa),e.on("keydown"+Oa,function(a){a.altKey&&a.keyCode==ua.DOWN&&(c().find(".k-grid-filter, .k-header-column-menu").click(),a.stopImmediatePropagation())}).find("a.k-link").attr("tabIndex",-1),d.attr(ib,Fa.max(d.attr(ib)||0,0)).on("mousedown"+Oa+" keydown"+Oa,".k-detail-cell",function(a){a.target!==a.currentTarget&&a.stopImmediatePropagation()}),f.on(na.support.touch?"touchstart"+Oa:"mousedown"+Oa,Ka+">"+La,Ca(fa,b)).on("focus"+Oa,function(){
if(!na.support.touch){var b=c();b&&b.is(":visible")?b.addClass(ab):c(a(this).find(Ma)),d.attr(ib,-1),e.attr(ib,-1),a(this).attr(ib,0)}}).on("focusout"+Oa,function(){var a=c();a&&a.removeClass(ab)}).on("keydown"+Oa,function(f){var h,i,j=f.keyCode,k=!1,l=!f.isDefaultPrevented()&&!a(f.target).is(":button,a,:input,a>.k-icon"),m=b.options.pageable,n=b.dataSource,o="incell"==b._editMode(),p=f.shiftKey,q=Ca(b._relatedRow,b),r=c();if(r&&r.is("th")&&(l=!0),l&&j==ua.UP)c(ha(r,f.currentTarget,d,e,!0,H(b.columns).length)),k=!0;else if(l&&j==ua.DOWN)c(ha(r,f.currentTarget,d,e,!1,H(b.columns).length)),k=!0;else if(l&&j==(g?ua.RIGHT:ua.LEFT))c(ia(r,f.currentTarget,d,e,q)),k=!0;else if(l&&j==(g?ua.LEFT:ua.RIGHT))c(ja(r,f.currentTarget,d,e,q)),k=!0;else if(l&&m&&ua.PAGEDOWN==j)n.page(n.page()+1),k=!0;else if(l&&m&&ua.PAGEUP==j)n.page(n.page()-1),k=!0;else if(j==ua.ENTER||ua.F2==j){if(r=r?r:d.find(Ma),!r.length)return;if(a(f.target).is("table")||a.contains(r[0],f.target)||(r=a(f.target).closest("[role=gridcell]")),r.is("th"))r.find(".k-link").click(),k=!0;else if(r.parent().is(".k-master-row,.k-grouping-row"))r.parent().find(".k-icon:first").click(),k=!0;else{var s=r.find(":kendoFocusable:first");if(!r.hasClass("k-edit-cell")&&s[0]&&r.hasClass("k-state-focused"))s.focus(),k=!0;else if(b.options.editable&&!a(f.target).is(":button,.k-button,textarea")){var t=a(f.target).closest("[role=gridcell]");t[0]||(t=r),b._handleEditing(t,!1,o?f.currentTarget:d[0]),k=!0}}}else if(ua.ESC==j)h=sa(),r&&a.contains(r[0],h)&&!r.hasClass("k-edit-cell")&&!r.parent().hasClass("k-grid-edit-row")?(ea(f.currentTarget,!0),k=!0):!b._editContainer||r&&!b._editContainer.has(r[0])&&r[0]!==b._editContainer[0]||(o?b.closeCell(!0):(i=a(r).parent().index(),h&&h.blur(),b.cancelRow(),i>=0&&b.current(d.find(">tbody>tr").eq(i).children().filter(La).first())),vb.msie&&vb.version<9&&document.body.focus(),ea(o?f.currentTarget:d[0],!0),k=!0);else if(ua.TAB==j){var u;r=a(r),b.options.editable&&o&&(u=a(sa()).closest(".k-edit-cell"),u[0]&&u[0]!==r[0]&&(r=u)),u=ka(r,f.currentTarget,d,q,p),!r.is("th")&&u.length&&b.options.editable&&o&&(b._handleEditing(r,u,u.closest(d)),k=!0)}k&&(f.preventDefault(),f.stopPropagation())}))},_handleEditing:function(b,c,d){var e,f,g=this,h=a(sa()),i=g._editMode(),j=vb.msie,k=j&&vb.version<9,l=g._editContainer;if(d=a(d),f="incell"==i?b.hasClass("k-edit-cell"):b.parent().hasClass("k-grid-edit-row"),g.editable){if(a.contains(l[0],h[0])&&(vb.opera||k?h.change().triggerHandler("blur"):(h.blur(),j&&h.blur())),!g.editable)return void ea(d);if(!g.editable.end())return"incell"==i?g.current(l):g.current(l.children().filter(Ia).first()),e=l.find(":kendoFocusable:first")[0],void(e&&e.focus());"incell"==i?g.closeCell():(g.saveRow(),f=!0)}c&&g.current(c),k&&document.body.focus(),ea(d,!0),(!f&&!c||c)&&("incell"==i?g.editCell(g.current()):g.editRow(g.current().parent()))},_wrapper:function(){var a=this,b=a.table,c=a.options.height,d=a.element;d.is("div")||(d=d.wrap("<div/>").parent()),a.wrapper=d.addClass("k-grid k-widget"),c&&(a.wrapper.css(hb,c),b.css(hb,"auto")),a._initMobile()},_initMobile:function(){var b=this.options,c=this;if(this._isMobile=b.mobile===!0&&na.support.mobileOS||"phone"===b.mobile||"tablet"===b.mobile,this._isMobile){var d=this.wrapper.addClass("k-grid-mobile").wrap("<div data-"+na.ns+'role="view" data-'+na.ns+'init-widgets="false"></div>').parent();this.pane=na.mobile.ui.Pane.wrap(d),this.view=this.pane.view(),this._actionSheetPopupOptions=a(document.documentElement).hasClass("km-root")?{modal:!1}:{align:"bottom center",position:"bottom center",effect:"slideIn:up"},b.height&&this.pane.element.parent().css(hb,b.height),this._editAnimation="slide",this.view.bind("show",function(){c._isLocked()&&(c._updateTablesWidth(),c._applyLockedContainersWidth(),c._syncLockedContentHeight(),c._syncLockedHeaderHeight(),c._syncLockedFooterHeight())})}},_tbody:function(){var b,c=this,d=c.table;b=d.find(">tbody"),b.length||(b=a("<tbody/>").appendTo(d)),c.tbody=b.attr("role","rowgroup")},_scrollable:function(){var b,c,d=this,e=d.options,f=e.scrollable,g=f!==!0&&f.virtual&&!d.virtualScrollable,h=!na.support.kineticScrollNeeded||g?na.support.scrollbar():0;if(f){b=d.wrapper.children(".k-grid-header"),b[0]||(b=a('<div class="k-grid-header" />').insertBefore(d.table)),b.css(ub?"padding-left":"padding-right",f.virtual?h+1:h),c=a('<table role="grid" />'),wb&&c.attr("cellspacing",0),c.width(d.table[0].style.width),c.append(d.thead),b.empty().append(a('<div class="k-grid-header-wrap" />').append(c)),d.content=d.table.parent(),d.content.is(".k-virtual-scrollable-wrap, .km-scroll-container")&&(d.content=d.content.parent()),d.content.is(".k-grid-content, .k-virtual-scrollable-wrap")||(d.content=d.table.wrap('<div class="k-grid-content" />').parent()),g&&(d.virtualScrollable=new yb(d.content,{dataSource:d.dataSource,itemHeight:function(){return d._averageRowHeight()}})),d.scrollables=b.children(".k-grid-header-wrap");var i=d.wrapper.find(".k-grid-footer");if(i.length&&(d.scrollables=d.scrollables.add(i.children(".k-grid-footer-wrap"))),f.virtual)d.content.find(">.k-virtual-scrollable-wrap").unbind("scroll"+Oa).bind("scroll"+Oa,function(){d.scrollables.scrollLeft(this.scrollLeft),d.lockedContent&&(d.lockedContent[0].scrollTop=this.scrollTop)});else{d.content.unbind("scroll"+Oa).bind("scroll"+Oa,function(){d.scrollables.scrollLeft(this.scrollLeft),d.lockedContent&&(d.lockedContent[0].scrollTop=this.scrollTop)});var j=d.content.data("kendoTouchScroller");j&&j.destroy(),j=na.touchScroller(d.content),j&&j.movable&&(d.touchScroller=j,j.movable.bind("change",function(a){d.scrollables.scrollLeft(-a.sender.x),d.lockedContent&&d.lockedContent.scrollTop(-a.sender.y)}),d.one(Za,function(a){a.sender.wrapper.addClass("k-grid-backface")}))}}},_setContentWidth:function(b){var c,d=this,e="k-grid-content-expander",f='<div class="'+e+'"></div>',g=d.resizable;d.options.scrollable&&d.wrapper.is(":visible")&&(c=d.table.parent().children("."+e),d._setContentWidthHandler=Ca(d._setContentWidth,d),d.dataSource&&d.dataSource.view().length?c[0]&&(c.remove(),g&&g.unbind("resize",d._setContentWidthHandler)):(c[0]||(c=a(f).appendTo(d.table.parent()),g&&g.bind("resize",d._setContentWidthHandler)),d.thead&&(c.width(d.thead.width()),b&&d.content.scrollLeft(b))),d._applyLockedContainersWidth())},_applyLockedContainersWidth:function(){if(this.options.scrollable&&this.lockedHeader){var a,b=this.thead.parent(),c=b.parent(),d=this.wrapper[0].clientWidth,e=this._groups(),f=na.support.scrollbar(),g=this.lockedHeader.find(">table>colgroup>col:not(.k-group-col, .k-hierarchy-col)"),h=b.find(">colgroup>col:not(.k-group-col, .k-hierarchy-col)"),i=C(g),j=C(h);e>0&&(i+=this.lockedHeader.find(".k-group-cell:first").outerWidth()*e),i>=d&&(i=d-3*f),this.lockedHeader.add(this.lockedContent).width(i),c[0].style.width=c.parent().width()-i-2+"px",b.add(this.table).width(j),this.virtualScrollable&&(d-=f),this.content[0].style.width=d-i-2+"px",this.lockedFooter&&this.lockedFooter.length&&(this.lockedFooter.width(i),a=this.footer.find(".k-grid-footer-wrap"),a[0].style.width=c[0].clientWidth+"px",a.children().first().width(j))}},_setContentHeight:function(){var a=this,b=a.options,c=a.wrapper.innerHeight(),d=a.wrapper.children(".k-grid-header"),e=na.support.scrollbar();if(b.scrollable&&a.wrapper.is(":visible")){c-=d.outerHeight(),a.pager&&(c-=a.pager.element.outerHeight()),b.groupable&&(c-=a.wrapper.children(".k-grouping-header").outerHeight()),b.toolbar&&(c-=a.wrapper.children(".k-grid-toolbar").outerHeight()),a.footerTemplate&&(c-=a.wrapper.children(".k-grid-footer").outerHeight());var f=function(a){var b,c;return!!a[0].style.height||(b=a.height(),a.height("auto"),c=a.height(),b!=c?(a.height(""),!0):(a.height(""),!1))};f(a.wrapper)&&(c>2*e?(a.lockedContent&&(e=a.table[0].offsetWidth>a.table.parent()[0].clientWidth?e:0,a.lockedContent.height(c-e)),a.content.height(c)):a.content.height(2*e+1))}},_averageRowHeight:function(){var a=this,b=a._items(a.tbody).length,c=a._rowHeight;if(0===b)return c;a._rowHeight||(a._rowHeight=c=a.table.outerHeight()/b,a._sum=c,a._measures=1);var d=a.table.outerHeight()/b;return c!==d&&(a._measures++,a._sum+=d,a._rowHeight=a._sum/a._measures),c},_dataSource:function(){var a,c=this,d=c.options,e=d.dataSource;e=za(e)?{data:e}:e,va(e)&&(wa(e,{table:c.table,fields:c.columns}),a=d.pageable,va(a)&&a.pageSize!==b&&(e.pageSize=a.pageSize)),c.dataSource&&c._refreshHandler?c.dataSource.unbind(Va,c._refreshHandler).unbind(Ga,c._progressHandler).unbind(Ha,c._errorHandler):(c._refreshHandler=Ca(c.refresh,c),c._progressHandler=Ca(c._requestStart,c),c._errorHandler=Ca(c._error,c)),c.dataSource=pa.create(e).bind(Va,c._refreshHandler).bind(Ga,c._progressHandler).bind(Ha,c._errorHandler)},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_modelChange:function(b){var c,d,e,f,g,h,i,j,k,l=this,m=l.tbody,n=b.model,o=l.tbody.find("tr["+na.attr("uid")+"="+n.uid+"]"),p=o.hasClass("k-alt"),q=l._items(m).index(o),r=l.lockedContent;if(r&&(c=l._relatedRow(o)),o.add(c).children(".k-edit-cell").length&&!l.options.rowTemplate)o.add(c).children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){d=a(this),e=M(l.columns)[l.cellIndex(d)],e.field===b.field&&(d.hasClass("k-edit-cell")?d.addClass("k-dirty-cell"):(l._displayCell(d,e,n),a('<span class="k-dirty"/>').prependTo(d)))});else if(!o.hasClass("k-grid-edit-row")){h=a().add(o),r&&(f=(p?l.lockedAltRowTemplate:l.lockedRowTemplate)(n),h=h.add(c),c.replaceWith(f)),l.angular("cleanup",function(){return{elements:h.get()}}),f=(p?l.altRowTemplate:l.rowTemplate)(n),o.replaceWith(f),f=l._items(m).eq(q);var s=[{dataItem:n}];for(r&&(o=o.add(c),c=l._relatedRow(f)[0],ca(f[0],c),f=f.add(c),s.push({dataItem:n})),l.angular("compile",function(){return{elements:f.get(),data:s}}),g=l.options.selectable,g&&o.hasClass("k-state-selected")&&l.select(f),j=h.children(":not(.k-group-cell,.k-hierarchy-cell)"),i=f.children(":not(.k-group-cell,.k-hierarchy-cell)"),q=0,k=l.columns.length;q<k;q++)e=l.columns[q],d=i.eq(q),g&&j.eq(q).hasClass("k-state-selected")&&d.addClass("k-state-selected"),e.field===b.field&&a('<span class="k-dirty"/>').prependTo(d);l.trigger("itemChange",{item:f,data:n,ns:oa})}},_pageable:function(){var b,c=this,d=c.options.pageable;d&&(b=c.wrapper.children("div.k-grid-pager"),b.length||(b=a('<div class="k-pager-wrap k-grid-pager"/>').appendTo(c.wrapper)),c.pager&&c.pager.destroy(),"object"==typeof d&&d instanceof na.ui.Pager?c.pager=d:c.pager=new na.ui.Pager(b,wa({},d,{dataSource:c.dataSource})))},_footer:function(){var b,c=this,d=c.dataSource.aggregates(),e="",f=c.footerTemplate,g=c.options,h=c.footer||c.wrapper.find(".k-grid-footer");if(f){if(e=a(c._wrapFooter(f(d))),h.length){var i=e;c.angular("cleanup",function(){return{elements:h.get()}}),h.replaceWith(i),h=c.footer=i}else h=g.scrollable?c.footer=g.pageable?e.insertBefore(c.wrapper.children("div.k-grid-pager")):e.appendTo(c.wrapper):c.footer=e.insertBefore(c.tbody);c.angular("compile",function(){return{elements:h.find("td:not(.k-group-cell, .k-hierarchy-cell)").get(),data:xa(c.columns,function(a,b){return{column:a,aggregate:d[a.field]}})}})}else h&&!c.footer&&(c.footer=h);if(h.length&&(g.scrollable&&(b=h.attr("tabindex",-1).children(".k-grid-footer-wrap"),c.scrollables=c.scrollables.filter(function(){return!a(this).is(".k-grid-footer-wrap")}).add(b)),c._footerWidth&&h.find("table").css("width",c._footerWidth),b)){var j=c.content.scrollLeft(),k=g.scrollable!==!0&&g.scrollable.virtual&&!c.virtualScrollable;k&&(j=c.wrapper.find(".k-virtual-scrollable-wrap").scrollLeft()),b.scrollLeft(j)}c.lockedContent&&(c._appendLockedColumnFooter(),c._applyLockedContainersWidth(),c._syncLockedFooterHeight())},_wrapFooter:function(b){var c=this,d="",e=na.support.mobileOS?0:na.support.scrollbar();return c.options.scrollable?(d=a('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table'+(wb?' cellspacing="0"':"")+"><tbody>"+b+"</tbody></table></div></div>"),c._appendCols(d.find("table")),d.css(ub?"padding-left":"padding-right",e),d):'<tfoot class="k-grid-footer">'+b+"</tfoot>"},_columnMenu:function(){var a,c,d,e,f,g,h=this,i=M(h.columns),j=h.options,k=j.columnMenu,l=ya(h.columns,function(a){return a.columns!==b}).length>0,m=this._isMobile,n=function(a){h.trigger(Ua,{field:a.field,container:a.container})},o=function(a){ea(a.closest("table"),!0)},p=j.$angular;if(k){"boolean"==typeof k&&(k={}),g=N(h.thead);for(var q=0,r=g.length;q<r;q++){c=i[q];var s=g.eq(q);c.command||!c.field&&!s.attr("data-"+na.ns+"field")||(a=s.data("kendoColumnMenu"),a&&a.destroy(),e=c.sortable!==!1&&k.sortable!==!1&&j.sortable!==!1&&wa({},j.sortable,{compare:(c.sortable||{}).compare}),f=!(!j.filterable||c.filterable===!1||k.filterable===!1)&&wa({pane:h.pane},j.filterable,c.filterable),c.filterable&&c.filterable.dataSource&&(f.forceUnique=!1,f.checkSource=c.filterable.dataSource),f&&(f.format=c.format),d={dataSource:h.dataSource,values:c.values,columns:k.columns,sortable:e,filterable:f,messages:k.messages,owner:h,closeCallback:o,init:n,pane:h.pane,filter:m?":not(.k-column-active)":"",lockedColumns:!l&&c.lockable!==!1&&H(i).length>0},p&&(d.$angular=p),s.kendoColumnMenu(d))}}},_headerCells:function(){return this.thead.find("th").filter(function(){var b=a(this);return!b.hasClass("k-group-cell")&&!b.hasClass("k-hierarchy-cell")})},_filterable:function(){var a,b,c,d=this,e=M(d.columns),f=function(a){d.trigger(Ta,{field:a.field,container:a.container})},g=function(a){ea(a.closest("table"),!0)},h=d.options.filterable;if(h&&typeof h.mode==kb&&h.mode.indexOf("menu")==-1&&(h=!1),h&&!d.options.columnMenu){b=N(d.thead);for(var i=0,j=b.length;i<j;i++)if(c=b.eq(i),e[i].filterable!==!1&&!e[i].command&&(e[i].field||c.attr("data-"+na.ns+"field"))){a=c.data("kendoFilterMenu"),a&&a.destroy();var k=e[i].filterable,l=wa({},h,k,{dataSource:d.dataSource,values:e[i].values,format:e[i].format,closeCallback:g,init:f,pane:d.pane});k&&k.messages&&(l.messages=wa(!0,{},h.messages,k.messages)),k&&k.dataSource&&(l.forceUnique=!1,l.checkSource=k.dataSource),k&&k.multi?c.kendoFilterMultiCheck(l):c.kendoFilterMenu(l)}}},_filterRow:function(){var b=this;if(b._hasFilterRow()){var c=M(b.columns),d=b.options.filterable,e=b.thead.find(".k-filter-row");this._updateHeader(this.dataSource.group().length);for(var f=0;f<c.length;f++){var g,h=c[f],i=b.options.filterable.operators,j=!1,k=a("<th/>"),l=h.field;if(h.hidden&&k.hide(),e.append(k),l&&h.filterable!==!1){var m=h.filterable&&h.filterable.cell||{};g=b.options.dataSource,g instanceof pa&&(g=b.options.dataSource.options);var n=wa(!0,{},d.messages);if(h.filterable&&wa(!0,n,h.filterable.messages),m.enabled===!1){k.html("&nbsp;");continue}m.dataSource&&(g=m.dataSource,j=!0),h.filterable&&h.filterable.operators&&(i=h.filterable.operators),a("<span/>").attr(na.attr("field"),l).kendoFilterCell({dataSource:b.dataSource,suggestDataSource:g,customDataSource:j,field:l,messages:n,values:h.values,template:m.template,delay:m.delay,inputWidth:m.inputWidth,suggestionOperator:m.suggestionOperator,minLength:m.minLength,dataTextField:m.dataTextField,operator:m.operator,operators:i,showOperators:m.showOperators}).appendTo(k)}else k.html("&nbsp;")}}},_sortable:function(){var a,b,c,d=this,e=M(d.columns),f=d.options.sortable;if(f){for(var g=N(d.thead),h=0,i=g.length;h<i;h++)a=e[h],a.sortable!==!1&&!a.command&&a.field&&(c=g.eq(h),b=c.data("kendoColumnSorter"),b&&b.destroy(),c.attr("data-"+na.ns+"field",a.field).kendoColumnSorter(wa({},f,a.sortable,{dataSource:d.dataSource,aria:!0,filter:":not(.k-column-active)"})));g=null}},_columns:function(b){var c,d,e=this,f=e.table,g=f.find("col"),h=e.options.dataSource;if(b=b.length?b:xa(f.find("th"),function(b,c){b=a(b);var d=b.attr(na.attr("sortable")),e=b.attr(na.attr("filterable")),f=b.attr(na.attr("type")),h=b.attr(na.attr("groupable")),i=b.attr(na.attr("field")),j=b.attr(na.attr("title")),k=b.attr(na.attr("menu"));return i||(i=b.text().replace(/\s|[^A-z0-9]/g,"")),{field:i,type:f,title:j,sortable:"false"!==d,filterable:"false"!==e,groupable:"false"!==h,menu:k,template:b.attr(na.attr("template")),width:g.eq(c).css("width")}}),c=!(e.table.find("tbody tr").length>0&&(!h||!h.transport)),e.options.scrollable){var j=b;if(d=H(b),b=I(b),d.length>0&&0===b.length)throw new Error("There should be at least one non locked column");U(e.element.find("tr:has(th):first").find("th:not(.k-group-cell)"),j),b=d.concat(b)}e.columns=i(b,c)},_groups:function(){var a=this.dataSource.group();return a?a.length:0},_tmpl:function(a,b,e,f){var g,h,i,j,k=this,l=wa({},na.Template,k.options.templateSettings),m=b.length,n={storage:{},count:0},o=k._hasDetails(),p=[],q=k._groups();if(!a){for(a="<tr",e&&p.push("k-alt"),o&&p.push("k-master-row"),p.length&&(a+=' class="'+p.join(" ")+'"'),m&&(a+=" "+na.attr("uid")+'="#='+na.expr("uid",l.paramName)+'#"'),a+=" role='row'>",q>0&&!f&&(a+=c(q)),o&&(a+='<td class="k-hierarchy-cell"><a class="k-icon k-plus" href="\\#" tabindex="-1"></a></td>'),g=0;g<m;g++)i=b[g],h=i.template,j=typeof h,a+="<td"+d(i.attributes)+" role='gridcell'>",a+=k._cellTmpl(i,n),a+="</td>";a+="</tr>"}return a=na.template(a,l),n.count>0?Ca(a,n.storage):a},_headerCellText:function(a){var b=this,c=wa({},na.Template,b.options.templateSettings),d=a.headerTemplate,e=typeof d,f=a.title||a.field||"";return e===jb?f=na.template(d,c)({}):e===kb&&(f=d),f},_cellTmpl:function(a,b){var c,d,e=this,f=wa({},na.Template,e.options.templateSettings),g=a.template,h=f.paramName,i=a.field,j="",k=a.format,l=typeof g,m=a.values;if(a.command){if(za(a.command)){for(c=0,d=a.command.length;c<d;c++)j+=e._createButton(a.command[c]);return j.replace(pb,"\\#")}return e._createButton(a.command).replace(pb,"\\#")}return l===jb?(b.storage["tmpl"+b.count]=g,j+="#=this.tmpl"+b.count+"("+h+")#",b.count++):l===kb?j+=g:m&&m.length&&va(m[0])&&"value"in m[0]&&i?(j+="#var v ="+na.stringify(V(m)).replace(pb,"\\#")+"#",j+="#var f = v[",f.useWithBlock||(j+=h+"."),j+=i+"]#",j+="${f != null ? f : ''}"):(j+=a.encoded?"#:":"#=",k&&(j+='kendo.format("'+k.replace(ob,"\\$1")+'",'),i?(i=na.expr(i,h),j+=i+"==null?'':"+i):j+="''",k&&(j+=")"),j+="#"),j},_templates:function(){var b=this,c=b.options,d=b.dataSource,e=d.group(),f=b.footer||b.wrapper.find(".k-grid-footer"),g=d.aggregate(),h=M(b.columns),i=M(H(b.columns)),j=c.scrollable?M(I(b.columns)):h;if(c.scrollable&&i.length){if(c.rowTemplate||c.altRowTemplate)throw new Error("Having both row template and locked columns is not supported");b.rowTemplate=b._tmpl(c.rowTemplate,j,!1,!0),b.altRowTemplate=b._tmpl(c.altRowTemplate||c.rowTemplate,j,!0,!0),b.lockedRowTemplate=b._tmpl(c.rowTemplate,i),b.lockedAltRowTemplate=b._tmpl(c.altRowTemplate||c.rowTemplate,i,!0)}else b.rowTemplate=b._tmpl(c.rowTemplate,j),b.altRowTemplate=b._tmpl(c.altRowTemplate||c.rowTemplate,j,!0);b._hasDetails()&&(b.detailTemplate=b._detailTmpl(c.detailTemplate||"")),(b._group&&!Ea(g)||!Ea(g)&&!f.length||ya(h,function(a){return a.footerTemplate}).length)&&(b.footerTemplate=b._footerTmpl(h,g,"footerTemplate","k-footer-template")),e&&ya(h,function(a){return a.groupFooterTemplate}).length&&(g=a.map(e,function(a){return a.aggregates}),b.groupFooterTemplate=b._footerTmpl(j,g,"groupFooterTemplate","k-group-footer",i.length),c.scrollable&&i.length&&(b.lockedGroupFooterTemplate=b._footerTmpl(i,g,"groupFooterTemplate","k-group-footer")))},_footerTmpl:function(a,b,e,f,g){var h,i,j,k,l,m=this,n=wa({},na.Template,m.options.templateSettings),o=n.paramName,p="",q={},r=0,s={},t=m._groups(),u=m.dataSource._emptyAggregates(b);for(p+='<tr class="'+f+'">',t>0&&!g&&(p+=c(t)),m._hasDetails()&&(p+='<td class="k-hierarchy-cell">&nbsp;</td>'),h=0,i=a.length;h<i;h++)l=a[h],j=l[e],k=typeof j,p+="<td"+d(l.footerAttributes)+">",j?(k!==jb&&(s=u[l.field]?wa({},n,{paramName:o+"['"+l.field+"']"}):{},j=na.template(j,s)),q["tmpl"+r]=j,p+="#=this.tmpl"+r+"("+o+")#",r++):p+="&nbsp;",p+="</td>";return p+="</tr>",p=na.template(p,n),r>0?Ca(p,q):p},_detailTmpl:function(a){var b=this,d="",e=wa({},na.Template,b.options.templateSettings),f=e.paramName,g={},h=0,i=b._groups(),j=o(M(b.columns)).length,k=typeof a;return d+='<tr class="k-detail-row">',i>0&&(d+=c(i)),d+='<td class="k-hierarchy-cell"></td><td class="k-detail-cell"'+(j?' colspan="'+j+'"':"")+">",k===jb?(g["tmpl"+h]=a,d+="#=this.tmpl"+h+"("+f+")#",h++):d+=a,d+="</td></tr>",d=na.template(d,e),h>0?Ca(d,g):d},_hasDetails:function(){var a=this;return null!==a.options.detailTemplate||(a._events[Sa]||[]).length},_hasFilterRow:function(){var b=this.options.filterable,c=b&&typeof b.mode==kb&&b.mode.indexOf("row")!=-1,d=this.columns,e=a.grep(d,function(a,b){return a.filterable===!1});return d.length&&e.length==d.length&&(c=!1),c},_details:function(){var b=this;if(b.options.scrollable&&b._hasDetails()&&H(b.columns).length)throw new Error("Having both detail template and locked columns is not supported");b.table.on(gb+Oa,".k-hierarchy-cell .k-plus, .k-hierarchy-cell .k-minus",function(c){var d,e,f=a(this),g=f.hasClass("k-plus"),h=f.closest("tr.k-master-row"),i=b.detailTemplate,j=b._hasDetails();return f.toggleClass("k-plus",!g).toggleClass("k-minus",g),d=h.next(),j&&!d.hasClass("k-detail-row")&&(e=b.dataItem(h),d=a(i(e)).addClass(h.hasClass("k-alt")?"k-alt":"").insertAfter(h),b.angular("compile",function(){return{elements:d.get(),data:[{dataItem:e}]}}),b.trigger(Sa,{masterRow:h,detailRow:d,data:e,detailCell:d.find(".k-detail-cell")})),b.trigger(g?$a:_a,{masterRow:h,detailRow:d}),d.toggle(g),b._current&&b._current.attr("aria-expanded",g),c.preventDefault(),!1})},dataItem:function(b){if(b=a(b)[0],!b)return null;var c,d,e=this.tbody.children(),f=/k-grouping-row|k-detail-row|k-group-footer/,g=b.sectionRowIndex;for(d=g,c=0;c<g;c++)f.test(e[c].className)&&d--;return this._data[d]},expandRow:function(b){a(b).find("> td .k-plus, > td .k-i-expand").click()},collapseRow:function(b){a(b).find("> td .k-minus, > td .k-i-collapse").click()},_createHeaderCells:function(a,c){var e,f,g,h,i,j=this,k="",l=M(j.columns);for(e=0,h=a.length;e<h;e++){f=a[e].column||a[e],g=j._headerCellText(f),i="";var m=Aa(f,l);f.command?(k+="<th"+d(f.headerAttributes),c&&!a[e].colSpan&&(k+=" rowspan='"+c+"'"),m>-1&&(k+=na.attr("index")+"='"+m+"'"),k+=">"+g+"</th>"):(f.field&&(i=na.attr("field")+"='"+f.field+"' "),k+="<th role='columnheader' "+i,c&&!a[e].colSpan&&(k+=" rowspan='"+c+"'"),a[e].colSpan>1&&(k+='colspan="'+(a[e].colSpan-B(f.columns))+'" ',k+=na.attr("colspan")+"='"+a[e].colSpan+"'"),f.title&&(k+=na.attr("title")+'="'+f.title.replace(/'/g,"'")+'" '),f.groupable!==b&&(k+=na.attr("groupable")+"='"+f.groupable+"' "),f.aggregates&&f.aggregates.length&&(k+=na.attr("aggregates")+"='"+f.aggregates+"'"),m>-1&&(k+=na.attr("index")+"='"+m+"'"),k+=d(f.headerAttributes),k+=">"+g+"</th>")}return k},_appendLockedColumnContent:function(){var b,c,d,e,f,g=this.columns,h=this.table.find("colgroup"),i=h.find("col:not(.k-group-col,.k-hierarchy-col)"),j=a(),k=0,l=0;for(b=0,c=g.length;b<c;b++)if(g[b].locked)if(n(g[b])){for(e=1,g[b].columns&&(e=M(g[b].columns).length-B(g[b].columns)),e=e||1,f=0;f<e;f++)j=j.add(i.eq(b+l+f-k));l+=e-1}else k++;d=a('<div class="k-grid-content-locked"><table'+(wb?' cellspacing="0"':"")+"><colgroup/><tbody></tbody></table></div>"),h.detach(),d.find("colgroup").append(j),h.insertBefore(this.table.find("tbody")),this.lockedContent=d.insertBefore(this.content),this.lockedTable=d.children("table")},_appendLockedColumnFooter:function(){var b,c,d=this,e=d.footer,f=e.find(".k-footer-template>td"),g=e.find(".k-grid-footer-wrap>table>colgroup>col"),h=a('<div class="k-grid-footer-locked"><table><colgroup /><tbody><tr class="k-footer-template"></tr></tbody></table></div>'),i=d._groups(),j=a(),k=a();for(j=j.add(f.filter(".k-group-cell")),b=0,c=M(H(d.columns)).length;b<c;b++)j=j.add(f.eq(b+i));for(k=k.add(g.filter(".k-group-col")),b=0,c=M(K(d.columns)).length;b<c;b++)k=k.add(g.eq(b+i));j.appendTo(h.find("tr")),k.appendTo(h.find("colgroup")),d.lockedFooter=h.prependTo(e)},_appendLockedColumnHeader:function(b){var c,d,e,f,g,h,i,j,k,l,m=this,o=this.columns,q=[],r=0,s=a(),t=m._hasFilterRow(),u=0,v=a(),w=0,x=a();f=m.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),j=m.thead.find("tr:first .k-header:not(.k-group-cell,.k-hierarchy-cell)"),k=m.thead.find(".k-filter-row").find("th:not(.k-group-cell,.k-hierarchy-cell)");var y=0;for(c=0,e=o.length;c<e;c++){if(o[c].locked){if(l=j.eq(c),w=M(o[c].columns||[]).length,n(o[c])){var z;o[c].columns&&(z=w-B(o[c].columns)),z=z||1;for(var A=0;A<z;A++)s=s.add(f.eq(c+y+A-r));y+=z-1}G([o[c]],P(l),q,0,0),w=w||1;for(var C=0;C<w;C++)v=v.add(k.eq(u+C));u+=w}o[c].columns&&(r+=B(o[c].columns)),n(o[c])||r++}if(q.length){for(d='<div class="k-grid-header-locked" style="width:1px"><table'+(wb?' cellspacing="0"':"")+"><colgroup/><thead>",d+=new Array(q.length+1).join("<tr></tr>"),d+=(t?'<tr class="k-filter-row" />':"")+"</thead></table></div>",i=a(d),f=i.find("colgroup"),f.append(m.thead.prev().find("col.k-group-col").add(s)),g=i.find("thead tr:not(.k-filter-row)"),c=0,e=q.length;c<e;c++)x=p(q[c]),g.eq(c).append(m.thead.find("tr:eq("+c+") .k-group-cell").add(x));var E=F(this.thead);q.length<E&&D(i,E-q.length),h=i.find(".k-filter-row"),h.append(m.thead.find(".k-filter-row .k-group-cell").add(v)),this.lockedHeader=i.prependTo(b),this.thead.find(".k-group-cell").remove(),this._syncLockedHeaderHeight()}},_removeLockedContainers:function(){var a=this.lockedHeader.add(this.lockedContent).add(this.lockedFooter);na.destroy(a),a.off(Oa).remove(),this.lockedHeader=this.lockedContent=this.lockedFooter=null,this.selectable=null},_thead:function(){var b,c,d=this,e=d.columns,f=d._hasDetails()&&e.length,g=d._hasFilterRow(),h="",i=d.table.find(">thead"),j=d.element.find("thead:first").length>0;if(i.length||(i=a("<thead/>").insertBefore(d.tbody)),d.lockedHeader&&d.thead?(c=d.thead.find("tr:has(th):not(.k-filter-row)").html(""),c.remove(),c=a(),d._removeLockedContainers()):c=j?d.element.find("thead:first tr:has(th):not(.k-filter-row)"):d.element.find("tr:has(th):first"),!c.length&&(c=i.children().first(),!c.length)){var k=[{rowSpan:1,cells:[],index:0}];for(d._prepareColumns(k,e),b=0;b<k.length;b++)h+="<tr>",f&&(h+='<th class="k-hierarchy-cell">&nbsp;</th>'),h+=d._createHeaderCells(k[b].cells,k[b].rowSpan),h+="</tr>";c=a(h)}if(g){var l=a("<tr/>");l.addClass("k-filter-row"),(f||c.find(".k-hierarchy-cell").length)&&l.prepend('<th class="k-hierarchy-cell">&nbsp;</th>');var m=(d.thead||i).find(".k-filter-row");m.length&&(na.destroy(m),m.remove()),i.append(l)}c.children().length?f&&!c.find(".k-hierarchy-cell")[0]&&c.prepend('<th class="k-hierarchy-cell">&nbsp;</th>'):(h="",f&&(h+='<th class="k-hierarchy-cell">&nbsp;</th>'),h+=d._createHeaderCells(e),c.html(h)),c.attr("role","row").find("th").addClass("k-header"),d.options.scrollable||i.addClass("k-grid-header"),c.find("script").remove().end().prependTo(i),d.thead&&d._destroyColumnAttachments(),this.angular("cleanup",function(){return{elements:i.find("th").get()}}),this.angular("compile",function(){return{elements:i.find("th").get(),data:xa(e,function(a){return{column:a}})}}),d.thead=i.attr("role","rowgroup"),d._sortable(),d._filterable(),d._filterRow(),d._scrollable(),d._updateCols(),d._columnMenu(),this.options.scrollable&&H(this.columns).length&&(d._appendLockedColumnHeader(d.thead.closest(".k-grid-header")),d._appendLockedColumnContent(),d.lockedContent.bind("DOMMouseScroll"+Oa+" mousewheel"+Oa,Ca(d._wheelScroll,d)),d._applyLockedContainersWidth()),d._updateColumnCellIndex(),d._updateFirstColumnClass(),d._resizable(),d._draggable(),d._reorderable(),d.groupable&&d._attachGroupable()},_updateFirstColumnClass:function(){var b=this,c=b.columns||[],d=b._hasDetails()&&c.length;if(!d&&!b._groups()){var e=a(),f=b.thead.find(">tr:not(.k-filter-row):not(:first)");c=I(c),f.length&&c[0]&&!c[0].columns&&(e=e.add(f)),b._isLocked()&&(f=b.lockedHeader.find("thead>tr:not(.k-filter-row):not(:first)"),c=H(b.columns),f.length&&c[0]&&!c[0].columns&&(e=e.add(f))),e.each(function(){var b=a(this).find("th");b.removeClass("k-first"),b.eq(0).addClass("k-first")})}},_prepareColumns:function(a,b,c,d){for(var e=d||a[a.length-1],f=a[e.index+1],g=0,h=0;h<b.length;h++){var i={column:b[h],colSpan:0};e.cells.push(i),b[h].columns&&b[h].columns.length&&(f||(f={rowSpan:0,cells:[],index:a.length},a.push(f)),i.colSpan=b[h].columns.length,this._prepareColumns(a,b[h].columns,i,f),g+=i.colSpan-1,e.rowSpan=a.length-e.index)}c&&(c.colSpan+=g)},_wheelScroll:function(b){if(!b.ctrlKey){var c=this.content;this.options.scrollable.virtual&&(c=this.virtualScrollable.verticalScrollbar);var d=c.scrollTop(),e=na.wheelDeltaY(b);e&&(b.preventDefault(),a(b.currentTarget).one("wheel"+Oa,!1),c.scrollTop(d+-e))}},_isLocked:function(){return null!=this.lockedHeader},_updateCols:function(a){a=a||this.thead.parent().add(this.table),this._appendCols(a,this._isLocked())},_updateLockedCols:function(a){this._isLocked()&&(a=a||this.lockedHeader.find("table").add(this.lockedTable),T(a,L(K(this.columns)),this._hasDetails(),this._groups()))},_appendCols:function(a,b){b?T(a,L(J(this.columns)),this._hasDetails(),0):T(a,L(o(this.columns)),this._hasDetails(),this._groups())},_autoColumns:function(a){if(a&&a.toJSON){var b,c=this;a=a.toJSON();for(b in a)c.columns.push({field:b});c._thead(),c._templates()}},_rowsHtml:function(a,b){var c,d,e=this,f="",g=b.rowTemplate,h=b.altRowTemplate;for(c=0,d=a.length;c<d;c++)f+=c%2?h(a[c]):g(a[c]),e._data.push(a[c]);return f},_groupRowHtml:function(a,b,c,d,e,f){var g,h,i=this,j="",k=a.field,l=ya(M(i.columns),function(a){return a.field==k})[0]||{},m=l.groupHeaderTemplate,n=(l.title||k)+": "+W(a.value,l.format,l.values,l.encoded),o=i._groupAggregatesDefaultObject||{},p=wa({},o,a.aggregates),q=wa({},{field:a.field,value:a.value,aggregates:p},a.aggregates[a.field]),r=(e.rowTemplate,e.altRowTemplate,e.groupFooterTemplate),s=a.items;if(m&&(n=typeof m===jb?m(q):na.template(m)(q)),j+=d(b,c,n),a.hasSubgroups)for(g=0,h=s.length;g<h;g++)j+=i._groupRowHtml(s[g],f?b:b-1,c+1,d,e,f);else j+=i._rowsHtml(s,e);return r&&(j+=r(p)),j},collapseGroup:function(b){b=a(b);var c,d,e,f,g,h=this.options.groupable,i=h.showFooter,j=i?0:1,k=a();for(this._isLocked()&&(b.closest("div").hasClass("k-grid-content-locked")?k=this.tbody.children("tr:eq("+b.index()+")").nextAll("tr"):(k=b.nextAll("tr"),b=this.lockedTable.find(">tbody>tr:eq("+b.index()+")"))),c=b.find(".k-group-cell").length,b.find(".k-icon").addClass("k-i-expand").removeClass("k-i-collapse"),b.find("td:first").attr("aria-expanded",!1),b=b.nextAll("tr"),e=0,f=b.length;e<f&&(g=b.eq(e),d=g.find(".k-group-cell").length,g.hasClass("k-grouping-row")?j++:g.hasClass("k-group-footer")&&j--,!(d<=c||g.hasClass("k-group-footer")&&j<0));e++)g.hide(),k.eq(e).hide()},expandGroup:function(b){b=a(b);var c,d,e,f,g,h=this,i=h.options.groupable.showFooter,j=a(),k=[],l=1;for(this._isLocked()&&(b.closest("div").hasClass("k-grid-content-locked")?j=this.tbody.children("tr:eq("+b.index()+")").nextAll("tr"):(j=b.nextAll("tr"),b=this.lockedTable.find(">tbody>tr:eq("+b.index()+")"))),c=b.find(".k-group-cell").length,b.find(".k-icon").addClass("k-i-collapse").removeClass("k-i-expand"),b.find("td:first").attr("aria-expanded",!0),b=b.nextAll("tr"),f=0,g=b.length;f<g&&(d=b.eq(f),e=d.find(".k-group-cell").length,!(e<=c));f++)e!=c+1||d.hasClass("k-detail-row")||(d.show(),j.eq(f).show(),d.hasClass("k-grouping-row")&&d.find(".k-icon").hasClass("k-i-collapse")&&h.expandGroup(d),d.hasClass("k-master-row")&&d.find(".k-icon").hasClass("k-minus")&&(d.next().show(),j.eq(f+1).show())),d.hasClass("k-grouping-row")&&(i&&k.push(d.is(":visible")),l++),d.hasClass("k-group-footer")&&(i&&d.toggle(k.pop()),1==l?(d.show(),j.eq(f).show()):l--)},_updateHeader:function(b){var c=this,d=c._isLocked()?c.lockedHeader.find("thead"):c.thead,e=d.find("tr.k-filter-row").find("th.k-group-cell").length,f=d.find("tr:first").find("th.k-group-cell").length,g=d.children("tr:not(:first)").filter(function(){return!a(this).children(":visible").length});b>f?(a(new Array(b-f+1).join('<th class="k-group-cell k-header">&nbsp;</th>')).prependTo(d.children("tr:not(.k-filter-row)")),
c.element.is(":visible")&&g.find("th.k-group-cell").hide()):b<f&&d.find("tr").each(function(){a(this).find("th.k-group-cell").filter(":eq("+b+"),:gt("+b+")").remove()}),b>e&&a(new Array(b-e+1).join('<th class="k-group-cell k-header">&nbsp;</th>')).prependTo(d.find(".k-filter-row"))},_firstDataItem:function(a,b){return a&&b&&(a=a.hasSubgroups?this._firstDataItem(a.items[0],b):a.items[0]),a},_updateTablesWidth:function(){var b,c=this;c._isLocked()&&(b=a(">.k-grid-footer>.k-grid-footer-wrap>table",c.wrapper).add(c.thead.parent()).add(c.table),c._footerWidth=aa(b.eq(0)),b.width(c._footerWidth),b=a(">.k-grid-footer>.k-grid-footer-locked>table",c.wrapper).add(c.lockedHeader.find(">table")).add(c.lockedTable),b.width(aa(b.eq(0))))},hideColumn:function(b){var c,d,e,f,h,i,j,k,p,q=this,r=0,s=q.footer||q.wrapper.find(".k-grid-footer"),t=q.columns,u=q.lockedHeader?N(q.lockedHeader.find(">table>thead")).filter(m).length:0;if(b="number"==typeof b?t[b]:va(b)?ya(A(t),function(a){return a===b})[0]:ya(A(t),function(a){return a.field===b})[0],b&&n(b)){if(b.columns&&b.columns.length){for(i=y(b,t),l(b,!1),X(g(a(">table>thead",q.lockedHeader),q.thead,">tr:eq("+i.row+")>th"),i.cell,!1),e=0;e<b.columns.length;e++)this.hideColumn(b.columns[e]);return void q.trigger(Wa,{column:b})}p=Aa(b,o(M(t))),l(b,!1),q._setParentsVisibility(b,!1),q._templates(),q._updateCols(),q._updateLockedCols();var v=q.thead;if(j=p,q.lockedHeader&&u>p?v=q.lockedHeader.find(">table>thead"):j-=u,c=N(v).filter(m).eq(j),c[0].style.display="none",X(g(a(">table>thead",q.lockedHeader),q.thead,">tr.k-filter-row>th"),p,!1),s[0]&&(q._updateCols(s.find(">.k-grid-footer-wrap>table")),q._updateLockedCols(s.find(">.k-grid-footer-locked>table")),X(s.find(".k-footer-template>td"),p,!1)),q.lockedTable&&u>p?Y(q.lockedTable.find(">tbody>tr"),p):Y(q.tbody.children(),p-u),q.lockedTable)q._updateTablesWidth(),q._applyLockedContainersWidth(),q._syncLockedContentHeight(),q._syncLockedHeaderHeight(),q._syncLockedFooterHeight();else{for(f=q.thead.prev().find("col"),e=0,k=f.length;e<k;e+=1){if(h=f[e].style.width,!h||h.indexOf("%")!=-1){r=0;break}r+=parseInt(h,10)}d=a(">.k-grid-header table:first,>.k-grid-footer table:first",q.wrapper).add(q.table),q._footerWidth=null,r&&(d.each(function(){this.style.width=r+"px"}),q._footerWidth=r),vb.msie&&8==vb.version&&(d.css("display","inline-table"),setTimeout(function(){d.css("display","table")},1))}q._updateFirstColumnClass(),q.trigger(Wa,{column:b})}},_setParentsVisibility:function(b,c){var d,e,f,h,i,j=this.columns,m=[],n=c?function(a){return o(a.columns).length&&a.hidden}:function(a){return!o(a.columns).length&&!a.hidden};if(k(b,j,m)&&m.length)for(d=m.length-1;d>=0;d--)e=m[d],f=v(e,j),h=g(a(">table>thead",this.lockedHeader),this.thead,">tr:eq("+f.row+")>th:not(.k-group-cell):not(.k-hierarchy-cell)").eq(f.cell),n(e)&&(l(e,c),h[0].style.display=c?"":"none"),h.filter("["+na.attr("colspan")+"]").length&&(i=parseInt(h.attr(na.attr("colspan")),10),h[0].colSpan=i-B(e.columns)||1)},showColumn:function(b){var c,d,e,f,h,i,j,k,m,o,p=this,q=p.columns,r=p.footer||p.wrapper.find(".k-grid-footer"),s=p.lockedHeader?N(p.lockedHeader.find(">table>thead")).length:0;if(b="number"==typeof b?q[b]:va(b)?ya(A(q),function(a){return a===b})[0]:ya(A(q),function(a){return a.field===b})[0],b&&!n(b)){if(b.columns&&b.columns.length){for(j=v(b,q),l(b,!0),X(g(a(">table>thead",p.lockedHeader),p.thead,">tr:eq("+j.row+")>th"),j.cell,!0),c=0;c<b.columns.length;c++)this.showColumn(b.columns[c]);return void p.trigger(Xa,{column:b})}o=Aa(b,M(q)),l(b,!0),p._setParentsVisibility(b,!0),p._templates(),p._updateCols(),p._updateLockedCols();var t=p.thead;if(i=o,p.lockedHeader&&s>o?t=p.lockedHeader.find(">table>thead"):i-=s,e=N(t).eq(i),e[0].style.display="",X(g(a(">table>thead",p.lockedHeader),p.thead,">tr.k-filter-row>th"),o,!0),r[0]&&(p._updateCols(r.find(">.k-grid-footer-wrap>table")),p._updateLockedCols(r.find(">.k-grid-footer-locked>table")),X(r.find(".k-footer-template>td"),o,!0)),p.lockedTable&&s>o?$(p.lockedTable.find(">tbody>tr"),o):$(p.tbody.children(),o-s),p.lockedTable)p._updateTablesWidth(),p._applyLockedContainersWidth(),p._syncLockedContentHeight(),p._syncLockedHeaderHeight();else if(f=a(">.k-grid-header table:first,>.k-grid-footer table:first",p.wrapper).add(p.table),b.width){for(h=0,m=p.thead.prev().find("col"),c=0,d=m.length;c<d;c+=1){if(k=m[c].style.width,k.indexOf("%")>-1){h=0;break}h+=parseInt(k,10)}p._footerWidth=null,h&&(f.each(function(){this.style.width=h+"px"}),p._footerWidth=h)}else f.width("");p._updateFirstColumnClass(),p.trigger(Xa,{column:b})}},_progress:function(a){var b=this.element;this.lockedContent?b=this.wrapper:this.element.is("table")?b=this.element.parent():this.content&&this.content.length&&(b=this.content),na.ui.progress(b,a)},_resize:function(a,b){this.content&&(this._setContentWidth(),this._setContentHeight()),this.virtualScrollable&&(b||this._rowHeight)&&(b&&(this._rowHeight=null),this.virtualScrollable.repaintScrollbar())},_isActiveInTable:function(){var b=sa();return this.table[0]===b||a.contains(this.table[0],b)||this._isLocked()&&(this.lockedTable[0]===b||a.contains(this.lockedTable[0],b))},refresh:function(b){var c,d=this,e=d.dataSource.view(),f=d.options.navigatable,g=a(d.current()),h=!1,i=(d.dataSource.group()||[]).length,j=d.content&&d.content.scrollLeft(),k=i+L(o(d.columns)).length;b&&"itemchange"===b.action&&d.editable||(b=b||{},d.trigger("dataBinding",{action:b.action||"rebind",index:b.index,items:b.items})||(d._angularItems("cleanup"),f&&(d._isActiveInTable()||d._editContainer&&d._editContainer.data("kendoWindow"))&&(h=g.is("th"),c=0,h&&(c=d.thead.find("th:not(.k-group-cell)").index(g))),d._destroyEditable(),d._progress(!1),d._hideResizeHandle(),d._data=[],d.columns.length||(d._autoColumns(d._firstDataItem(e[0],i)),k=i+d.columns.length),d._group=i>0||d._group,d._group&&(d._templates(),d._updateCols(),d._updateLockedCols(),d._updateHeader(i),d._group=i>0),d._renderContent(e,k,i),d._renderLockedContent(e,k,i),d._footer(),d._setContentHeight(),d._setContentWidth(j),d.lockedTable&&(d.options.scrollable.virtual?d.content.find(">.k-virtual-scrollable-wrap").trigger("scroll"):d.touchScroller?d.touchScroller.movable.trigger("change"):d.content.trigger("scroll")),c>=0&&(d._removeCurrent(),h?d.current(d.thead.find("th:not(.k-group-cell)").eq(c)):d.current(d.table.add(d.lockedTable).find(Ma).first()),d._current&&ea(d._current.closest("table")[0],!0)),d.touchScroller&&d.touchScroller.contentResized(),d.selectable&&d.selectable.resetTouchEvents(),d._angularItems("compile"),d.trigger(Za)))},_angularItems:function(a){na.ui.DataBoundWidget.fn._angularItems.call(this,a),this._angularGroupItems(a)},_angularGroupItems:function(b){var c=this;c._group&&c.angular(b,function(){return{elements:c.tbody.children(".k-grouping-row"),data:a.map(Z(c.dataSource.view()),function(a){return{dataItem:a}})}})},_renderContent:function(a,b,c){var d,e,f=this,g="",h=null!=f.lockedContent,i={rowTemplate:f.rowTemplate,altRowTemplate:f.altRowTemplate,groupFooterTemplate:f.groupFooterTemplate};if(b=h?b-L(K(f.columns)).length:b,c>0)for(b=h?b-c:b,f.detailTemplate&&b++,f.groupFooterTemplate&&(f._groupAggregatesDefaultObject=f.dataSource.aggregates()),d=0,e=a.length;d<e;d++)g+=f._groupRowHtml(a[d],b,0,h?ma:la,i,h);else g+=f._rowsHtml(a,i);f.tbody=Q(f.tbody,f.table,g)},_renderLockedContent:function(a,b,c){var d,e,f="",g={rowTemplate:this.lockedRowTemplate,altRowTemplate:this.lockedAltRowTemplate,groupFooterTemplate:this.lockedGroupFooterTemplate};if(this.lockedContent){var h=this.lockedTable;if(c>0)for(b-=o(M(I(this.columns))).length,d=0,e=a.length;d<e;d++)f+=this._groupRowHtml(a[d],b,0,la,g);else f=this._rowsHtml(a,g);Q(h.children("tbody"),h,f),this._syncLockedContentHeight()}},_adjustRowsHeight:function(a,b){var c,d=a[0].rows,e=d.length,f=b[0].rows,g=a.add(b),h=g.length,i=[];for(c=0;c<e&&f[c];c++){d[c].style.height&&(d[c].style.height=f[c].style.height="");var j=d[c].offsetHeight,k=f[c].offsetHeight,l=0;j>k?l=j:j<k&&(l=k),i.push(l)}for(c=0;c<h;c++)g[c].style.display="none";for(c=0;c<e;c++)i[c]&&(d[c].style.height=f[c].style.height=i[c]+1+"px");for(c=0;c<h;c++)g[c].style.display=""}});na.ExcelMixin&&na.ExcelMixin.extend(Ab.prototype),na.PDFMixin&&(na.PDFMixin.extend(Ab.prototype),Ab.prototype._drawPDF=function(c){function d(){i&&k!==b?(h.unbind("change",e),h.one("change",function(){f.resolve(j)}),h.page(k)):f.resolve(j)}function e(){g._drawPDFShadow({width:g.wrapper.width()}).done(function(a){var b=h.page(),e=i?h.totalPages():1,f={page:a,pageNumber:b,progress:b/e,totalPages:e};c.notify(f),j.append(f.page),b<e?h.page(b+1):d()}).fail(function(a){f.reject(a)})}var f=new a.Deferred,g=this,h=g.dataSource,i=g.options.pdf.allPages;this._initPDFProgress(c);var j=new na.drawing.Group,k=h.page();return i?(h.bind("change",e),h.page(1)):e(),f.promise()},Ab.prototype._initPDFProgress=function(b){var c=a("<div class='k-loading-pdf-mask'><div class='k-loading-color'/></div>");c.prepend(this.wrapper.clone().css({position:"absolute",top:0,left:0})),this.wrapper.append(c);var d=a("<div class='k-loading-pdf-progress'>").appendTo(c).kendoProgressBar({type:"chunk",chunkCount:10,min:0,max:1,value:0}).data("kendoProgressBar");b.progress(function(a){d.value(a.progress)}).always(function(){na.destroy(c),c.remove()})}),oa.plugin(Ab),oa.plugin(yb)}(window.kendo.jQuery),function(a,b){function c(b){b=a(b),b.children(r).children(".k-icon").remove(),b.filter(":has(.k-panel),:has(.k-content)").children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var b=a(this),c=b.parent();b.append("<span class='k-icon "+(c.hasClass(G)?"k-i-arrow-n k-panelbar-collapse":"k-i-arrow-s k-panelbar-expand")+"'/>")})}function d(b){b=a(b),b.filter(".k-first:not(:first-child)").removeClass(x),b.filter(".k-last:not(:last-child)").removeClass(p),b.filter(":first-child").addClass(x),b.filter(":last-child").addClass(p)}var e=window.kendo,f=e.ui,g=e.keys,h=a.extend,i=a.each,j=e.template,k=f.Widget,l=/^(ul|a|div)$/i,m=".kendoPanelBar",n="img",o="href",p="k-last",q="k-link",r="."+q,s="error",t=".k-item",u=".k-group",v=u+":visible",w="k-image",x="k-first",y="expand",z="select",A="k-content",B="activate",C="collapse",D="mouseenter",E="mouseleave",F="contentLoad",G="k-state-active",H="> .k-panel",I="> .k-content",J="k-state-focused",K="k-state-disabled",L="k-state-selected",M="."+L,N="k-state-highlight",O=t+":not(.k-state-disabled)",P="> "+O+" > "+r+", .k-panel > "+O+" > "+r,Q=t+".k-state-disabled > .k-link",R="> li > "+M+", .k-panel > li > "+M,S="k-state-default",T="aria-disabled",U="aria-expanded",V="aria-hidden",W="aria-selected",X=":visible",Y=":empty",Z="single",$={content:j("<div role='region' class='k-content'#= contentAttributes(data) #>#= content(item) #</div>"),group:j("<ul role='group' aria-hidden='true' class='#= groupCssClass(group) #'#= groupAttributes(group) #>#= renderItems(data) #</ul>"),itemWrapper:j("<#= tag(item) # class='#= textClass(item, group) #' #= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:j("<li role='menuitem' #=aria(item)#class='#= wrapperCssClass(group, item) #'>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, panelBar: panelBar, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),image:j("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:j("<span class='#= arrowClass(item) #'></span>"),sprite:j("<span class='k-sprite #= spriteCssClass #'></span>"),empty:j("")},_={aria:function(a){var b="";return(a.items||a.content||a.contentUrl)&&(b+=U+"='"+(a.expanded?"true":"false")+"' "),a.enabled===!1&&(b+=T+"='true'"),b},wrapperCssClass:function(a,b){var c="k-item",d=b.index;return c+=b.enabled===!1?" "+K:b.expanded===!0?" "+G:" k-state-default",0===d&&(c+=" k-first"),d==a.length-1&&(c+=" k-last"),b.cssClass&&(c+=" "+b.cssClass),c},textClass:function(a,b){var c=q;return b.firstLevel&&(c+=" k-header"),c},textAttributes:function(a){return a.url?" href='"+a.url+"'":""},arrowClass:function(a){var b="k-icon";return b+=a.expanded?" k-i-arrow-n k-panelbar-collapse":" k-i-arrow-s k-panelbar-expand"},text:function(a){return a.encoded===!1?a.text:e.htmlEncode(a.text)},tag:function(a){return a.url||a.contentUrl?"a":"span"},groupAttributes:function(a){return a.expanded!==!0?" style='display:none'":""},groupCssClass:function(){return"k-group k-panel"},contentAttributes:function(a){return a.item.expanded!==!0?" style='display:none'":""},content:function(a){return a.content?a.content:a.contentUrl?"":"&nbsp;"},contentUrl:function(a){return a.contentUrl?'href="'+a.contentUrl+'"':""}},aa=k.extend({init:function(b,c){var d,f=this;k.fn.init.call(f,b,c),b=f.wrapper=f.element.addClass("k-widget k-reset k-header k-panelbar"),c=f.options,b[0].id&&(f._itemId=b[0].id+"_pb_active"),f._tabindex(),f._initData(c),f._updateClasses(),f._animations(c),b.on("click"+m,P,function(b){f._click(a(b.currentTarget))&&b.preventDefault()}).on(D+m+" "+E+m,P,f._toggleHover).on("click"+m,Q,!1).on("keydown"+m,a.proxy(f._keydown,f)).on("focus"+m,function(){var a=f.select();f._current(a[0]?a:f._first())}).on("blur"+m,function(){f._current(null)}).attr("role","menu"),d=b.find("li."+G+" > ."+A),d[0]&&f.expand(d.parent(),!1),e.notify(f)},events:[y,C,z,B,s,F],options:{name:"PanelBar",animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:200}},expandMode:"multiple"},destroy:function(){k.fn.destroy.call(this),this.element.off(m),e.destroy(this.element)},_initData:function(a){var b=this;a.dataSource&&(b.element.empty(),b.append(a.dataSource,b.element))},setOptions:function(a){var b=this.options.animation;this._animations(a),a.animation=h(!0,b,a.animation),"dataSource"in a&&this._initData(a),k.fn.setOptions.call(this,a)},expand:function(b,c){var d=this,e={};return c=c!==!1,b=this.element.find(b),b.each(function(f,g){g=a(g);var h=g.find(H).add(g.find(I));if(!g.hasClass(K)&&h.length>0){if(d.options.expandMode==Z&&d._collapseAllExpanded(g))return d;b.find("."+N).removeClass(N),g.addClass(N),c||(e=d.options.animation,d.options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),d._triggerEvent(y,g)||d._toggleItem(g,!1),c||(d.options.animation=e)}}),d},collapse:function(b,c){var d=this,e={};return c=c!==!1,b=d.element.find(b),b.each(function(b,f){f=a(f);var g=f.find(H).add(f.find(I));!f.hasClass(K)&&g.is(X)&&(f.removeClass(N),c||(e=d.options.animation,d.options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),d._triggerEvent(C,f)||d._toggleItem(f,!0),c||(d.options.animation=e))}),d},_toggleDisabled:function(a,b){a=this.element.find(a),a.toggleClass(S,b).toggleClass(K,!b).attr(T,!b)},select:function(c){var d=this;return c===b?d.element.find(R).parent():(c=d.element.find(c),c.length?c.each(function(){var b=a(this),c=b.children(r);return b.hasClass(K)?d:void(d._triggerEvent(z,b)||d._updateSelected(c))}):this._updateSelected(c),d)},clearSelection:function(){this.select(a())},enable:function(a,b){return this._toggleDisabled(a,b!==!1),this},disable:function(a){return this._toggleDisabled(a,!1),this},append:function(a,b){b=this.element.find(b);var e=this._insert(a,b,b.length?b.find(H):null);return i(e.items,function(){e.group.append(this),d(this)}),c(b),d(e.group.find(".k-first, .k-last")),e.group.height("auto"),this},insertBefore:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.parent());return i(c.items,function(){b.before(this),d(this)}),d(b),c.group.height("auto"),this},insertAfter:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.parent());return i(c.items,function(){b.after(this),d(this)}),d(b),c.group.height("auto"),this},remove:function(a){a=this.element.find(a);var b=this,e=a.parentsUntil(b.element,t),f=a.parent("ul");return a.remove(),!f||f.hasClass("k-panelbar")||f.children(t).length||f.remove(),e.length&&(e=e.eq(0),c(e),d(e)),b},reload:function(b){var c=this;b=c.element.find(b),b.each(function(){var b=a(this);c._ajaxRequest(b,b.children("."+A),!b.is(X))})},_first:function(){return this.element.children(O).first()},_last:function(){var a=this.element.children(O).last(),b=a.children(v);return b[0]?b.children(O).last():a},_current:function(c){var d=this,e=d._focused,f=d._itemId;return c===b?e:(d.element.removeAttr("aria-activedescendant"),e&&(e[0].id===f&&e.removeAttr("id"),e.children(r).removeClass(J)),a(c).length&&(f=c[0].id||f,c.attr("id",f).children(r).addClass(J),d.element.attr("aria-activedescendant",f)),void(d._focused=c))},_keydown:function(a){var b=this,c=a.keyCode,d=b._current();a.target==a.currentTarget&&(c==g.DOWN||c==g.RIGHT?(b._current(b._nextItem(d)),a.preventDefault()):c==g.UP||c==g.LEFT?(b._current(b._prevItem(d)),a.preventDefault()):c==g.ENTER||c==g.SPACEBAR?(b._click(d.children(r)),a.preventDefault()):c==g.HOME?(b._current(b._first()),a.preventDefault()):c==g.END&&(b._current(b._last()),a.preventDefault()))},_nextItem:function(a){if(!a)return this._first();var b=a.children(v),c=a.nextAll(":visible").first();return b[0]&&(c=b.children("."+x)),c[0]||(c=a.parent(v).parent(t).next()),c[0]||(c=this._first()),c.hasClass(K)&&(c=this._nextItem(c)),c},_prevItem:function(a){if(!a)return this._last();var b,c=a.prevAll(":visible").first();if(c[0])for(b=c;b[0];)b=b.children(v).children("."+p),b[0]&&(c=b);else c=a.parent(v).parent(t),c[0]||(c=this._last());return c.hasClass(K)&&(c=this._prevItem(c)),c},_insert:function(b,c,d){var f,g,i=this,j=a.isPlainObject(b),k=c&&c[0];return k||(d=i.element),g={firstLevel:d.hasClass("k-panelbar"),expanded:d.parent().hasClass(G),length:d.children().length},k&&!d.length&&(d=a(aa.renderGroup({group:g})).appendTo(c)),b instanceof e.Observable&&(b=b.toJSON()),j||a.isArray(b)?(f=a.map(j?[b]:b,function(b,c){return a("string"==typeof b?b:aa.renderItem({group:g,item:h(b,{index:c})}))}),k&&c.attr(U,!1)):(f="string"==typeof b&&"<"!=b.charAt(0)?i.element.find(b):a(b),i._updateItemsClasses(f)),{items:f,group:d}},_toggleHover:function(b){var c=a(b.currentTarget);c.parents("li."+K).length||c.toggleClass("k-state-hover",b.type==D)},_updateClasses:function(){var b,e,f=this;b=f.element.find("li > ul").not(function(){return a(this).parentsUntil(".k-panelbar","div").length}).addClass("k-group k-panel").attr("role","group"),b.parent().attr(U,!1).not("."+G).children("ul").attr(V,!0).hide(),e=f.element.add(b).children(),f._updateItemsClasses(e),c(e),d(e)},_updateItemsClasses:function(a){for(var b=a.length,c=0;c<b;c++)this._updateItemClasses(a[c],c)},_updateItemClasses:function(b,c){var d,f,g=this._selected,h=this.options.contentUrls,i=h&&h[c],j=this.element[0];b=a(b).addClass("k-item").attr("role","menuitem"),e.support.browser.msie&&b.css("list-style-position","inside").css("list-style-position",""),b.children(n).addClass(w),f=b.children("a").addClass(q),f[0]&&(f.attr("href",i),f.children(n).addClass(w)),b.filter(":not([disabled]):not([class*=k-state])").addClass("k-state-default"),b.filter("li[disabled]").addClass("k-state-disabled").attr(T,!0).removeAttr("disabled"),b.children("div").addClass(A).attr("role","region").attr(V,!0).hide().parent().attr(U,!1),f=b.children(M),f[0]&&(g&&g.removeAttr(W).children(M).removeClass(L),f.addClass(L),this._selected=b.attr(W,!0)),b.children(r)[0]||(d="<span class='"+q+"'/>",h&&h[c]&&b[0].parentNode==j&&(d='<a class="k-link k-header" href="'+h[c]+'"/>'),b.contents().filter(function(){return!(this.nodeName.match(l)||3==this.nodeType&&!a.trim(this.nodeValue))}).wrapAll(d)),b.parent(".k-panelbar")[0]&&b.children(r).addClass("k-header")},_click:function(a){var b,c,d,e,f=this,g=f.element;if(!a.parents("li."+K).length&&a.closest(".k-widget")[0]==g[0]){var h=a.closest(r),i=h.closest(t);if(f._updateSelected(h),c=i.find(H).add(i.find(I)),d=h.attr(o),e=d&&("#"==d.charAt(d.length-1)||d.indexOf("#"+f.element[0].id+"-")!=-1),b=!(!e&&!c.length),c.data("animating"))return b;if(f._triggerEvent(z,i)&&(b=!0),b!==!1){if(f.options.expandMode==Z&&f._collapseAllExpanded(i))return b;if(c.length){var j=c.is(X);f._triggerEvent(j?C:y,i)||(b=f._toggleItem(i,j))}return b}}},_toggleItem:function(a,c){var d,e,f=this,g=a.find(H),h=a.find(r),i=h.attr(o);return g.length?(this._toggleGroup(g,c),d=!0):(e=a.children("."+A),e.length&&(d=!0,e.is(Y)&&i!==b?f._ajaxRequest(a,e,c):f._toggleGroup(e,c))),d},_toggleGroup:function(a,b){var c=this,d=c.options.animation,e=d.expand,f=h({},d.collapse),g=f&&"effects"in f;a.is(X)==b&&(a.parent().attr(U,!b).attr(V,b).toggleClass(G,!b).find("> .k-link > .k-icon").toggleClass("k-i-arrow-n",!b).toggleClass("k-panelbar-collapse",!b).toggleClass("k-i-arrow-s",b).toggleClass("k-panelbar-expand",b),e=b?h(g?f:h({reverse:!0},e),{hide:!0}):h({complete:function(a){c._triggerEvent(B,a.closest(t))}},e),a.kendoStop(!0,!0).kendoAnimate(e))},_collapseAllExpanded:function(b){var c,d=this,e=!1,f=b.find(H).add(b.find(I));return f.is(X)&&(e=!0),f.is(X)||0===f.length||(c=b.siblings(),c.find(H).add(c.find(I)).filter(function(){return a(this).is(X)}).each(function(b,c){c=a(c),e=d._triggerEvent(C,c.closest(t)),e||d._toggleGroup(c,!0)})),e},_ajaxRequest:function(b,c,d){var e=this,f=b.find(".k-panelbar-collapse, .k-panelbar-expand"),g=b.find(r),h=setTimeout(function(){f.addClass("k-loading")},100),i={},j=g.attr(o);a.ajax({type:"GET",cache:!1,url:j,dataType:"html",data:i,error:function(a,b){f.removeClass("k-loading"),e.trigger(s,{xhr:a,status:b})&&this.complete()},complete:function(){clearTimeout(h),f.removeClass("k-loading")},success:function(a){function f(){return{elements:c.get()}}try{e.angular("cleanup",f),c.html(a),e.angular("compile",f)}catch(g){var h=window.console;h&&h.error&&h.error(g.name+": "+g.message+" in "+j),this.error(this.xhr,"error")}e._toggleGroup(c,d),e.trigger(F,{item:b[0],contentElement:c[0]})}})},_triggerEvent:function(a,b){var c=this;return c.trigger(a,{item:b[0]})},_updateSelected:function(a){var b=this,c=b.element,d=a.parent(t),e=b._selected;e&&e.removeAttr(W),b._selected=d.attr(W,!0),c.find(R).removeClass(L),c.find("> ."+N+", .k-panel > ."+N).removeClass(N),a.addClass(L),a.parentsUntil(c,t).filter(":has(.k-header)").addClass(N),b._current(d[0]?d:null)},_animations:function(a){a&&"animation"in a&&!a.animation&&(a.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}})}});h(aa,{renderItem:function(a){a=h({panelBar:{},group:{}},a);var b=$.empty,c=a.item;return $.item(h(a,{image:c.imageUrl?$.image:b,sprite:c.spriteCssClass?$.sprite:b,itemWrapper:$.itemWrapper,renderContent:aa.renderContent,arrow:c.items||c.content||c.contentUrl?$.arrow:b,subGroup:aa.renderGroup},_))},renderGroup:function(a){return $.group(h({renderItems:function(a){for(var b="",c=0,d=a.items,e=d?d.length:0,f=h({length:e},a.group);c<e;c++)b+=aa.renderItem(h(a,{group:f,item:h({index:c},d[c])}));return b}},a,_))},renderContent:function(a){return $.content(h(a,_))}}),e.ui.plugin(aa)}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=c.ui.Widget,e=a.proxy,f=c.keys,g="click",h="k-button",i="k-button-icon",j="k-button-icontext",k=".kendoButton",l="disabled",m="k-state-disabled",n="k-state-focused",o="k-state-selected",p=d.extend({init:function(a,b){var f=this;d.fn.init.call(f,a,b),a=f.wrapper=f.element,b=f.options,a.addClass(h).attr("role","button"),b.enable=b.enable&&!a.attr(l),f.enable(b.enable),f._tabindex(),f._graphics(),a.on(g+k,e(f._click,f)).on("focus"+k,e(f._focus,f)).on("blur"+k,e(f._blur,f)).on("keydown"+k,e(f._keydown,f)).on("keyup"+k,e(f._keyup,f)),c.notify(f)},destroy:function(){var a=this;a.wrapper.off(k),d.fn.destroy.call(a)},events:[g],options:{name:"Button",icon:"",spriteCssClass:"",imageUrl:"",enable:!0},_isNativeButton:function(){return"button"==this.element.prop("tagName").toLowerCase()},_click:function(a){this.options.enable&&this.trigger(g,{event:a})&&a.preventDefault()},_focus:function(){this.options.enable&&this.element.addClass(n)},_blur:function(){this.element.removeClass(n)},_keydown:function(a){var b=this;b._isNativeButton()||a.keyCode!=f.ENTER&&a.keyCode!=f.SPACEBAR||(a.keyCode==f.SPACEBAR&&(a.preventDefault(),b.options.enable&&b.element.addClass(o)),b._click(a))},_keyup:function(){this.element.removeClass(o)},_graphics:function(){var b,c,d,e=this,f=e.element,g=e.options,h=g.icon,k=g.spriteCssClass,l=g.imageUrl;(k||l||h)&&(d=!0,f.contents().not("span.k-sprite").not("span.k-icon").not("img.k-image").each(function(b,c){(1==c.nodeType||3==c.nodeType&&a.trim(c.nodeValue).length>0)&&(d=!1)}),d?f.addClass(i):f.addClass(j)),h?(b=f.children("span.k-icon").first(),b[0]||(b=a('<span class="k-icon"></span>').prependTo(f)),b.addClass("k-i-"+h)):k?(b=f.children("span.k-sprite").first(),b[0]||(b=a('<span class="k-sprite"></span>').prependTo(f)),b.addClass(k)):l&&(c=f.children("img.k-image").first(),c[0]||(c=a('<img alt="icon" class="k-image" />').prependTo(f)),c.attr("src",l))},enable:function(a){var c=this,d=c.element;a===b&&(a=!0),a=!!a,c.options.enable=a,d.toggleClass(m,!a).attr("aria-disabled",!a).attr(l,!a);try{d.blur()}catch(e){}}});c.ui.plugin(p)}(window.kendo.jQuery),function(a,b){function c(a,b,c){var d,e=a.getTimezoneOffset();a.setTime(a.getTime()+b),c||(d=a.getTimezoneOffset()-e,a.setTime(a.getTime()+d*F))}function d(){var a=new T,b=new T(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0),c=new T(a.getFullYear(),a.getMonth(),a.getDate(),12,0,0);return-1*(b.getTimezoneOffset()-c.getTimezoneOffset())}function e(a){return 60*a.getHours()*F+a.getMinutes()*F+1e3*a.getSeconds()+a.getMilliseconds()}function f(a,b,c){var d,f=e(b),g=e(c);return!a||f==g||(d=e(a),f>d&&(d+=G),g<f&&(g+=G),d>=f&&d<=g)}function g(a){var b=a.parseFormats;a.format=m(a.format||i.getCulture(a.culture).calendars.standard.patterns.t),b=Q(b)?b:[b],b.splice(0,0,a.format),a.parseFormats=b}function h(a){a.preventDefault()}var i=window.kendo,j=i.keys,k=i.parseDate,l=i._activeElement,m=i._extractFormat,n=i.support,o=n.browser,p=i.ui,q=p.Widget,r="open",s="close",t="change",u=".kendoTimePicker",v="click"+u,w="k-state-default",x="disabled",y="readonly",z="li",A="<span/>",B="k-state-focused",C="k-state-hover",D="mouseenter"+u+" mouseleave"+u,E="mousedown"+u,F=6e4,G=864e5,H="k-state-selected",I="k-state-disabled",J="aria-selected",K="aria-expanded",L="aria-hidden",M="aria-disabled",N="aria-readonly",O="aria-activedescendant",P="id",Q=a.isArray,R=a.extend,S=a.proxy,T=Date,U=new T;U=new T(U.getFullYear(),U.getMonth(),U.getDate(),0,0,0);var V=function(b){var c=this,d=b.id;c.options=b,c.ul=a('<ul tabindex="-1" role="listbox" aria-hidden="true" unselectable="on" class="k-list k-reset"/>').css({overflow:n.kineticScrollNeeded?"":"auto"}).on(v,z,S(c._click,c)).on("mouseenter"+u,z,function(){a(this).addClass(C)}).on("mouseleave"+u,z,function(){a(this).removeClass(C)}),c.list=a("<div class='k-list-container'/>").append(c.ul).on(E,h),d&&(c._timeViewID=d+"_timeview",c._optionID=d+"_option_selected",c.ul.attr(P,c._timeViewID)),c._popup(),c._heightHandler=S(c._height,c),c.template=i.template('<li tabindex="-1" role="option" class="k-item" unselectable="on">#=data#</li>',{useWithBlock:!1})};V.prototype={current:function(c){var d=this,e=d.options.active;return c===b?d._current:(d._current&&d._current.removeClass(H).removeAttr(J).removeAttr(P),c&&(c=a(c).addClass(H).attr(P,d._optionID).attr(J,!0),d.scroll(c[0])),d._current=c,e&&e(c),void 0)},close:function(){this.popup.close()},destroy:function(){var a=this;a.ul.off(u),a.list.off(u),a._touchScroller&&a._touchScroller.destroy(),a.popup.destroy()},open:function(){var a=this;a.ul[0].firstChild||a.bind(),a.popup.open(),a._current&&a.scroll(a._current[0])},dataBind:function(a){for(var b,c=this,d=c.options,e=d.format,g=i.toString,h=c.template,j=a.length,k=0,l="";k<j;k++)b=a[k],f(b,d.min,d.max)&&(l+=h(g(b,e,d.culture)));c._html(l)},refresh:function(){var a,b,f,g=this,h=g.options,j=h.format,k=d(),l=k<0,m=h.min,n=h.max,o=e(m),p=e(n),q=h.interval*F,r=i.toString,s=g.template,t=new T((+m)),u=t.getDate(),v=0,w="";for(f=l?(G+k*F)/q:G/q,o!=p&&(o>p&&(p+=G),f=(p-o)/q+1),b=parseInt(f,10);v<f;v++)v&&c(t,q,l),p&&b==v&&(a=e(t),u<t.getDate()&&(a+=G),a>p&&(t=new T((+n)))),w+=s(r(t,j,h.culture));g._html(w)},bind:function(){var a=this,b=a.options.dates;b&&b[0]?a.dataBind(b):a.refresh()},_html:function(a){var b=this;b.ul[0].innerHTML=a,b.popup.unbind(r,b._heightHandler),b.popup.one(r,b._heightHandler),b.current(null),b.select(b._value)},scroll:function(a){if(a){var b,c=this.ul[0],d=a.offsetTop,e=a.offsetHeight,f=c.scrollTop,g=c.clientHeight,h=d+e,i=this._touchScroller;i?(b=this.list.height(),d>b&&(d=d-b+e),i.scrollTo(0,-d)):c.scrollTop=f>d?d:h>f+g?h-g:f}},select:function(b){var c=this,d=c.options,e=c._current;b instanceof Date&&(b=i.toString(b,d.format,d.culture)),"string"==typeof b&&(e&&e.text()===b?b=e:(b=a.grep(c.ul[0].childNodes,function(a){return(a.textContent||a.innerText)==b}),b=b[0]?b:null)),c.current(b)},setOptions:function(a){var b=this.options;a.min=k(a.min),a.max=k(a.max),this.options=R(b,a,{active:b.active,change:b.change,close:b.close,open:b.open}),this.bind()},toggle:function(){var a=this;a.popup.visible()?a.close():a.open()},value:function(a){var b=this;b._value=a,b.ul[0].firstChild&&b.select(a)},_click:function(b){var c=this,d=a(b.currentTarget),e=d.text(),f=c.options.dates;f&&f.length>0&&(e=f[d.index()]),b.isDefaultPrevented()||(c.select(d),c.options.change(e,!0),c.close())},_height:function(){var a=this,b=a.list,c=b.parent(".k-animation-container"),d=a.options.height;a.ul[0].children.length&&b.add(c).show().height(a.ul[0].scrollHeight>d?d:"auto").hide()},_parse:function(a){var b=this,c=b.options,d=b._value||U;return a instanceof T?a:(a=k(a,c.parseFormats,c.culture),a&&(a=new T(d.getFullYear(),d.getMonth(),d.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())),a)},_adjustListWidth:function(){var a,b,c=this.list,d=c[0].style.width,e=this.options.anchor;!c.data("width")&&d||(a=window.getComputedStyle?window.getComputedStyle(e[0],null):0,b=a?parseFloat(a.width):e.outerWidth(),a&&(o.mozilla||o.msie)&&(b+=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight)+parseFloat(a.borderLeftWidth)+parseFloat(a.borderRightWidth)),d=b-(c.outerWidth()-c.width()),c.css({fontFamily:e.css("font-family"),width:d}).data("width",d))},_popup:function(){var a=this,b=a.list,c=a.options,d=c.anchor;a.popup=new p.Popup(b,R(c.popup,{anchor:d,open:c.open,close:c.close,animation:c.animation,isRtl:n.isRtl(c.anchor)})),a._touchScroller=i.touchScroller(a.popup.element)},move:function(a){var b=this,c=a.keyCode,d=b.ul[0],e=b._current,f=c===j.DOWN;if(c===j.UP||f){if(a.altKey)return void b.toggle(f);e=f?e?e[0].nextSibling:d.firstChild:e?e[0].previousSibling:d.lastChild,e&&b.select(e),b.options.change(b._current.text()),a.preventDefault()}else c!==j.ENTER&&c!==j.TAB&&c!==j.ESC||(a.preventDefault(),e&&b.options.change(e.text(),!0),b.close())}},V.getMilliseconds=e,i.TimeView=V;var W=q.extend({init:function(b,c){var d,e,f,h=this;q.fn.init.call(h,b,c),b=h.element,c=h.options,c.min=k(b.attr("min"))||k(c.min),c.max=k(b.attr("max"))||k(c.max),g(c),h._initialOptions=R({},c),h._wrapper(),h.timeView=e=new V(R({},c,{id:b.attr(P),anchor:h.wrapper,format:c.format,change:function(a,c){c?h._change(a):b.val(a)},open:function(a){h.timeView._adjustListWidth(),h.trigger(r)?a.preventDefault():(b.attr(K,!0),d.attr(L,!1))},close:function(a){h.trigger(s)?a.preventDefault():(b.attr(K,!1),d.attr(L,!0))},active:function(a){b.removeAttr(O),a&&b.attr(O,e._optionID)}})),d=e.ul,h._icon(),h._reset();try{b[0].setAttribute("type","text")}catch(j){b[0].type="text"}b.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":e._timeViewID}),f=b.is("[disabled]")||a(h.element).parents("fieldset").is(":disabled"),f?h.enable(!1):h.readonly(b.is("[readonly]")),h._old=h._update(c.value||h.element.val()),h._oldText=b.val(),i.notify(h)},options:{name:"TimePicker",min:U,max:U,format:"",dates:[],parseFormats:[],value:null,interval:30,height:200,animation:{}},events:[r,s,t],setOptions:function(a){var b=this,c=b._value;q.fn.setOptions.call(b,a),a=b.options,g(a),b.timeView.setOptions(a),c&&b.element.val(i.toString(c,a.format,a.culture));
},dataBind:function(a){Q(a)&&this.timeView.dataBind(a)},_editable:function(a){var b=this,c=a.disable,d=a.readonly,e=b._arrow.off(u),f=b.element.off(u),g=b._inputWrapper.off(u);d||c?(g.addClass(c?I:w).removeClass(c?w:I),f.attr(x,c).attr(y,d).attr(M,c).attr(N,d)):(g.addClass(w).removeClass(I).on(D,b._toggleHover),f.removeAttr(x).removeAttr(y).attr(M,!1).attr(N,!1).on("keydown"+u,S(b._keydown,b)).on("focusout"+u,S(b._blur,b)).on("focus"+u,function(){b._inputWrapper.addClass(B)}),e.on(v,S(b._click,b)).on(E,h))},readonly:function(a){this._editable({readonly:a===b||a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a=a===b||a)})},destroy:function(){var a=this;q.fn.destroy.call(a),a.timeView.destroy(),a.element.off(u),a._arrow.off(u),a._inputWrapper.off(u),a._form&&a._form.off("reset",a._resetHandler)},close:function(){this.timeView.close()},open:function(){this.timeView.open()},min:function(a){return this._option("min",a)},max:function(a){return this._option("max",a)},value:function(a){var c=this;return a===b?c._value:(c._old=c._update(a),null===c._old&&c.element.val(""),void(c._oldText=c.element.val()))},_blur:function(){var a=this,b=a.element.val();a.close(),b!==a._oldText&&a._change(b),a._inputWrapper.removeClass(B)},_click:function(){var a=this,b=a.element;a.timeView.toggle(),n.touch||b[0]===l()||b.focus()},_change:function(a){var b=this;a=b._update(a),+b._old!=+a&&(b._old=a,b._oldText=b.element.val(),b.element.trigger(t),b.trigger(t))},_icon:function(){var b,c=this,d=c.element;b=d.next("span.k-select"),b[0]||(b=a('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(d)),c._arrow=b.attr({role:"button","aria-controls":c.timeView._timeViewID})},_keydown:function(a){var b=this,c=a.keyCode,d=b.timeView,e=b.element.val();d.popup.visible()||a.altKey?d.move(a):c===j.ENTER&&e!==b._oldText&&b._change(e)},_option:function(a,c){var d=this,e=d.options;return c===b?e[a]:(c=d.timeView._parse(c),void(c&&(c=new T((+c)),e[a]=c,d.timeView.options[a]=c,d.timeView.bind())))},_toggleHover:function(b){a(b.currentTarget).toggleClass(C,"mouseenter"===b.type)},_update:function(a){var b=this,c=b.options,d=b.timeView,e=d._parse(a);return f(e,c.min,c.max)||(e=null),b._value=e,b.element.val(e?i.toString(e,c.format,c.culture):a),d.value(e),e},_wrapper:function(){var b,c=this,d=c.element;b=d.parents(".k-timepicker"),b[0]||(b=d.wrap(A).parent().addClass("k-picker-wrap k-state-default"),b=b.wrap(A).parent()),b[0].style.cssText=d[0].style.cssText,c.wrapper=b.addClass("k-widget k-timepicker k-header").addClass(d[0].className),d.css({width:"100%",height:d[0].style.height}),c._inputWrapper=a(b[0].firstChild)},_reset:function(){var b=this,c=b.element,d=c.attr("form"),e=d?a("#"+d):c.closest("form");e[0]&&(b._resetHandler=function(){b.value(c[0].defaultValue),b.max(b._initialOptions.max),b.min(b._initialOptions.min)},b._form=e.on("reset",b._resetHandler))}});p.plugin(W)}(window.kendo.jQuery),function(a,b){function c(a){var b=new Date(2100,0,1);return b.setMinutes(-a),b}function d(a){a.preventDefault()}function e(b){var c,d=f.getCulture(b.culture).calendars.standard.patterns,e=!b.parseFormats.length;b.format=j(b.format||d.g),b.timeFormat=c=j(b.timeFormat||d.t),f.DateView.normalize(b),e&&b.parseFormats.push("yyyy-MM-ddTHH:mm:ss"),a.inArray(c,b.parseFormats)===-1&&b.parseFormats.splice(1,0,c)}var f=window.kendo,g=f.TimeView,h=f.parseDate,i=f._activeElement,j=f._extractFormat,k=f.calendar,l=k.isInRange,m=k.restrictValue,n=k.isEqualDatePart,o=g.getMilliseconds,p=f.ui,q=p.Widget,r="open",s="close",t="change",u=".kendoDateTimePicker",v="click"+u,w="disabled",x="readonly",y="k-state-default",z="k-state-focused",A="k-state-hover",B="k-state-disabled",C="mouseenter"+u+" mouseleave"+u,D="mousedown"+u,E="month",F="<span/>",G="aria-activedescendant",H="aria-expanded",I="aria-hidden",J="aria-owns",K="aria-disabled",L="aria-readonly",M=Date,N=new M(1800,0,1),O=new M(2099,11,31),P={view:"date"},Q={view:"time"},R=a.extend,S=q.extend({init:function(b,c){var d,g=this;q.fn.init.call(g,b,c),b=g.element,c=g.options,c.min=h(b.attr("min"))||h(c.min),c.max=h(b.attr("max"))||h(c.max),e(c),g._initialOptions=R({},c),g._wrapper(),g._views(),g._icons(),g._reset(),g._template();try{b[0].setAttribute("type","text")}catch(i){b[0].type="text"}b.addClass("k-input").attr({role:"combobox","aria-expanded":!1}),g._midnight=o(c.min)+o(c.max)===0,d=b.is("[disabled]")||a(g.element).parents("fieldset").is(":disabled"),d?g.enable(!1):g.readonly(b.is("[readonly]")),g._old=g._update(c.value||g.element.val()),g._oldText=b.val(),f.notify(g)},options:{name:"DateTimePicker",value:null,format:"",timeFormat:"",culture:"",parseFormats:[],dates:[],min:new M(N),max:new M(O),interval:30,height:200,footer:"",start:E,depth:E,animation:{},month:{},ARIATemplate:'Current focused date is #=kendo.toString(data.current, "d")#'},events:[r,s,t],setOptions:function(a){var b,c,d,g=this,i=g._value;g.dateView.options,g.timeView.options;q.fn.setOptions.call(g,a),a=g.options,a.min=b=h(a.min),a.max=c=h(a.max),e(a),d=a.value||g._value||g.dateView._current,b&&!n(b,d)&&(b=new M(N)),c&&!n(c,d)&&(c=new M(O)),g.dateView.setOptions(a),g.timeView.setOptions(R({},a,{format:a.timeFormat,min:b,max:c})),i&&(g.element.val(f.toString(i,a.format,a.culture)),g._updateARIA(i))},_editable:function(b){var c=this,e=c.element.off(u),g=c._dateIcon.off(u),h=c._timeIcon.off(u),j=c._inputWrapper.off(u),k=b.readonly,l=b.disable;k||l?(j.addClass(l?B:y).removeClass(l?y:B),e.attr(w,l).attr(x,k).attr(K,l).attr(L,k)):(j.addClass(y).removeClass(B).on(C,c._toggleHover),e.removeAttr(w).removeAttr(x).attr(K,!1).attr(L,!1).on("keydown"+u,a.proxy(c._keydown,c)).on("focus"+u,function(){c._inputWrapper.addClass(z)}).on("focusout"+u,function(){c._inputWrapper.removeClass(z),e.val()!==c._oldText&&c._change(e.val()),c.close("date"),c.close("time")}),g.on(D,d).on(v,function(){c.toggle("date"),f.support.touch||e[0]===i()||e.focus()}),h.on(D,d).on(v,function(){c.toggle("time"),f.support.touch||e[0]===i()||e.focus()}))},readonly:function(a){this._editable({readonly:a===b||a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a=a===b||a)})},destroy:function(){var a=this;q.fn.destroy.call(a),a.dateView.destroy(),a.timeView.destroy(),a.element.off(u),a._dateIcon.off(u),a._timeIcon.off(u),a._inputWrapper.off(u),a._form&&a._form.off("reset",a._resetHandler)},close:function(a){"time"!==a&&(a="date"),this[a+"View"].close()},open:function(a){"time"!==a&&(a="date"),this[a+"View"].open()},min:function(a){return this._option("min",a)},max:function(a){return this._option("max",a)},toggle:function(a){var b="timeView";"time"!==a?a="date":b="dateView",this[a+"View"].toggle(),this[b].close()},value:function(a){var c=this;return a===b?c._value:(c._old=c._update(a),null===c._old&&c.element.val(""),void(c._oldText=c.element.val()))},_change:function(a){var b=this;a=b._update(a),+b._old!=+a&&(b._old=a,b._oldText=b.element.val(),b.trigger(t),b.element.trigger(t))},_option:function(a,d){var e,f,g=this,i=g.options,j=g.timeView,k=j.options,l=g._value||g._old;if(d===b)return i[a];if(d=h(d,i.parseFormats,i.culture)){if(i.min.getTime()===i.max.getTime()&&(k.dates=[]),i[a]=new M(d.getTime()),g.dateView[a](d),g._midnight=o(i.min)+o(i.max)===0,l&&(e=n(i.min,l),f=n(i.max,l)),e||f){if(k[a]=d,e&&!f&&(k.max=c(i.interval)),f){if(g._midnight)return void j.dataBind([O]);e||(k.min=N)}}else k.max=O,k.min=N;j.bind()}},_toggleHover:function(b){a(b.currentTarget).toggleClass(A,"mouseenter"===b.type)},_update:function(b){var d,e,g,i,j,k=this,o=k.options,p=o.min,q=o.max,r=o.dates,s=k.timeView,t=k._value,u=h(b,o.parseFormats,o.culture),v=null===u&&null===t||u instanceof Date&&t instanceof Date;return+u===+t&&v?(j=f.toString(u,o.format,o.culture),j!==b&&k.element.val(null===u?b:j),u):(null!==u&&n(u,p)?u=m(u,p,q):l(u,p,q)||(u=null),k._value=u,s.value(u),k.dateView.value(u),u&&(g=k._old,e=s.options,r[0]&&(r=a.grep(r,function(a){return n(u,a)}),r[0]&&(s.dataBind(r),i=!0)),i||(n(u,p)&&(e.min=p,e.max=c(o.interval),d=!0),n(u,q)&&(k._midnight?(s.dataBind([O]),i=!0):(e.max=q,d||(e.min=N),d=!0))),!i&&(!g&&d||g&&!n(g,u))&&(d||(e.max=O,e.min=N),s.bind())),k.element.val(u?f.toString(u,o.format,o.culture):b),k._updateARIA(u),u)},_keydown:function(a){var b=this,c=b.dateView,d=b.timeView,e=b.element.val(),g=c.popup.visible();a.altKey&&a.keyCode===f.keys.DOWN?b.toggle(g?"time":"date"):g?(c.move(a),b._updateARIA(c._current)):d.popup.visible()?d.move(a):a.keyCode===f.keys.ENTER&&e!==b._oldText&&b._change(e)},_views:function(){var a,b,c,d,e,i,j=this,k=j.element,m=j.options,n=k.attr("id");j.dateView=a=new f.DateView(R({},m,{id:n,anchor:j.wrapper,change:function(){var b,c=a.calendar.value(),d=+c,e=+m.min,f=+m.max;d!==e&&d!==f||(b=new M((+j._value)),b.setFullYear(c.getFullYear(),c.getMonth(),c.getDate()),l(b,e,f)&&(c=b)),j._change(c),j.close("date")},close:function(a){j.trigger(s,P)?a.preventDefault():(k.attr(H,!1),c.attr(I,!0),b.popup.visible()||k.removeAttr(J))},open:function(b){j.trigger(r,P)?b.preventDefault():(k.val()!==j._oldText&&(i=h(k.val(),m.parseFormats,m.culture),j.dateView[i?"current":"value"](i)),c.attr(I,!1),k.attr(H,!0).attr(J,a._dateViewID),j._updateARIA(i))}})),c=a.div,e=m.min.getTime(),j.timeView=b=new g({id:n,value:m.value,anchor:j.wrapper,animation:m.animation,format:m.timeFormat,culture:m.culture,height:m.height,interval:m.interval,min:new M(N),max:new M(O),dates:e===m.max.getTime()?[new Date(e)]:[],parseFormats:m.parseFormats,change:function(c,d){c=b._parse(c),c<m.min?(c=new M((+m.min)),b.options.min=c):c>m.max&&(c=new M((+m.max)),b.options.max=c),d?(j._timeSelected=!0,j._change(c)):(k.val(f.toString(c,m.format,m.culture)),a.value(c),j._updateARIA(c))},close:function(b){j.trigger(s,Q)?b.preventDefault():(d.attr(I,!0),k.attr(H,!1),a.popup.visible()||k.removeAttr(J))},open:function(a){b._adjustListWidth(),j.trigger(r,Q)?a.preventDefault():(k.val()!==j._oldText&&(i=h(k.val(),m.parseFormats,m.culture),j.timeView.value(i)),d.attr(I,!1),k.attr(H,!0).attr(J,b._timeViewID),b.options.active(b.current()))},active:function(a){k.removeAttr(G),a&&k.attr(G,b._optionID)}}),d=b.ul},_icons:function(){var b,c=this,d=c.element;b=d.next("span.k-select"),b[0]||(b=a('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(d)),b=b.children(),c._dateIcon=b.eq(0).attr({role:"button","aria-controls":c.dateView._dateViewID}),c._timeIcon=b.eq(1).attr({role:"button","aria-controls":c.timeView._timeViewID})},_wrapper:function(){var b,c=this,d=c.element;b=d.parents(".k-datetimepicker"),b[0]||(b=d.wrap(F).parent().addClass("k-picker-wrap k-state-default"),b=b.wrap(F).parent()),b[0].style.cssText=d[0].style.cssText,d.css({width:"100%",height:d[0].style.height}),c.wrapper=b.addClass("k-widget k-datetimepicker k-header").addClass(d[0].className),c._inputWrapper=a(b[0].firstChild)},_reset:function(){var b=this,c=b.element,d=c.attr("form"),e=d?a("#"+d):c.closest("form");e[0]&&(b._resetHandler=function(){b.value(c[0].defaultValue),b.max(b._initialOptions.max),b.min(b._initialOptions.min)},b._form=e.on("reset",b._resetHandler))},_template:function(){this._ariaTemplate=f.template(this.options.ARIATemplate)},_updateARIA:function(a){var b,c=this,d=c.dateView.calendar;c.element.removeAttr(G),d&&(b=d._cell,b.attr("aria-label",c._ariaTemplate({current:a||d.current()})),c.element.attr(G,b.attr("id")))}});p.plugin(S)}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=c.ui,e=d.List,f=d.Select,g=c.caret,h=c.support,i=h.placeholder,j=c._activeElement,k=c.keys,l=".kendoComboBox",m="click"+l,n="mousedown"+l,o="disabled",p="readonly",q="change",r="k-state-default",s="k-state-focused",t="k-state-disabled",u="aria-disabled",v="aria-readonly",w="filter",x="accept",y="rebind",z="mouseenter"+l+" mouseleave"+l,A=a.proxy,B=f.extend({init:function(b,d){var e,g,h=this;h.ns=l,d=a.isArray(d)?{dataSource:d}:d,f.fn.init.call(h,b,d),d=h.options,b=h.element.on("focus"+l,A(h._focusHandler,h)),d.placeholder=d.placeholder||b.attr("placeholder"),h._reset(),h._wrapper(),h._input(),h._tabindex(h.input),h._popup(),h._dataSource(),h._ignoreCase(),h._enable(),h._oldIndex=h.selectedIndex=-1,h._aria(),h._initialIndex=d.index,h._initList(),h._cascade(),d.autoBind?h._filterSource():(e=d.text,!e&&h._isSelect&&(e=b.children(":selected").text()),e&&(h.input.val(e),h._prev=e)),e||h._placeholder(),g=a(h.element).parents("fieldset").is(":disabled"),g&&h.enable(!1),c.notify(h)},options:{name:"ComboBox",enabled:!0,index:-1,text:null,value:null,autoBind:!0,delay:200,dataTextField:"",dataValueField:"",minLength:0,height:200,highlightFirst:!0,filter:"none",placeholder:"",suggest:!1,cascadeFrom:"",cascadeFromField:"",ignoreCase:!0,animation:{},template:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#"},events:["open","close",q,"select","filtering","dataBinding","dataBound","cascade"],setOptions:function(a){f.fn.setOptions.call(this,a),this.listView.setOptions(a),this._accessors(),this._aria()},destroy:function(){var a=this;a.input.off(l),a.element.off(l),a._inputWrapper.off(l),f.fn.destroy.call(a)},_focusHandler:function(){this.input.focus()},_arrowClick:function(){this._toggle()},_inputFocus:function(){this._inputWrapper.addClass(s),this._placeholder(!1)},_inputFocusout:function(){var a=this;a._inputWrapper.removeClass(s),clearTimeout(a._typing),a._typing=null,a.options.text!==a.input.val()&&a.text(a.text()),a._placeholder(),a._blur(),a.element.blur()},_editable:function(a){var b=this,c=a.disable,d=a.readonly,e=b._inputWrapper.off(l),f=b.element.add(b.input.off(l)),g=b._arrow.parent().off(m+" "+n);d||c?(e.addClass(c?t:r).removeClass(c?r:t),f.attr(o,c).attr(p,d).attr(u,c).attr(v,d)):(e.addClass(r).removeClass(t).on(z,b._toggleHover),f.removeAttr(o).removeAttr(p).attr(u,!1).attr(v,!1),g.on(m,A(b._arrowClick,b)).on(n,function(a){a.preventDefault()}),b.input.on("keydown"+l,A(b._keydown,b)).on("focus"+l,A(b._inputFocus,b)).on("focusout"+l,A(b._inputFocusout,b)))},open:function(){var a=this,b=a._state;a.popup.visible()||(!a.listView.isBound()&&b!==w||b===x?(a._open=!0,a._state=y,a.listView.filter(!1),a._filterSource()):(a.popup.open(),a._focusItem()))},_listBound:function(){var a,c=this,d=c.options,e=c._initialIndex,f=c._state===w,g=c.input[0]===j(),h=c.listView,i=h.focus(),k=this.dataSource.flatView(),l=this.dataSource.page(),m=k.length;if(c._angularItems("compile"),c._presetValue=!1,d.virtual||c._calculateGroupPadding(c._height(m)),c.popup.position(),c._isSelect){var n=c.element[0].children[0];c._state===y&&(c._state="");var o=!0,p=c._customOption;c._customOption=b,c._options(k,"",c.value()),p&&p[0].selected?c._custom(p.val(),o):n||c._custom("",o)}c._hideBusy(),c._makeUnselectable(),f||c._fetch?f&&i&&i.removeClass("k-state-selected"):(h.value().length||(null!==e&&e>-1?(c.select(e),i=h.focus()):c._accessor()&&h.value(c._accessor())),c._initialIndex=null,a=c.listView.selectedDataItems()[0],a&&c.text()&&c.text()!==c._text(a)&&c._selectValue(a)),!m||l!==b&&1!==l||(d.highlightFirst?i||h.focus(0):h.focus(-1),d.suggest&&g&&c.input.val()&&c.suggest(k[0])),c._open&&(c._open=!1,c._typing&&!g?c.popup.close():c.toggle(!!m),c._typing=null),c._touchScroller&&c._touchScroller.reset(),c._hideBusy(),c.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]),this._presetValue&&(this._oldIndex=this.selectedIndex)},_get:function(a){var b,c,d;if("function"==typeof a){for(b=this.dataSource.flatView(),d=0;d<b.length;d++)if(a(b[d])){a=d,c=!0;break}c||(a=-1)}return a},_select:function(a,b){a=this._get(a),a===-1&&(this.input[0].value="",this._accessor("")),this.listView.select(a),b||this._state!==w||(this.listView.filter(!1),this._state=x)},_selectValue:function(a){var c=this.listView.select(),d="",e="";c=c[c.length-1],c===b&&(c=-1),this.selectedIndex=c,c===-1?(d=e=this.input[0].value,this.listView.focus(-1)):(a&&(d=this._dataValue(a),e=this._text(a)),null===d&&(d="")),this._prev=this.input[0].value=e,this._accessor(d!==b?d:e,c),this._placeholder(),this._triggerCascade()},refresh:function(){this.listView.refresh()},suggest:function(a){var c,d=this,f=d.input[0],h=d.text(),i=g(f)[0],l=d._last;return l==k.BACKSPACE||l==k.DELETE?void(d._last=b):(a=a||"","string"!=typeof a&&(a[0]&&(a=d.dataSource.view()[e.inArray(a[0],d.ul[0])]),a=a?d._text(a):""),i<=0&&(i=h.toLowerCase().indexOf(a.toLowerCase())+1),a?(a=a.toString(),c=a.toLowerCase().indexOf(h.toLowerCase()),c>-1&&(h+=a.substring(c+h.length))):h=h.substring(0,i),void(h.length===i&&a||(f.value=h,f===j()&&g(f,i,h.length))))},text:function(a){a=null===a?"":a;var c,d,e=this,f=e.input[0],g=e.options.ignoreCase,h=a;if(a===b)return f.value;if(c=e.dataItem(),e.options.autoBind!==!1||e.listView.isBound()){if(c&&e._text(c)===a&&(d=e._value(c),null===d?d="":d+="",d===e._old))return void e._triggerCascade();g&&(h=h.toLowerCase()),e._select(function(a){return a=e._text(a),g&&(a=(a+"").toLowerCase()),a===h}),e.selectedIndex<0&&(e._accessor(a),f.value=a,e._triggerCascade()),e._prev=f.value}},toggle:function(a){this._toggle(a,!0)},value:function(a){var c=this,d=c.options;return a===b?(a=c._accessor()||c.listView.value()[0],a===b||null===a?"":a):void(a===d.value&&c.input.val()===d.text||(c._accessor(a),c.listView.value(a).done(function(){c._triggerCascade(),c._selectValue(c.listView.selectedDataItems()[0]),c.selectedIndex===-1&&(c._accessor(a),c.input.val(a),c._placeholder(!0)),c._old=c._accessor(),c._oldIndex=c.selectedIndex,c._prev=c.input.val(),c._state===w&&(c._state=x)}),c._fetchData()))},_click:function(a){var b=a.item;return this.trigger("select",{item:b})?void this.close():(this._userTriggered=!0,this._select(b),void this._blur())},_filter:function(a){var c=this,d=c.options,e=c.dataSource,f=d.ignoreCase,g=function(d){var e=c._text(d);if(e!==b)return e+="",(""===e||""!==a)&&(f&&(e=e.toLowerCase()),0===e.indexOf(a))};if(f&&(a=a.toLowerCase()),!c.ul[0].firstChild)return void e.one(q,function(){e.view()[0]&&c.search(a)}).fetch();this.listView.focus(this._get(g));var h=this.listView.focus();h&&(d.suggest&&c.suggest(h),this.open()),this.options.highlightFirst&&!a&&this.listView.first(),c._hideBusy()},_input:function(){var b,c=this,d=c.element.removeClass("k-input")[0],e=d.accessKey,f=c.wrapper,g="input.k-input",h=d.name||"";h&&(h='name="'+h+'_input" '),b=f.find(g),b[0]||(f.append('<span tabindex="-1" unselectable="on" class="k-dropdown-wrap k-state-default"><input '+h+'class="k-input" type="text" autocomplete="off"/><span tabindex="-1" unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(c.element),b=f.find(g)),b[0].style.cssText=d.style.cssText,b[0].title=d.title,d.maxLength>-1&&(b[0].maxLength=d.maxLength),b.addClass(d.className).val(this.options.text||d.value).css({width:"100%",height:d.style.height}).attr({role:"combobox","aria-expanded":!1}).show(),i&&b.attr("placeholder",c.options.placeholder),e&&(d.accessKey="",b[0].accessKey=e),c._focused=c.input=b,c._inputWrapper=a(f[0].firstChild),c._arrow=f.find(".k-icon").attr({role:"button",tabIndex:-1}),d.id&&c._arrow.attr("aria-controls",c.ul[0].id)},_keydown:function(a){var b=this,c=a.keyCode;b._last=c,clearTimeout(b._typing),b._typing=null,c==k.TAB||b._move(a)||b._search()},_placeholder:function(a){if(!i){var c,d=this,e=d.input,f=d.options.placeholder;if(f){if(c=d.value(),a===b&&(a=!c),e.toggleClass("k-readonly",a),!a){if(c)return;f=""}e.val(f),f||e[0]!==j()||g(e[0],0,0)}}},_search:function(){var a=this;a._typing=setTimeout(function(){var b=a.text();a._prev!==b&&(a._prev=b,a.search(b)),a._typing=null},a.options.delay)},_wrapper:function(){var a=this,b=a.element,c=b.parent();c.is("span.k-widget")||(c=b.hide().wrap("<span />").parent(),c[0].style.cssText=b[0].style.cssText),a.wrapper=c.addClass("k-widget k-combobox k-header").addClass(b[0].className).css("display","")},_clearSelection:function(a,b){var c=this,d=a.value(),e=d&&a.selectedIndex===-1;(b||!d||e)&&(c.options.value="",c.value(""))},_preselect:function(a,b){this.input.val(b),this._accessor(a),this._old=this._accessor(),this._oldIndex=this.selectedIndex,this.listView.setValue(a),this._initialIndex=null,this._presetValue=!0}});d.plugin(B)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(a,b){b()});