!function(a){"function"==typeof define&&define.amd?define(["jquery","moment"],a):a(jQuery,moment)}(function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma=[].slice,Na=function(a,b){function c(){this.constructor=a}for(var d in b)Oa.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},Oa={}.hasOwnProperty;return l=a.fullCalendar,l.schedulerVersion="1.2.1",3!==l.internalApiVersion?void l.warn("v"+l.schedulerVersion+" of FullCalendar Scheduler is incompatible with v"+l.version+" of the core.\nPlease see http://fullcalendar.io/support/ for more information."):(d=l.Calendar,f=l.Class,T=l.View,m=l.Grid,pa=l.intersectRanges,aa=l.debounce,sa=l.isInt,la=l.getScrollbarWidths,i=l.DragListener,oa=l.htmlEscape,X=l.computeIntervalUnit,Ea=l.proxy,V=l.capitaliseFirstLetter,U=l.applyAll,j=l.Emitter,fa=l.durationHasTime,ea=l.divideRangeByDuration,da=l.divideDurationByDuration,va=l.multiplyDuration,Ca=l.parseFieldSpecs,W=l.compareByFieldSpecs,ga=l.flexibleCompare,qa=l.intersectRects,g=l.CoordCache,ha=function(a){return a.find("> td").filter(function(a,b){return b.rowSpan<=1})},Ga=null,wa=function(a,b){var c,d;if(c=a.css("direction"),d=a[0],null!=b){if("rtl"===c)switch(Ga){case"positive":b=b-d.clientWidth+d.scrollWidth;break;case"reverse":b=-b}return d.scrollLeft=b,a}if(b=d.scrollLeft,"rtl"===c)switch(Ga){case"positive":b=b+d.clientWidth-d.scrollWidth;break;case"reverse":b=-b}return b},ka=function(a){var b,c,d;if(b=a.css("direction"),c=a[0],d=c.scrollLeft,"rtl"===b)switch(Ga){case"negative":d=d-c.clientWidth+c.scrollWidth;break;case"reverse":d=-d-c.clientWidth+c.scrollWidth}return d},ba=function(){var b,c,d;return b=a('<div style=" position: absolute top: -1000px; width: 1px; height: 1px; overflow: scroll; direction: rtl; font-size: 14px; ">A</div>').appendTo("body"),c=b[0],d=c.scrollLeft>0?"positive":(c.scrollLeft=1,b.scrollLeft>0?"reverse":"negative"),b.remove(),d},a(function(){return Ga=ba()}),N=function(){function b(b,c){this.overflowX=null!=b?b:"auto",this.overflowY=null!=c?c:"auto",this.el=a('<div class="fc-scrollpane"> <div> <div class="fc-scrollpane-inner"> <div class="fc-content"/> <div class="fc-bg"/> </div> </div> </div>'),this.scrollEl=this.el.children(),this.innerEl=this.scrollEl.children(),this.contentEl=this.innerEl.find(".fc-content"),this.bgEl=this.innerEl.find(".fc-bg"),this.scrollEl.on("scroll",Ea(this,"handleScroll")).on("scroll",aa(Ea(this,"handleScrollStop"),100)),this.handlers={},this.gutters={}}return b.prototype.el=null,b.prototype.innerEl=null,b.prototype.contentEl=null,b.prototype.bgEl=null,b.prototype.overflowX=null,b.prototype.overflowY=null,b.prototype.isScrolling=!1,b.prototype.handlers=null,b.prototype.height=null,b.prototype.contentWidth=null,b.prototype.contentMinWidth=null,b.prototype.gutters=null,b.prototype.update=function(){var a,b,c,d,e,f,g;return f=this.scrollEl,d=this.overflowX,e=this.overflowY,b="invisible-scroll"===d,c="invisible-scroll"===e,f.toggleClass("fc-no-scrollbars",(b||"hidden"===d)&&(c||"hidden"===e)&&!na(f)),f.css({overflowX:b?"scroll":d,overflowY:c?"scroll":e}),a={marginLeft:0,marginRight:0,marginTop:0,marginBottom:0},(b||c)&&(g=la(f),b&&(a.marginTop=-g.top,a.marginBottom=-g.bottom),c&&(a.marginLeft=-g.left,a.marginRight=-g.right)),f.css(a)},b.prototype.getScrollbarWidths=function(){var a;return a=la(this.scrollEl),"invisible-scroll"===this.overflowX&&(a.top=0,a.bottom=0),"invisible-scroll"===this.overflowY&&(a.left=0,a.right=0),a},b.prototype.handleScroll=function(){return this.isScrolling||(this.isScrolling=!0,this.trigger("scrollStart")),this.trigger("scroll",this.scrollEl.scrollTop(),this.scrollEl.scrollLeft())},b.prototype.handleScrollStop=function(){return this.isScrolling=!1,this.trigger("scrollStop")},b.prototype.setHeight=function(a){return this.height=a,this.updateCss()},b.prototype.getHeight=function(){var a;return null!=(a=this.height)?a:this.scrollEl.height()},b.prototype.setContentWidth=function(a){return this.contentWidth=a,this.updateCss()},b.prototype.setContentMinWidth=function(a){return this.contentMinWidth=a,this.updateCss()},b.prototype.setGutters=function(b){return b?a.extend(this.gutters,b):this.gutters={},this.updateCss()},b.prototype.updateCss=function(){var a;return this.scrollEl.height(this.height),a=this.gutters,this.innerEl.css({width:this.contentWidth?this.contentWidth+(a.left||0)+(a.right||0):"",minWidth:this.contentMinWidth?this.contentMinWidth+(a.left||0)+(a.right||0):void 0,paddingLeft:a.left||"",paddingRight:a.right||"",paddingTop:a.top||"",paddingBottom:a.bottom||""}),this.bgEl.css({left:a.left||"",right:a.right||"",top:a.top||"",bottom:a.bottom||""})},b.prototype.append=function(a){return this.contentEl.append(a)},b.prototype.scrollTop=function(a){return this.scrollEl.scrollTop(a)},b.prototype.scrollLeft=function(a){return this.scrollEl.scrollLeft(a)},b.prototype.on=function(a,b){var c;return((c=this.handlers)[a]||(c[a]=[])).push(b),this},b.prototype.trigger=function(){var a,b,c,d,e,f;for(c=arguments[0],a=2<=arguments.length?Ma.call(arguments,1):[],f=this.handlers[c]||[],d=0,e=f.length;d<e;d++)b=f[d],b.apply(this,a)},b}(),na=function(a){var b;return b=la(a),b.left||b.right||b.top||b.bottom},M=function(){function a(a,b){var c,d,e,f;for(this.axis=a,this.scrollers=b,e=this.scrollers,c=0,d=e.length;c<d;c++)f=e[c],this.initScroller(f)}return a.prototype.axis=null,a.prototype.scrollers=null,a.prototype.masterScroller=null,a.prototype.enabled=!0,a.prototype.enable=function(){return this.enabled=!0},a.prototype.disable=function(){return this.enabled=!1},a.prototype.initScroller=function(a){return a.on("scrollStart",function(b){return function(){b.masterScroller||(b.masterScroller=a)}}(this)).on("scroll",function(b){return function(c,d){var e,f,g,h;if(a===b.masterScroller)for(h=b.scrollers,e=0,f=h.length;e<f;e++)if(g=h[e],g!==b.masterScroller)switch(b.axis){case"horizontal":g.scrollLeft(d);break;case"vertical":g.scrollTop(c)}}}(this)).on("scrollStop",function(b){return function(){a===b.masterScroller&&(b.masterScroller=null)}}(this))},a.prototype.update=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m;for(a=function(){var a,b,c,d;for(c=this.scrollers,d=[],a=0,b=c.length;a<b;a++)l=c[a],d.push(l.getScrollbarWidths());return d}.call(this),h=i=j=g=0,c=0,e=a.length;c<e;c++)m=a[c],h=Math.max(h,m.left),i=Math.max(i,m.right),j=Math.max(j,m.top),g=Math.max(g,m.bottom);for(k=this.scrollers,b=d=0,f=k.length;d<f;b=++d)l=k[b],m=a[b],l.setGutters("horizontal"===this.axis?{left:h-m.left,right:i-m.right}:{top:j-m.top,bottom:g-m.bottom})},a}(),K=function(){function b(a){this.scroller=a,this.sprites=[],this.scroller.on("scrollStart",function(a){return function(){if(a.shouldRequeryDimensions)return a.cacheDimensions()}}(this)),this.scroller.on("scroll",function(a){return function(b,c){var d,e,f;return e=a.scroller.scrollEl,d=ka(e),f=e.scrollTop(),a.viewportRect={left:d,right:d+e[0].clientWidth,top:f,bottom:f+e[0].clientHeight},a.updatePositions()}}(this))}return b.prototype.scroller=null,b.prototype.scrollbarWidths=null,b.prototype.sprites=null,b.prototype.viewportRect=null,b.prototype.contentOffset=null,b.prototype.isHFollowing=!0,b.prototype.isVFollowing=!1,b.prototype.containOnNaturalLeft=!1,b.prototype.containOnNaturalRight=!1,b.prototype.shouldRequeryDimensions=!1,b.prototype.minTravel=0,b.prototype.isForcedAbsolute=!1,b.prototype.isForcedRelative=!1,b.prototype.setSprites=function(b){var c,d,e;if(this.clearSprites(),b instanceof a)return this.sprites=function(){var c,d,f;for(f=[],c=0,d=b.length;c<d;c++)e=b[c],f.push(new L(a(e),this));return f}.call(this);for(c=0,d=b.length;c<d;c++)e=b[c],e.follower=this;return this.sprites=b},b.prototype.clearSprites=function(){var a,b,c,d;for(c=this.sprites,a=0,b=c.length;a<b;a++)d=c[a],d.clear();return this.sprites=[]},b.prototype.cacheDimensions=function(){var a,b,c,d,e,f,g;for(e=this.scroller.scrollEl,b=ka(e),g=e.scrollTop(),this.viewportRect={left:b,right:b+e[0].clientWidth,top:g,bottom:g+e[0].clientHeight},this.scrollbarWidths=this.scroller.getScrollbarWidths(),this.contentOffset=this.scroller.innerEl.offset(),d=this.sprites,a=0,c=d.length;a<c;a++)f=d[a],f.cacheDimensions()},b.prototype.forceAbsolute=function(){var a,b,c,d,e;for(this.isForcedAbsolute=!0,c=this.sprites,d=[],a=0,b=c.length;a<b;a++)e=c[a],e.doAbsolute?d.push(void 0):d.push(e.assignPosition());return d},b.prototype.forceRelative=function(){var a,b,c,d,e;for(this.isForcedRelative=!0,c=this.sprites,d=[],a=0,b=c.length;a<b;a++)e=c[a],e.doAbsolute?d.push(e.assignPosition()):d.push(void 0);return d},b.prototype.clearForce=function(){var a,b,c,d,e;for(this.isForcedRelative=!1,this.isForcedAbsolute=!1,c=this.sprites,d=[],a=0,b=c.length;a<b;a++)e=c[a],d.push(e.assignPosition());return d},b.prototype.update=function(){return this.cacheDimensions(),this.updatePositions()},b.prototype.updatePositions=function(){var a,b,c,d;for(c=this.sprites,a=0,b=c.length;a<b;a++)d=c[a],d.updatePosition()},b.prototype.getContentRect=function(a){var b,c,d;return c=a.offset(),b=c.left+parseFloat(a.css("border-left-width"))+parseFloat(a.css("padding-left"))-this.contentOffset.left,d=c.top+parseFloat(a.css("border-left-width"))+parseFloat(a.css("padding-left"))-this.contentOffset.top,{left:b,right:b+a.width(),top:d,bottom:d+a.height()}},b.prototype.getBoundingRect=function(a){var b,c,d;return c=a.offset(),b=c.left-this.contentOffset.left,d=c.top-this.contentOffset.top,{left:b,right:b+a.outerWidth(),top:d,bottom:d+a.outerHeight()}},b}(),L=function(){function a(a,b){this.el=a,this.follower=null!=b?b:null,this.isBlock="block"===this.el.css("display"),this.el.css("position","relative")}return a.prototype.follower=null,a.prototype.el=null,a.prototype.absoluteEl=null,a.prototype.naturalRect=null,a.prototype.parentRect=null,a.prototype.containerRect=null,a.prototype.isEnabled=!0,a.prototype.isHFollowing=!1,a.prototype.isVFollowing=!1,a.prototype.doAbsolute=!1,a.prototype.isAbsolute=!1,a.prototype.isCentered=!1,a.prototype.rect=null,a.prototype.isBlock=!1,a.prototype.naturalWidth=null,a.prototype.disable=function(){if(this.isEnabled)return this.isEnabled=!1,this.resetPosition(),this.unabsolutize()},a.prototype.enable=function(){if(!this.isEnabled)return this.isEnabled=!0,this.assignPosition()},a.prototype.clear=function(){return this.disable(),this.follower=null,this.absoluteEl=null},a.prototype.cacheDimensions=function(){var a,b,c,d,e,f,g,h;return d=!1,e=!1,c=!1,this.naturalWidth=this.el.width(),this.resetPosition(),b=this.follower,g=this.naturalRect=b.getBoundingRect(this.el),h=this.el.parent(),this.parentRect=b.getBoundingRect(h),a=this.containerRect=ua(b.getContentRect(h),g),f=b.minTravel,b.containOnNaturalLeft&&(a.left=g.left),b.containOnNaturalRight&&(a.right=g.right),b.isHFollowing&&ja(a)-ja(g)>=f&&(c="center"===this.el.css("text-align"),d=!0),b.isVFollowing&&ia(a)-ia(g)>=f&&(e=!0),this.isHFollowing=d,this.isVFollowing=e,this.isCentered=c},a.prototype.updatePosition=function(){return this.computePosition(),this.assignPosition()},a.prototype.resetPosition=function(){return this.el.css({top:"",left:""})},a.prototype.computePosition=function(){var a,b,c,d,e,f,g,h;return g=this.follower.viewportRect,c=this.parentRect,a=this.containerRect,h=qa(g,c),d=null,b=!1,h&&(d=$(this.naturalRect),f=qa(d,c),(this.isCentered&&!Ha(g,c)||f&&!Ha(g,f))&&(b=!0,this.isHFollowing&&(this.isCentered?(e=ja(d),d.left=(h.left+h.right)/2-e/2,d.right=d.left+e):ma(d,g)||(b=!1),ma(d,a)&&(b=!1)),this.isVFollowing&&(La(d,g)||(b=!1),La(d,a)&&(b=!1)),Ha(g,d)||(b=!1))),this.rect=d,this.doAbsolute=b},a.prototype.assignPosition=function(){var a,b;if(this.isEnabled)return this.rect?!this.doAbsolute&&!this.follower.isForcedAbsolute||this.follower.isForcedRelative?(b=this.rect.top-this.naturalRect.top,a=this.rect.left-this.naturalRect.left,this.unabsolutize(),this.el.toggleClass("fc-following",Boolean(b||a)).css({top:b,left:a})):(this.absolutize(),this.absoluteEl.css({top:this.rect.top-this.follower.viewportRect.top+this.follower.scrollbarWidths.top,left:this.rect.left-this.follower.viewportRect.left+this.follower.scrollbarWidths.left,width:this.isBlock?this.naturalWidth:""})):this.unabsolutize()},a.prototype.absolutize=function(){if(!this.isAbsolute)return this.absoluteEl||(this.absoluteEl=this.buildAbsoluteEl()),this.absoluteEl.appendTo(this.follower.scroller.el),this.el.css("visibility","hidden"),this.isAbsolute=!0},a.prototype.unabsolutize=function(){if(this.isAbsolute)return this.absoluteEl.detach(),this.el.css("visibility",""),this.isAbsolute=!1},a.prototype.buildAbsoluteEl=function(){return this.el.clone().addClass("fc-following").css({position:"absolute","z-index":1e3,"font-weight":this.el.css("font-weight"),"font-size":this.el.css("font-size"),"font-family":this.el.css("font-family"),color:this.el.css("color"),"padding-top":this.el.css("padding-top"),"padding-bottom":this.el.css("padding-bottom"),"padding-left":this.el.css("padding-left"),"padding-right":this.el.css("padding-right"),"pointer-events":"none"})},a}(),$=function(a){return{left:a.left,right:a.right,top:a.top,bottom:a.bottom}},ja=function(a){return a.right-a.left},ia=function(a){return a.bottom-a.top},Ha=function(a,b){return Ia(a,b)&&Ja(a,b)},Ia=function(a,b){return b.left>=a.left&&b.right<=a.right},Ja=function(a,b){return b.top>=a.top&&b.bottom<=a.bottom},ma=function(a,b){return a.left<b.left?(a.right=b.left+ja(a),a.left=b.left,!0):a.right>b.right&&(a.left=b.right-ja(a),a.right=b.right,!0)},La=function(a,b){return a.top<b.top?(a.bottom=b.top+ia(a),a.top=b.top,!0):a.bottom>b.bottom&&(a.top=b.bottom-ia(a),a.bottom=b.bottom,!0)},ua=function(a,b){return{left:Math.min(a.left,b.left),right:Math.max(a.right,b.right),top:Math.min(a.top,b.top),bottom:Math.max(a.bottom,b.bottom)}},e=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return Na(c,b),c.prototype.resourceManager=null,c.prototype.initialize=function(){return this.resourceManager=new A(this)},c.prototype.instantiateView=function(a){var b,c;return b=this.getViewSpec(a),c=b["class"],this.options.resources&&b.options.resources!==!1&&(b.queryResourceClass?c=b.queryResourceClass(b)||c:b.resourceClass&&(c=b.resourceClass)),new c(this,a,b.options,b.duration)},c.prototype.getResources=function(){return this.resourceManager.topLevelResources},c.prototype.addResource=function(a,b){var c;null==b&&(b=!1),c=this.resourceManager.addResource(a),b&&this.view.scrollToResource&&c.done(function(a){return function(b){return a.view.scrollToResource(b)}}(this))},c.prototype.removeResource=function(a){return this.resourceManager.removeResource(a)},c.prototype.refetchResources=function(){this.resourceManager.fetchResources()},c.prototype.rerenderResources=function(){this.resourceManager.resetResources()},c.prototype.getPeerEvents=function(a,b){var d,e,f,g,h,i,j,k,l,m,n,o,p,q;for(o=c.__super__.getPeerEvents.apply(this,arguments),m=a.resourceId?[a.resourceId]:b?this.getEventResourceIds(b):[],d=[],f=0,i=o.length;f<i;f++){if(n=o[f],e=!1,q=this.getEventResourceIds(n),q.length&&m.length){for(g=0,j=q.length;g<j;g++)for(p=q[g],h=0,k=m.length;h<k;h++)if(l=m[h],l===p){e=!0;break}}else e=!0;e&&d.push(n)}return d},c.prototype.buildSelectSpan=function(a,b,d){var e;return e=c.__super__.buildSelectSpan.apply(this,arguments),d&&(e.resourceId=d),e},c.prototype.getResourceById=function(a){return this.resourceManager.getResourceById(a)},c.prototype.getEventResourceId=function(a){return this.getEventResourceIds(a)[0]},c.prototype.getEventResourceIds=function(a){var b,c,d,e,f,g,h,i;if(i=String(null!=(f=null!=(g=a[this.getEventResourceField()])?g:a.resourceId)?f:""))return[i];if(a.resourceIds){for(e=[],h=a.resourceIds,b=0,c=h.length;b<c;b++)i=h[b],d=String(null!=i?i:""),d&&e.push(d);return e}return[]},c.prototype.setEventResourceId=function(a,b){return a[this.getEventResourceField()]=String(null!=b?b:"")},c.prototype.getEventResourceField=function(){return this.options.eventResourceField||"resourceId"},c.prototype.getResourceEvents=function(b){var c;return c="object"==typeof b?b:this.getResourceById(b),c?this.clientEvents(function(b){return function(d){return a.inArray(c.id,b.getEventResourceIds(d))!==-1}}(this)):[]},c.prototype.getEventResource=function(a){return this.getEventResources(a)[0]},c.prototype.getEventResources=function(a){var b,c,d,e,f,g,h;if(b="object"==typeof a?a:this.clientEvents(a)[0],h=[],b)for(e=this.getEventResourceIds(b),c=0,d=e.length;c<d;c++)g=e[c],f=this.getResourceById(g),f&&h.push(f);return h},c}(d),d.prototype=e.prototype,ya=T.prototype.displayView,Aa=T.prototype.renderSkeleton,Ba=T.prototype.unrenderSkeleton,xa=T.prototype.displayEvents,T.prototype.isResourcesBound=!1,T.prototype.settingResources=null,T.prototype.displayView=function(){return ya.apply(this,arguments),Da(this.calendar.options.schedulerLicenseKey,this.el),this.bindResources(),this.whenResources()},T.prototype.unrenderSkeleton=function(){return Ba.apply(this,arguments),this.unbindResources()},T.prototype.displayEvents=function(a){return this.whenResources(function(b){return function(){return xa.call(b,a)}}(this))},T.prototype.bindResources=function(){var b;if(!this.isResourcesBound)return this.isResourcesBound=!0,this.settingResources=a.Deferred(),b=function(a){return function(b){return a.setResources(b),a.settingResources.resolve()}}(this),this.calendar.resourceManager.on("set",this._setResources=b).on("unset",this._unsetResources=Ea(this,"unsetResources")).on("reset",this._resetResources=Ea(this,"resetResources")).on("add",this._addResource=Ea(this,"addResource")).on("remove",this._removeResource=Ea(this,"removeResource")),this.calendar.resourceManager.hasFetched()?b(this.calendar.resourceManager.topLevelResources):this.calendar.resourceManager.getResources()},T.prototype.unbindResources=function(){if(this.isResourcesBound)return this.calendar.resourceManager.off("set",this._setResources).off("unset",this._unsetResources).off("reset",this._resetResources).off("add",this._addResource).off("remove",this._removeResource),"resolved"===this.settingResources.state()&&this.unsetResources(),this.settingResources=null,this.isResourcesBound=!1},T.prototype.whenResources=function(b){return"resolved"===this.settingResources.state()?a.when(b?b():void 0):b?this.settingResources.then(b):this.settingResources.promise()},T.prototype.setResources=function(a){},T.prototype.unsetResources=function(){},T.prototype.resetResources=function(a){return this.calendar.rerenderEvents()},T.prototype.addResource=function(a){return this.resetResources(this.calendar.resourceManager.topLevelResources)},T.prototype.removeResource=function(a){return this.resetResources(this.calendar.resourceManager.topLevelResources)},za=m.prototype.getSegClasses,m.prototype.getSegClasses=function(a){var b,c,d,e,f;for(b=za.apply(this,arguments),e=this.getSegResources(a),c=0,d=e.length;c<d;c++)f=e[c],b=b.concat(f.eventClassName||[]);return b},m.prototype.getSegSkinCss=function(a){var b,c,d,e,f,g,h,i,j,k;return k=this.view,b=a.event,i=b.source||{},c=b.color,j=i.color,g=k.opt("eventColor"),h=this.getSegResources(a),d=function(){var a,b,c,d;for(d=null,b=0,c=h.length;b<c;b++)for(a=h[b];a&&!d;)d=a.eventBackgroundColor||a.eventColor,a=a._parent;return d},e=function(){var a,b,c,d;for(d=null,b=0,c=h.length;b<c;b++)for(a=h[b];a&&!d;)d=a.eventBorderColor||a.eventColor,a=a._parent;return d},f=function(){var a,b,c,d;for(d=null,b=0,c=h.length;b<c;b++)for(a=h[b];a&&!d;)d=a.eventTextColor,a=a._parent;return d},{"background-color":b.backgroundColor||c||d()||i.backgroundColor||j||k.opt("eventBackgroundColor")||g,"border-color":b.borderColor||c||e()||i.borderColor||j||k.opt("eventBorderColor")||g,color:b.textColor||f()||i.textColor||k.opt("eventTextColor")}},m.prototype.getSegResources=function(a){return a.resource?[a.resource]:this.view.calendar.getEventResources(a.event)},A=function(b){function c(a){this.calendar=a,this.initializeCache()}return Na(c,b),c.mixin(j),c.resourceGuid=1,c.ajaxDefaults={dataType:"json",cache:!1},c.prototype.calendar=null,c.prototype.topLevelResources=null,c.prototype.resourcesById=null,c.prototype.fetching=null,c.prototype.hasFetched=function(){return this.fetching&&"resolved"===this.fetching.state()},c.prototype.getResources=function(){var b;return this.fetching?a.Deferred().resolve(this.topLevelResources).promise():(b=a.Deferred(),this.fetchResources().done(function(a){return b.resolve(a)}).fail(function(){return b.resolve([])}),b)},c.prototype.fetchResources=function(){var b;return b=this.fetching,a.when(b).then(function(a){return function(){return a.fetching=a.fetchResourceInputs().then(function(c){return a.setResources(c,Boolean(b)),a.topLevelResources})}}(this))},c.prototype.fetchResourceInputs=function(){var b,d,e;switch(b=a.Deferred(),e=this.calendar.options.resources,"string"===a.type(e)&&(e={url:e}),a.type(e)){case"function":e(function(a){return function(a){return b.resolve(a)}}(this));break;case"object":d=a.ajax(a.extend({},c.ajaxDefaults,e));break;case"array":b.resolve(e);break;default:b.resolve([])}return d||(d=b.promise()),"pending"===!d.state()&&(this.calendar.pushLoading(),d.always(function(){return this.calendar.popLoading()})),d},c.prototype.resetResources=function(){return this.getResources().then(function(a){return function(){return a.trigger("reset",a.topLevelResources)}}(this))},c.prototype.getResourceById=function(a){return this.resourcesById[a]},c.prototype.initializeCache=function(){return this.topLevelResources=[],this.resourcesById={}},c.prototype.setResources=function(a,b){var c,d,e,f,g,h;for(this.initializeCache(),g=function(){var b,c,d;for(d=[],b=0,c=a.length;b<c;b++)f=a[b],d.push(this.buildResource(f));return d}.call(this),h=function(){var a,b,c;for(c=[],a=0,b=g.length;a<b;a++)e=g[a],this.addResourceToIndex(e)&&c.push(e);return c}.call(this),c=0,d=h.length;c<d;c++)e=h[c],this.addResourceToTree(e);return b?this.trigger("reset",this.topLevelResources):this.trigger("set",this.topLevelResources),this.calendar.trigger("resourcesSet",null,this.topLevelResources)},c.prototype.addResource=function(b){return a.when(this.fetching).then(function(a){return function(){var c;return c=a.buildResource(b),!!a.addResourceToIndex(c)&&(a.addResourceToTree(c),a.trigger("add",c),c)}}(this))},c.prototype.addResourceToIndex=function(a){var b,c,d,e;if(this.resourcesById[a.id])return!1;for(this.resourcesById[a.id]=a,e=a.children,c=0,d=e.length;c<d;c++)b=e[c],this.addResourceToIndex(b);return!0},c.prototype.addResourceToTree=function(a){var b,c,d,e;if(!a.parent){if(c=String(null!=(d=a.parentId)?d:"")){if(b=this.resourcesById[c],!b)return!1;a.parent=b,e=b.children}else e=this.topLevelResources;e.push(a)}return!0},c.prototype.removeResource=function(b){var c;return c="object"==typeof b?b.id:b,a.when(this.fetching).then(function(a){return function(){var b;return b=a.removeResourceFromIndex(c),b&&(a.removeResourceFromTree(b),a.trigger("remove",b)),b}}(this))},c.prototype.removeResourceFromIndex=function(a){var b,c,d,e,f;if(f=this.resourcesById[a]){for(delete this.resourcesById[a],e=f.children,c=0,d=e.length;c<d;c++)b=e[c],this.removeResourceFromIndex(b.id);return f}return!1},c.prototype.removeResourceFromTree=function(a,b){var c,d,e,f;for(null==b&&(b=this.topLevelResources),c=d=0,e=b.length;d<e;c=++d){if(f=b[c],f===a)return a.parent=null,b.splice(c,1),!0;if(this.removeResourceFromTree(a,f.children))return!0}return!1},c.prototype.buildResource=function(b){var d,e,f,g,h;return h=a.extend({},b),h.id=String(null!=(g=b.id)?g:"_fc"+c.resourceGuid++),f=b.eventClassName,h.eventClassName=function(){switch(a.type(f)){case"string":return f.split(/\s+/);case"array":return f;default:return[]}}(),h.children=function(){var a,c,f,g,i;for(g=null!=(f=b.children)?f:[],i=[],a=0,c=g.length;a<c;a++)e=g[a],d=this.buildResource(e),d.parent=h,i.push(d);return i}.call(this),h},c}(f),G=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return Na(c,b),c.prototype.resourceTextFunc=null,c.prototype.unsetResources=function(){return this.clearEvents()},c.prototype.resetResources=function(a){var b;return b=this.queryScroll(),this.unsetResources(),this.setResources(a),this.setScroll(b),this.calendar.rerenderEvents()},c.prototype.getResourceText=function(a){return this.getResourceTextFunc()(a)},c.prototype.getResourceTextFunc=function(){var a;return this.resourceTextFunc?this.resourceTextFunc:(a=this.opt("resourceText"),"function"!=typeof a&&(a=function(a){return a.title||a.id}),this.resourceTextFunc=a)},c.prototype.triggerDayClick=function(a,b,c){var d;return d=this.calendar.resourceManager,this.trigger("dayClick",b,this.calendar.applyTimezone(a.start),c,this,d.getResourceById(a.resourceId))},c.prototype.triggerSelect=function(a,b){var c;return c=this.calendar.resourceManager,this.trigger("select",null,this.calendar.applyTimezone(a.start),this.calendar.applyTimezone(a.end),b,this,c.getResourceById(a.resourceId))},c.prototype.triggerExternalDrop=function(a,b,c,d,e){if(this.trigger("drop",c[0],b.start,d,e,b.resourceId),a)return this.trigger("eventReceive",null,a)},c.prototype.reportEventDrop=function(){var a,b,d;return b=arguments[0],a=arguments[1],d=3<=arguments.length?Ma.call(arguments,2):[],a=this.normalizeDropLocation(a),a.resourceId&&b.resourceIds&&(a.resourceIds=null),c.__super__.reportEventDrop.apply(this,[b,a].concat(Ma.call(d)))},c.prototype.reportExternalDrop=function(){var a,b,d;return b=arguments[0],a=arguments[1],d=3<=arguments.length?Ma.call(arguments,2):[],a=this.normalizeDropLocation(a),c.__super__.reportExternalDrop.apply(this,[b,a].concat(Ma.call(d)))},c.prototype.normalizeDropLocation=function(b){var c;return c=a.extend({},b),delete c.resourceId,this.calendar.setEventResourceId(c,b.resourceId),c},c}(T),z=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return Na(c,b),c.prototype.allowCrossResource=!0,c.prototype.eventRangeToSpans=function(b,d){var e,f,g,h,i;if(h=this.view.calendar.getEventResourceIds(d),h.length){for(i=[],e=0,f=h.length;e<f;e++)g=h[e],i.push(a.extend({},b,{resourceId:g}));return i}return l.isBgEvent(d)?c.__super__.eventRangeToSpans.apply(this,arguments):[]},c.prototype.fabricateHelperEvent=function(a,b){var d;return d=c.__super__.fabricateHelperEvent.apply(this,arguments),this.view.calendar.setEventResourceId(d,a.resourceId),d},c.prototype.computeEventDrop=function(a,b,d){var e,f;return e=!0,e||a.resourceId===b.resourceId?(f=c.__super__.computeEventDrop.apply(this,arguments),f&&(f.resourceId=b.resourceId),f):null},c.prototype.computeExternalDrop=function(a,b){var d;return d=c.__super__.computeExternalDrop.apply(this,arguments),d&&(d.resourceId=a.resourceId),d},c.prototype.computeEventResize=function(a,b,d,e){var f;if(this.allowCrossResource||b.resourceId===d.resourceId)return f=c.__super__.computeEventResize.apply(this,arguments),f&&(f.resourceId=b.resourceId),f},c.prototype.computeSelectionSpan=function(a,b){var d;if(this.allowCrossResource||a.resourceId===b.resourceId)return d=c.__super__.computeSelectionSpan.apply(this,arguments),d&&(d.resourceId=a.resourceId),d},c}(m),y={flattenedResources:null,resourceCnt:0,datesAboveResources:!1,allowCrossResource:!1,setResources:function(a){return this.flattenedResources=this.flattenResources(a),this.resourceCnt=this.flattenedResources.length,this.updateDayTableCols()},unsetResources:function(){return this.flattenedResources=null,this.resourceCnt=0,this.updateDayTableCols()},flattenResources:function(a){var b,c,d,e;return c=this.view.opt("resourceOrder"),c?(b=Ca(c),e=function(a,c){return W(a,c,b)}):e=null,d=[],this.accumulateResources(a,e,d),d},accumulateResources:function(a,b,c){var d,e,f,g,h;for(b?(h=a.slice(0),h.sort(b)):h=a,g=[],d=0,e=h.length;d<e;d++)f=h[d],c.push(f),g.push(this.accumulateResources(f.children,b,c));return g},updateDayTableCols:function(){return this.datesAboveResources=this.view.opt("groupByDateAndResource"),l.DayTableMixin.updateDayTableCols.call(this)},computeColCnt:function(){return(this.resourceCnt||1)*this.daysPerRow},getColDayIndex:function(a){return this.isRTL&&(a=this.colCnt-1-a),this.datesAboveResources?Math.floor(a/(this.resourceCnt||1)):a%this.daysPerRow},getColResource:function(a){return this.flattenedResources[this.getColResourceIndex(a)]},getColResourceIndex:function(a){return this.isRTL&&(a=this.colCnt-1-a),this.datesAboveResources?a%(this.resourceCnt||1):Math.floor(a/this.daysPerRow)},indicesToCol:function(a,b){var c;return c=this.datesAboveResources?b*(this.resourceCnt||1)+a:a*this.daysPerRow+b,this.isRTL&&(c=this.colCnt-1-c),c},renderHeadTrHtml:function(){return this.resourceCnt?this.daysPerRow>1?this.datesAboveResources?this.renderHeadDateAndResourceHtml():this.renderHeadResourceAndDateHtml():this.renderHeadResourceHtml():l.DayTableMixin.renderHeadTrHtml.call(this)},renderHeadResourceHtml:function(){var a,b,c,d,e;for(e=[],c=this.flattenedResources,a=0,b=c.length;a<b;a++)d=c[a],e.push(this.renderHeadResourceCellHtml(d));return this.wrapTr(e,"renderHeadIntroHtml")},renderHeadResourceAndDateHtml:function(){var a,b,c,d,e,f,g,h,i,j;for(j=[],b=[],g=this.flattenedResources,d=0,f=g.length;d<f;d++)for(i=g[d],j.push(this.renderHeadResourceCellHtml(i,null,this.daysPerRow)),c=e=0,h=this.daysPerRow;e<h;c=e+=1)a=this.dayDates[c].clone(),b.push(this.renderHeadResourceDateCellHtml(a,i));return this.wrapTr(j,"renderHeadIntroHtml")+this.wrapTr(b,"renderHeadIntroHtml")},renderHeadDateAndResourceHtml:function(){var a,b,c,d,e,f,g,h,i,j;for(b=[],j=[],c=d=0,g=this.daysPerRow;d<g;c=d+=1)for(a=this.dayDates[c].clone(),b.push(this.renderHeadDateCellHtml(a,this.resourceCnt)),h=this.flattenedResources,e=0,f=h.length;e<f;e++)i=h[e],j.push(this.renderHeadResourceCellHtml(i,a));return this.wrapTr(b,"renderHeadIntroHtml")+this.wrapTr(j,"renderHeadIntroHtml")},renderHeadResourceCellHtml:function(a,b,c){return'<th class="fc-resource-cell" data-resource-id="'+a.id+'"'+(b?' data-date="'+b.format("YYYY-MM-DD")+'"':"")+(c>1?' colspan="'+c+'"':"")+">"+oa(this.view.getResourceText(a))+"</th>"},renderHeadResourceDateCellHtml:function(a,b,c){return this.renderHeadDateCellHtml(a,c,'data-resource-id="'+b.id+'"')},processHeadResourceEls:function(b){return b.find(".fc-resource-cell").each(function(b){return function(c,d){var e;return e=b.datesAboveResources?b.getColResource(c):b.flattenedResources[b.isRTL?b.flattenedResources.length-1-c:c],b.view.trigger("resourceRender",e,e,a(d),a())}}(this))},renderBgCellsHtml:function(a){var b,c,d,e,f,g;if(this.resourceCnt){for(d=[],b=e=0,f=this.colCnt;e<f;b=e+=1)c=this.getCellDate(a,b),g=this.getColResource(b),d.push(this.renderResourceBgCellHtml(c,g));return d.join("")}return l.DayTableMixin.renderBgCellsHtml.call(this,a)},renderResourceBgCellHtml:function(a,b){return this.renderBgCellHtml(a,'data-resource-id="'+b.id+'"')},wrapTr:function(a,b){return this.isRTL?(a.reverse(),"<tr>"+a.join("")+this[b]()+"</tr>"):"<tr>"+this[b]()+a.join("")+"</tr>"}},x=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return Na(c,b),c.mixin(z),c.mixin(y),c.prototype.getHitSpan=function(a){var b;return b=c.__super__.getHitSpan.apply(this,arguments),this.resourceCnt&&(b.resourceId=this.getColResource(a.col).id),b},c.prototype.spanToSegs=function(b){var c,d,e,f,g,h,i,j,k,l,m,n,o;if(k=this.resourceCnt,d=this.datesAboveResources?this.sliceRangeByDay(b):this.sliceRangeByRow(b),k){for(n=[],f=0,i=d.length;f<i;f++)for(o=d[f],l=g=0,j=k;g<j;l=g+=1)m=this.flattenedResources[l],b.resourceId&&b.resourceId!==m.id||(c=a.extend({},o),c.resource=m,this.isRTL?(c.leftCol=this.indicesToCol(l,o.lastRowDayIndex),c.rightCol=this.indicesToCol(l,o.firstRowDayIndex)):(c.leftCol=this.indicesToCol(l,o.firstRowDayIndex),c.rightCol=this.indicesToCol(l,o.lastRowDayIndex)),n.push(c));return n}for(e=0,h=d.length;e<h;e++)o=d[e],this.isRTL?(o.leftCol=o.lastRowDayIndex,o.rightCol=o.firstRowDayIndex):(o.leftCol=o.firstRowDayIndex,o.rightCol=o.lastRowDayIndex);
return d},c}(l.DayGrid),D=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return Na(c,b),c.mixin(z),c.mixin(y),c.prototype.getHitSpan=function(a){var b;return b=c.__super__.getHitSpan.apply(this,arguments),this.resourceCnt&&(b.resourceId=this.getColResource(a.col).id),b},c.prototype.spanToSegs=function(b){var c,d,e,f,g,h,i,j,k,l,m,n,o;if(k=this.resourceCnt,d=this.sliceRangeByTimes(b),k){for(n=[],f=0,i=d.length;f<i;f++)for(o=d[f],l=g=0,j=k;g<j;l=g+=1)m=this.flattenedResources[l],b.resourceId&&b.resourceId!==m.id||(c=a.extend({},o),c.resource=m,c.col=this.indicesToCol(l,o.dayIndex),n.push(c));return n}for(e=0,h=d.length;e<h;e++)o=d[e],o.col=o.dayIndex;return d},c}(l.TimeGrid),Q=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return Na(b,a),b.prototype.timeGrid=null,b.prototype.isScrolled=!1,b.prototype.initialize=function(){return this.timeGrid=this.instantiateGrid(),this.intervalDuration=this.timeGrid.duration},b.prototype.instantiateGrid=function(){return new P(this)},b.prototype.setRange=function(a){return b.__super__.setRange.apply(this,arguments),this.timeGrid.setRange(a)},b.prototype.renderSkeleton=function(){return this.el.addClass("fc-timeline"),this.opt("eventOverlap")===!1&&this.el.addClass("fc-no-overlap"),this.el.html(this.renderSkeletonHtml()),this.renderTimeGridSkeleton()},b.prototype.renderSkeletonHtml=function(){return'<table> <thead class="fc-head"> <tr> <td class="fc-time-area '+this.widgetHeaderClass+'"></td> </tr> </thead> <tbody class="fc-body"> <tr> <td class="fc-time-area '+this.widgetContentClass+'"></td> </tr> </tbody> </table>'},b.prototype.renderTimeGridSkeleton=function(){return this.timeGrid.setElement(this.el.find("tbody .fc-time-area")),this.timeGrid.headEl=this.el.find("thead .fc-time-area"),this.timeGrid.renderSkeleton(),this.isScrolled=!1,this.timeGrid.bodyScroller.on("scroll",Ea(this,"handleBodyScroll"))},b.prototype.handleBodyScroll=function(a,b){if(a){if(!this.isScrolled)return this.isScrolled=!0,this.el.addClass("fc-scrolled")}else if(this.isScrolled)return this.isScrolled=!1,this.el.removeClass("fc-scrolled")},b.prototype.unrenderSkeleton=function(){return this.timeGrid.removeElement(),this.handleBodyScroll(0),b.__super__.unrenderSkeleton.apply(this,arguments)},b.prototype.renderDates=function(){return this.timeGrid.renderDates()},b.prototype.unrenderDates=function(){return this.timeGrid.unrenderDates()},b.prototype.renderBusinessHours=function(){return this.timeGrid.renderBusinessHours()},b.prototype.unrenderBusinessHours=function(){return this.timeGrid.unrenderBusinessHours()},b.prototype.getNowIndicatorUnit=function(){return this.timeGrid.getNowIndicatorUnit()},b.prototype.renderNowIndicator=function(a){return this.timeGrid.renderNowIndicator(a)},b.prototype.unrenderNowIndicator=function(){return this.timeGrid.unrenderNowIndicator()},b.prototype.prepareHits=function(){return this.timeGrid.prepareHits()},b.prototype.releaseHits=function(){return this.timeGrid.releaseHits()},b.prototype.queryHit=function(a,b){return this.timeGrid.queryHit(a,b)},b.prototype.getHitSpan=function(a){return this.timeGrid.getHitSpan(a)},b.prototype.getHitEl=function(a){return this.timeGrid.getHitEl(a)},b.prototype.updateWidth=function(){return this.timeGrid.updateWidth()},b.prototype.setHeight=function(a,b){var c;return c=b?"auto":a-this.timeGrid.headHeight()-this.queryMiscHeight(),this.timeGrid.bodyScroller.setHeight(c)},b.prototype.queryMiscHeight=function(){return this.el.outerHeight()-this.timeGrid.headScroller.el.outerHeight()-this.timeGrid.bodyScroller.el.outerHeight()},b.prototype.computeInitialScroll=function(a){return this.timeGrid.computeInitialScroll(a)},b.prototype.queryScroll=function(){return this.timeGrid.queryScroll()},b.prototype.setScroll=function(a){return this.timeGrid.setScroll(a)},b.prototype.renderEvents=function(a){return this.timeGrid.renderEvents(a),this.updateWidth()},b.prototype.unrenderEvents=function(){return this.timeGrid.unrenderEvents(),this.updateWidth()},b.prototype.renderDrag=function(a,b){return this.timeGrid.renderDrag(a,b)},b.prototype.unrenderDrag=function(){return this.timeGrid.unrenderDrag()},b.prototype.getEventSegs=function(){return this.timeGrid.getEventSegs()},b.prototype.renderSelection=function(a){return this.timeGrid.renderSelection(a)},b.prototype.unrenderSelection=function(){return this.timeGrid.unrenderSelection()},b}(T),_=l.cssToStr,P=function(c){function d(){var a;d.__super__.constructor.apply(this,arguments),this.initScaleProps(),this.minTime=b.duration(this.opt("minTime")||"00:00"),this.maxTime=b.duration(this.opt("maxTime")||"24:00"),this.timeWindowMs=this.maxTime-this.minTime,this.snapDuration=(a=this.opt("snapDuration"))?b.duration(a):this.slotDuration,this.minResizeDuration=this.snapDuration,this.snapsPerSlot=da(this.slotDuration,this.snapDuration),this.slotWidth=this.opt("slotWidth")}return Na(d,c),d.prototype.slotDates=null,d.prototype.slotCnt=null,d.prototype.snapCnt=null,d.prototype.snapsPerSlot=null,d.prototype.snapDiffToIndex=null,d.prototype.snapIndexToDiff=null,d.prototype.headEl=null,d.prototype.slatContainerEl=null,d.prototype.slatEls=null,d.prototype.containerCoordCache=null,d.prototype.slatCoordCache=null,d.prototype.slatInnerCoordCache=null,d.prototype.headScroller=null,d.prototype.bodyScroller=null,d.prototype.joiner=null,d.prototype.follower=null,d.prototype.eventTitleFollower=null,d.prototype.minTime=null,d.prototype.maxTime=null,d.prototype.timeWindowMs=null,d.prototype.slotDuration=null,d.prototype.snapDuration=null,d.prototype.duration=null,d.prototype.labelInterval=null,d.prototype.headerFormats=null,d.prototype.isTimeScale=null,d.prototype.largeUnit=null,d.prototype.emphasizeWeeks=!1,d.prototype.titleFollower=null,d.prototype.segContainerEl=null,d.prototype.segContainerHeight=null,d.prototype.bgSegContainerEl=null,d.prototype.helperEls=null,d.prototype.innerEl=null,d.prototype.opt=function(a){return this.view.opt(a)},d.prototype.isValidDate=function(a){var b;return!this.view.isHiddenDay(a)&&(!this.isTimeScale||(b=a.time()-this.minTime,b=(b%864e5+864e5)%864e5,b<this.timeWindowMs))},d.prototype.computeDisplayEventTime=function(){return!this.isTimeScale},d.prototype.computeDisplayEventEnd=function(){return!1},d.prototype.computeEventTimeFormat=function(){return this.opt("extraSmallTimeFormat")},d.prototype.normalizeGridDate=function(a){var b;return this.isTimeScale?(b=a.clone(),b.hasTime()||b.time(0)):(b=a.clone().stripTime(),this.largeUnit&&b.startOf(this.largeUnit)),b},d.prototype.normalizeGridRange=function(a){var b,c;return this.isTimeScale?c={start:this.normalizeGridDate(a.start),end:this.normalizeGridDate(a.end)}:(c=this.view.computeDayRange(a),this.largeUnit&&(c.start.startOf(this.largeUnit),b=c.end.clone().startOf(this.largeUnit),b.isSame(c.end)&&b.isAfter(c.start)||b.add(this.slotDuration),c.end=b)),c},d.prototype.rangeUpdated=function(){var a,b;for(this.start=this.normalizeGridDate(this.start).add(this.minTime),this.end=this.normalizeGridDate(this.end).subtract(1,"day").add(this.maxTime),b=[],a=this.start.clone();a<this.end;)this.isValidDate(a)&&b.push(a.clone()),a.add(this.slotDuration);return this.slotDates=b,this.updateGridDates()},d.prototype.updateGridDates=function(){var a,b,c,d,e;for(d=-1,b=0,c=[],e=[],a=this.start.clone();a<this.end;)this.isValidDate(a)?(d++,c.push(d),e.push(b)):c.push(d+.5),a.add(this.snapDuration),b++;return this.snapDiffToIndex=c,this.snapIndexToDiff=e,this.snapCnt=d+1,this.slotCnt=this.snapCnt/this.snapsPerSlot},d.prototype.spanToSegs=function(a){var b,c;return b=this.normalizeGridRange(a),this.computeDateSnapCoverage(a.start)<this.computeDateSnapCoverage(a.end)&&(c=pa(b,this))?(c.isStart&&!this.isValidDate(c.start)&&(c.isStart=!1),c.isEnd&&c.end&&!this.isValidDate(c.end.clone().subtract(1))&&(c.isEnd=!1),[c]):[]},d.prototype.prepareHits=function(){return this.buildCoords()},d.prototype.queryHit=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n;if(n=this.snapsPerSlot,f=this.slatCoordCache,c=this.containerCoordCache,null!=c.getVerticalIndex(b)&&(g=f.getHorizontalIndex(a),null!=g))return j=f.getWidth(g),this.isRTL?(i=f.getRightOffset(g),e=(i-a)/j,d=Math.floor(e*n),k=g*n+d,m=i-d/n*j,l=m-(d+1)/n*j):(h=f.getLeftOffset(g),e=(a-h)/j,d=Math.floor(e*n),k=g*n+d,l=h+d/n*j,m=h+(d+1)/n*j),{snap:k,component:this,left:l,right:m,top:c.getTopOffset(0),bottom:c.getBottomOffset(0)}},d.prototype.getHitSpan=function(a){return this.getSnapRange(a.snap)},d.prototype.getHitEl=function(a){return this.getSnapEl(a.snap)},d.prototype.getSnapRange=function(a){var b,c;return c=this.start.clone(),c.add(va(this.snapDuration,this.snapIndexToDiff[a])),b=c.clone().add(this.snapDuration),{start:c,end:b}},d.prototype.getSnapEl=function(a){return this.slatEls.eq(Math.floor(a/this.snapsPerSlot))},d.prototype.renderSkeleton=function(){return this.headScroller=new N("invisible-scroll","hidden"),this.headEl.append(this.headScroller.el),this.bodyScroller=new N,this.el.append(this.bodyScroller.el),this.innerEl=this.bodyScroller.contentEl,this.slatContainerEl=a('<div class="fc-slats"/>').appendTo(this.bodyScroller.bgEl),this.segContainerEl=a('<div class="fc-event-container"/>').appendTo(this.bodyScroller.contentEl),this.bgSegContainerEl=this.bodyScroller.bgEl,this.containerCoordCache=new g({els:this.bodyScroller.innerEl,isHorizontal:!0,isVertical:!0}),this.joiner=new M("horizontal",[this.headScroller,this.bodyScroller]),this.follower=new K(this.headScroller),this.eventTitleFollower=new K(this.bodyScroller),this.eventTitleFollower.minTravel=50,this.isRTL?this.eventTitleFollower.containOnNaturalRight=!0:this.eventTitleFollower.containOnNaturalLeft=!0,d.__super__.renderSkeleton.apply(this,arguments)},d.prototype.headColEls=null,d.prototype.slatColEls=null,d.prototype.renderDates=function(){var a,b,c,d,e;for(this.headScroller.contentEl.html(this.renderHeadHtml()),this.headColEls=this.headScroller.contentEl.find("col"),this.slatContainerEl.html(this.renderSlatHtml()),this.slatColEls=this.slatContainerEl.find("col"),this.slatEls=this.slatContainerEl.find("td"),this.slatCoordCache=new g({els:this.slatEls,isHorizontal:!0}),this.slatInnerCoordCache=new g({els:this.slatEls.find("> div"),isHorizontal:!0,offsetParent:this.bodyScroller.innerEl}),e=this.slotDates,b=c=0,d=e.length;c<d;b=++c)a=e[b],this.view.trigger("dayRender",null,a,this.slatEls.eq(b));if(this.follower)return this.follower.setSprites(this.headEl.find("tr:not(:last-child) span"))},d.prototype.unrenderDates=function(){return this.follower&&this.follower.clearSprites(),this.headScroller.contentEl.empty(),this.slatContainerEl.empty(),this.headScroller.contentEl.add(this.bodyScroller.contentEl).css({minWidth:"",width:""})},d.prototype.renderHeadHtml=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K;for(p=this.labelInterval,f=this.headerFormats,b=function(){var a,b,c;for(c=[],a=0,b=f.length;a<b;a++)e=f[a],c.push([]);return c}(),q=null,C=null,I=this.slotDates,H=[],m=0,r=I.length;m<r;m++){for(c=I[m],K=c.week(),l=this.emphasizeWeeks&&null!==C&&C!==K,E=n=0,s=f.length;n<s;E=++n)e=f[E],F=b[E],q=F[F.length-1],k=f.length>1&&E<f.length-1,A=null,k?(J=c.format(e),d=c.format(),q&&q.text===J?q.colspan+=1:A={text:J,dateData:d,colspan:1}):!q||sa(ea(this.start,c,p))?(J=c.format(e),d=c.format(),A={text:J,dateData:d,colspan:1}):q.colspan+=1,A&&(A.weekStart=l,F.push(A));H.push({weekStart:l}),C=K}for(i=p>this.slotDuration,g="<table>",g+="<colgroup>",o=0,t=I.length;o<t;o++)c=I[o],g+="<col/>";for(g+="</colgroup>",g+="<tbody>",h=y=0,u=b.length;y<u;h=++y){for(F=b[h],j=h===b.length-1,g+="<tr"+(i&&j?' class="fc-chrono"':"")+">",z=0,v=F.length;z<v;z++)a=F[z],g+='<th class="'+this.view.widgetHeaderClass+" "+(a.weekStart?"fc-em-cell":"")+'" data-date="'+a.dateData+'"'+(a.colspan>1?' colspan="'+a.colspan+'"':"")+'><div class="fc-cell-content"><span class="fc-cell-text">'+oa(a.text)+"</span></div></th>";g+="</tr>"}for(g+="</tbody></table>",G="<table>",G+="<colgroup>",B=0,w=H.length;B<w;B++)a=H[B],G+="<col/>";for(G+="</colgroup>",G+="<tbody><tr>",h=D=0,x=H.length;D<x;h=++D)a=H[h],c=I[h],G+=this.slatCellHtml(c,a.weekStart);return G+="</tr></tbody></table>",this._slatHtml=G,g},d.prototype.renderSlatHtml=function(){return this._slatHtml},d.prototype.slatCellHtml=function(a,b){var c;return this.isTimeScale?(c=[],c.push(sa(ea(this.start,a,this.labelInterval))?"fc-major":"fc-minor")):(c=this.getDayClasses(a),c.push("fc-day")),c.unshift(this.view.widgetContentClass),b&&c.push("fc-em-cell"),'<td class="'+c.join(" ")+'" data-date="'+a.format()+'"><div /></td>'},d.prototype.businessHourSegs=null,d.prototype.renderBusinessHours=function(){var a,b;if(!this.largeUnit)return a=this.view.calendar.getBusinessHoursEvents(!this.isTimeScale),b=this.businessHourSegs=this.eventsToSegs(a),this.renderFill("businessHours",b,"bgevent")},d.prototype.unrenderBusinessHours=function(){return this.unrenderFill("businessHours")},d.prototype.nowIndicatorEls=null,d.prototype.getNowIndicatorUnit=function(){if(this.isTimeScale)return X(this.slotDuration)},d.prototype.renderNowIndicator=function(b){var c,d,e;return e=[],b=this.normalizeGridDate(b),b>=this.start&&b<this.end&&(c=this.dateToCoord(b),d=this.isRTL?{right:-c}:{left:c},e.push(a("<div class='fc-now-indicator fc-now-indicator-arrow'></div>").css(d).appendTo(this.headScroller.innerEl)[0]),e.push(a("<div class='fc-now-indicator fc-now-indicator-line'></div>").css(d).appendTo(this.bodyScroller.innerEl)[0])),this.nowIndicatorEls=a(e)},d.prototype.unrenderNowIndicator=function(){if(this.nowIndicatorEls)return this.nowIndicatorEls.remove(),this.nowIndicatorEls=null},d.prototype.explicitSlotWidth=null,d.prototype.defaultSlotWidth=null,d.prototype.updateWidth=function(){var a,b,c,d,e;if(e=Math.round(this.slotWidth||(this.slotWidth=this.computeSlotWidth())),c=e*this.slotDates.length,b="",d=e,a=this.bodyScroller.scrollEl[0].clientWidth,a>c&&(b=a,c="",d=Math.floor(a/this.slotDates.length)),this.headScroller.setContentWidth(c),this.headScroller.setContentMinWidth(b),this.bodyScroller.setContentWidth(c),this.bodyScroller.setContentMinWidth(b),this.headColEls.slice(0,-1).add(this.slatColEls.slice(0,-1)).width(d),this.headScroller.update(),this.bodyScroller.update(),this.joiner.update(),this.buildCoords(),this.updateSegPositions(),this.follower&&this.follower.update(),this.eventTitleFollower)return this.eventTitleFollower.update()},d.prototype.computeSlotWidth=function(){var b,c,d,e,f,g;return d=0,c=this.headEl.find("tr:last-child th span"),c.each(function(b,c){var e;return e=a(c).outerWidth(),d=Math.max(d,e)}),b=d+1,g=da(this.labelInterval,this.slotDuration),f=Math.ceil(b/g),e=this.headColEls.eq(0).css("min-width"),e&&(e=parseInt(e,10),e&&(f=Math.max(f,e))),f},d.prototype.buildCoords=function(){return this.containerCoordCache.build(),this.slatCoordCache.build(),this.slatInnerCoordCache.build()},d.prototype.computeDateSnapCoverage=function(a){var b,c,d;return c=ea(this.start,a,this.snapDuration),c<0?0:c>=this.snapDiffToIndex.length?this.snapCnt:(d=Math.floor(c),b=this.snapDiffToIndex[d],sa(b)?b+=c-d:b=Math.ceil(b),b)},d.prototype.dateToCoord=function(a){var b,c,d,e,f;return f=this.computeDateSnapCoverage(a),d=f/this.snapsPerSlot,e=Math.floor(d),e=Math.min(e,this.slotCnt-1),c=d-e,b=this.slatInnerCoordCache,this.isRTL?b.getRightPosition(e)-b.getWidth(e)*c-this.containerCoordCache.getWidth(0):b.getLeftPosition(e)+b.getWidth(e)*c},d.prototype.rangeToCoords=function(a){return this.isRTL?{right:this.dateToCoord(a.start),left:this.dateToCoord(a.end)}:{left:this.dateToCoord(a.start),right:this.dateToCoord(a.end)}},d.prototype.headHeight=function(){var a;return a=this.headScroller.contentEl.find("table"),a.height.apply(a,arguments)},d.prototype.updateSegPositions=function(){var a,b,c,d,e;for(e=(this.segs||[]).concat(this.businessHourSegs||[]),b=0,c=e.length;b<c;b++)d=e[b],a=this.rangeToCoords(d),d.el.css({left:d.left=a.left,right:-(d.right=a.right)})},d.prototype.computeInitialScroll=function(a){var c,d;return c=0,this.isTimeScale&&(d=this.opt("scrollTime"),d&&(d=b.duration(d),c=this.dateToCoord(this.start.clone().time(d)))),{left:c,top:0}},d.prototype.queryScroll=function(){return{left:wa(this.bodyScroller.scrollEl),top:this.bodyScroller.scrollEl.scrollTop()}},d.prototype.setScroll=function(a){return wa(this.headScroller.scrollEl,a.left),wa(this.bodyScroller.scrollEl,a.left),this.bodyScroller.scrollEl.scrollTop(a.top)},d.prototype.renderFgSegs=function(a){return a=this.renderFgSegEls(a),this.renderFgSegsInContainers([[this,a]]),this.updateSegFollowers(a),a},d.prototype.unrenderFgSegs=function(){return this.clearSegFollowers(),this.unrenderFgContainers([this])},d.prototype.renderFgSegsInContainers=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;for(d=0,g=a.length;d<g;d++)for(t=a[d],b=t[0],z=t[1],e=0,h=z.length;e<h;e++)y=z[e],c=this.rangeToCoords(y),y.el.css({left:y.left=c.left,right:-(y.right=c.right)});for(f=0,i=a.length;f<i;f++)for(u=a[f],b=u[0],z=u[1],o=0,j=z.length;o<j;o++)y=z[o],y.el.appendTo(b.segContainerEl);for(p=0,k=a.length;p<k;p++){for(v=a[p],b=v[0],z=v[1],q=0,l=z.length;q<l;q++)y=z[q],y.height=y.el.outerHeight(!0);this.buildSegLevels(z),b.segContainerHeight=Z(z)}for(x=[],r=0,m=a.length;r<m;r++){for(w=a[r],b=w[0],z=w[1],s=0,n=z.length;s<n;s++)y=z[s],y.el.css("top",y.top);x.push(b.segContainerEl.height(b.segContainerHeight))}return x},d.prototype.buildSegLevels=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o;for(n=[],this.sortEventSegs(a),d=0,g=a.length;d<g;d++){for(o=a[d],o.above=[],j=0;j<n.length;){for(c=!1,l=n[j],e=0,h=l.length;e<h;e++)k=l[e],Ka(o,k)&&(o.above.push(k),c=!0);if(!c)break;j+=1}for((n[j]||(n[j]=[])).push(o),j+=1;j<n.length;){for(m=n[j],f=0,i=m.length;f<i;f++)b=m[f],Ka(o,b)&&b.above.push(o);j+=1}}return n},d.prototype.unrenderFgContainers=function(a){var b,c,d,e;for(e=[],c=0,d=a.length;c<d;c++)b=a[c],b.segContainerEl.empty(),b.segContainerEl.height(""),e.push(b.segContainerHeight=null);return e},d.prototype.fgSegHtml=function(a,b){var c,d,e,f,g,h;return d=a.event,e=this.view.isEventDraggable(d),g=a.isStart&&this.view.isEventResizableFromStart(d),f=a.isEnd&&this.view.isEventResizableFromEnd(d),c=this.getSegClasses(a,e,g||f),c.unshift("fc-timeline-event","fc-h-event"),h=this.getEventTimeText(d),'<a class="'+c.join(" ")+'" style="'+_(this.getSegSkinCss(a))+'"'+(d.url?' href="'+oa(d.url)+'"':"")+'><div class="fc-content">'+(h?'<span class="fc-time">'+oa(h)+"</span>":"")+'<span class="fc-title">'+(d.title?oa(d.title):"&nbsp;")+'</span></div><div class="fc-bg" />'+(g?'<div class="fc-resizer fc-start-resizer"></div>':"")+(f?'<div class="fc-resizer fc-end-resizer"></div>':"")+"</a>"},d.prototype.updateSegFollowers=function(a){var b,c,d,e,f;if(this.eventTitleFollower){for(e=[],b=0,c=a.length;b<c;b++)d=a[b],f=d.el.find(".fc-title"),f.length&&e.push(new L(f));return this.eventTitleFollower.setSprites(e)}},d.prototype.clearSegFollowers=function(){if(this.eventTitleFollower)return this.eventTitleFollower.clearSprites()},d.prototype.segDragStart=function(){if(d.__super__.segDragStart.apply(this,arguments),this.eventTitleFollower)return this.eventTitleFollower.forceRelative()},d.prototype.segDragEnd=function(){if(d.__super__.segDragEnd.apply(this,arguments),this.eventTitleFollower)return this.eventTitleFollower.clearForce()},d.prototype.segResizeStart=function(){if(d.__super__.segResizeStart.apply(this,arguments),this.eventTitleFollower)return this.eventTitleFollower.forceRelative()},d.prototype.segResizeEnd=function(){if(d.__super__.segResizeEnd.apply(this,arguments),this.eventTitleFollower)return this.eventTitleFollower.clearForce()},d.prototype.renderHelper=function(a,b){var c;return c=this.eventToSegs(a),c=this.renderFgSegEls(c),this.renderHelperSegsInContainers([[this,c]],b)},d.prototype.renderHelperSegsInContainers=function(b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;for(g=[],h=0,k=b.length;h<k;h++)for(p=b[h],d=p[0],t=p[1],i=0,l=t.length;i<l;i++)s=t[i],e=this.rangeToCoords(s),s.el.css({left:s.left=e.left,right:-(s.right=e.right)}),c&&c.resourceId===(null!=(q=d.resource)?q.id:void 0)?s.el.css("top",c.el.css("top")):s.el.css("top",0);for(j=0,m=b.length;j<m;j++)for(r=b[j],d=r[0],t=r[1],f=a('<div class="fc-event-container fc-helper-container"/>').appendTo(d.innerEl),g.push(f[0]),o=0,n=t.length;o<n;o++)s=t[o],f.append(s.el);return this.helperEls?this.helperEls=this.helperEls.add(a(g)):this.helperEls=a(g)},d.prototype.unrenderHelper=function(){if(this.helperEls)return this.helperEls.remove(),this.helperEls=null},d.prototype.renderEventResize=function(a,b){return this.renderHighlight(this.eventToSpan(a)),this.renderEventLocationHelper(a,b)},d.prototype.unrenderEventResize=function(){return this.unrenderHighlight(),this.unrenderHelper()},d.prototype.renderFill=function(a,b,c){return b=this.renderFillSegEls(a,b),this.renderFillInContainers(a,[[this,b]],c),b},d.prototype.renderFillInContainers=function(a,b,c){var d,e,f,g,h,i;for(h=[],e=0,f=b.length;e<f;e++)g=b[e],d=g[0],i=g[1],h.push(this.renderFillInContainer(a,d,i,c));return h},d.prototype.renderFillInContainer=function(b,c,d,e){var f,g,h,i,j;if(d.length){for(e||(e=b.toLowerCase()),f=a('<div class="fc-'+e+'-container" />').appendTo(c.bgSegContainerEl),h=0,i=d.length;h<i;h++)j=d[h],g=this.rangeToCoords(j),j.el.css({left:j.left=g.left,right:-(j.right=g.right)}),j.el.appendTo(f);return this.elsByFill[b]?this.elsByFill[b]=this.elsByFill[b].add(f):this.elsByFill[b]=f}},d.prototype.renderDrag=function(a,b){return b?(this.renderEventLocationHelper(a,b),this.applyDragOpacity(this.helperEls),!0):(this.renderHighlight(this.eventToSpan(a)),!1)},d.prototype.unrenderDrag=function(){return this.unrenderHelper(),this.unrenderHighlight()},d}(m),Z=function(a){var b,c,d,e;for(d=0,b=0,c=a.length;b<c;b++)e=a[b],d=Math.max(d,Y(e));return d},Y=function(a){return null==a.top&&(a.top=Z(a.above)),a.top+a.height},Ka=function(a,b){return a.left<b.right&&a.right>b.left},s=18,q=6,p=200,r=1e3,h={months:1},J=[{years:1},{months:1},{days:1},{hours:1},{minutes:30},{minutes:15},{minutes:10},{minutes:5},{minutes:1},{seconds:30},{seconds:15},{seconds:10},{seconds:5},{seconds:1},{milliseconds:500},{milliseconds:100},{milliseconds:10},{milliseconds:1}],P.prototype.initScaleProps=function(){var b,c,d;return this.labelInterval=this.queryDurationOption("slotLabelInterval"),this.slotDuration=this.queryDurationOption("slotDuration"),this.ensureGridDuration(),this.validateLabelAndSlot(),this.ensureLabelInterval(),this.ensureSlotDuration(),b=this.opt("slotLabelFormat"),d=a.type(b),this.headerFormats="array"===d?b:"string"===d?[b]:this.computeHeaderFormats(),this.isTimeScale=fa(this.slotDuration),this.largeUnit=this.isTimeScale?void 0:(c=X(this.slotDuration),/year|month|week/.test(c)?c:void 0),this.emphasizeWeeks=1===this.slotDuration.as("days")&&this.duration.as("weeks")>=2&&!this.opt("businessHours")},P.prototype.queryDurationOption=function(a){var c,d;if(d=this.opt(a),null!=d&&(c=b.duration(d),+c))return c},P.prototype.validateLabelAndSlot=function(){var a,b,c;if(this.labelInterval&&(a=da(this.duration,this.labelInterval),a>r&&(l.warn("slotLabelInterval results in too many cells"),this.labelInterval=null)),this.slotDuration&&(b=da(this.duration,this.slotDuration),b>r&&(l.warn("slotDuration results in too many cells"),this.slotDuration=null)),this.labelInterval&&this.slotDuration&&(c=da(this.labelInterval,this.slotDuration),!sa(c)||c<1))return l.warn("slotLabelInterval must be a multiple of slotDuration"),this.slotDuration=null},P.prototype.ensureGridDuration=function(){var a,c,d,e,f;if(a=this.duration,!a){if(a=this.view.intervalDuration,!a)if(this.labelInterval||this.slotDuration)for(f=this.ensureLabelInterval(),d=J.length-1;d>=0&&(c=J[d],a=b.duration(c),e=da(a,f),!(e>=s));d+=-1);else a=b.duration(h);this.duration=a}return a},P.prototype.ensureLabelInterval=function(){var a,c,d,e,f,g,h,i,j;if(f=this.labelInterval,!f){if(this.duration||this.slotDuration||this.ensureGridDuration(),this.slotDuration){for(c=0,g=J.length;c<g;c++)if(a=J[c],j=b.duration(a),i=da(j,this.slotDuration),sa(i)&&i<=q){f=j;break}f||(f=this.slotDuration)}else for(d=0,h=J.length;d<h&&(a=J[d],f=b.duration(a),e=da(this.duration,f),!(e>=s));d++);this.labelInterval=f}return f},P.prototype.ensureSlotDuration=function(){var a,c,d,e,f,g,h,i;if(g=this.slotDuration,!g){for(d=this.ensureLabelInterval(),c=0,e=J.length;c<e;c++)if(a=J[c],i=b.duration(a),h=da(d,i),sa(h)&&h>1&&h<=q){g=i;break}g&&this.duration&&(f=da(this.duration,g),f>p&&(g=null)),g||(g=d),this.slotDuration=g}return g},P.prototype.computeHeaderFormats=function(){var a,b,c,d,e,f,g,h;switch(g=this.view,d=this.duration,e=this.labelInterval,f=X(e),h=this.opt("weekNumbers"),a=b=c=null,"week"!==f||h||(f="day"),f){case"year":a="YYYY";break;case"month":d.asYears()>1&&(a="YYYY"),b="MMM";break;case"week":d.asYears()>1&&(a="YYYY"),b=this.opt("shortWeekFormat");break;case"day":d.asYears()>1?a=this.opt("monthYearFormat"):d.asMonths()>1&&(a="MMMM"),h&&(b=this.opt("weekFormat")),c="dd D";break;case"hour":h&&(a=this.opt("weekFormat")),d.asDays()>1&&(b=this.opt("dayOfMonthFormat")),c=this.opt("smallTimeFormat");break;case"minute":e.asMinutes()/60>=q?(a=this.opt("hourFormat"),b="[:]mm"):a=this.opt("mediumTimeFormat");break;case"second":e.asSeconds()/60>=q?(a="LT",b="[:]ss"):a="LTS";break;case"millisecond":a="LTS",b="[.]SSS"}return[].concat(a||[],b||[],c||[])},l.views.timeline={"class":Q,defaults:{eventResizableFromStart:!0}},l.views.timelineDay={type:"timeline",duration:{days:1}},l.views.timelineWeek={type:"timeline",duration:{weeks:1}},l.views.timelineMonth={type:"timeline",duration:{months:1}},l.views.timelineYear={type:"timeline",duration:{years:1}},F=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return Na(c,b),c.mixin(G),c.prototype.resourceGrid=null,c.prototype.tbodyHash=null,c.prototype.joiner=null,c.prototype.dividerEls=null,c.prototype.superHeaderText=null,c.prototype.isVGrouping=null,c.prototype.isHGrouping=null,c.prototype.groupSpecs=null,c.prototype.colSpecs=null,c.prototype.orderSpecs=null,c.prototype.rowHierarchy=null,c.prototype.resourceRowHash=null,c.prototype.nestingCnt=0,c.prototype.isNesting=null,c.prototype.dividerWidth=null,c.prototype.initialize=function(){return c.__super__.initialize.apply(this,arguments),this.processResourceOptions(),this.resourceGrid=new O(this),this.rowHierarchy=new I(this),this.resourceRowHash={}},c.prototype.instantiateGrid=function(){return new E(this)},c.prototype.processResourceOptions=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;for(a=this.opt("resourceColumns")||[],o=this.opt("resourceLabelText"),d="Resources",v=null,a.length?v=o:a.push({labelText:o||d,text:this.getResourceTextFunc()}),t=[],e=[],g=[],k=!1,j=!1,l=0,p=a.length;l<p;l++)c=a[l],c.group?e.push(c):t.push(c);for(t[0].isMain=!0,e.length?(g=e,k=!0):(h=this.opt("resourceGroupField"),h&&(j=!0,g.push({field:h,text:this.opt("resourceGroupText"),render:this.opt("resourceGroupRender")}))),b=Ca(this.opt("resourceOrder")),u=[],m=0,q=b.length;m<q;m++){for(s=b[m],i=!1,n=0,r=g.length;n<r;n++)if(f=g[n],f.field===s.field){f.order=s.order,i=!0;break}i||u.push(s)}return this.superHeaderText=v,this.isVGrouping=k,this.isHGrouping=j,this.groupSpecs=g,this.colSpecs=e.concat(t),this.orderSpecs=u},c.prototype.renderSkeleton=function(){return c.__super__.renderSkeleton.apply(this,arguments),this.renderResourceGridSkeleton(),this.tbodyHash={spreadsheet:this.resourceGrid.tbodyEl,event:this.timeGrid.tbodyEl},this.joiner=new M("vertical",[this.resourceGrid.bodyScroller,this.timeGrid.bodyScroller]),this.initDividerMoving()},c.prototype.renderSkeletonHtml=function(){return'<table> <thead class="fc-head"> <tr> <td class="fc-resource-area '+this.widgetHeaderClass+'"></td> <td class="fc-divider fc-col-resizer '+this.widgetHeaderClass+'"></td> <td class="fc-time-area '+this.widgetHeaderClass+'"></td> </tr> </thead> <tbody class="fc-body"> <tr> <td class="fc-resource-area '+this.widgetContentClass+'"></td> <td class="fc-divider fc-col-resizer '+this.widgetHeaderClass+'"></td> <td class="fc-time-area '+this.widgetContentClass+'"></td> </tr> </tbody> </table>'},c.prototype.renderResourceGridSkeleton=function(){return this.resourceGrid.el=this.el.find("tbody .fc-resource-area"),this.resourceGrid.headEl=this.el.find("thead .fc-resource-area"),this.resourceGrid.renderSkeleton()},c.prototype.initDividerMoving=function(){var a;return this.dividerEls=this.el.find(".fc-divider"),this.dividerWidth=null!=(a=this.opt("resourceAreaWidth"))?a:this.resourceGrid.tableWidth,null!=this.dividerWidth&&this.positionDivider(this.dividerWidth),this.dividerEls.on("mousedown",function(a){return function(b){return a.dividerMousedown(b)}}(this))},c.prototype.dividerMousedown=function(a){var b,c,d,e,f;return c=this.opt("isRTL"),e=30,d=this.el.width()-30,f=this.getNaturalDividerWidth(),b=new i({dragStart:function(a){return function(){return a.dividerEls.addClass("fc-active")}}(this),drag:function(a){return function(b,g){var h;return h=c?f-b:f+b,h=Math.max(h,e),h=Math.min(h,d),a.dividerWidth=h,a.positionDivider(h),a.updateWidth()}}(this),dragStop:function(a){return function(){return a.dividerEls.removeClass("fc-active")}}(this)}),b.mousedown(a)},c.prototype.getNaturalDividerWidth=function(){return this.el.find(".fc-resource-area").width()},c.prototype.positionDivider=function(a){return this.el.find(".fc-resource-area").width(a)},c.prototype.renderEvents=function(a){return this.timeGrid.renderEvents(a),this.syncRowHeights(),this.updateWidth()},c.prototype.unrenderEvents=function(){return this.timeGrid.unrenderEvents(),this.syncRowHeights(),this.updateWidth()},c.prototype.updateWidth=function(){if(c.__super__.updateWidth.apply(this,arguments),this.resourceGrid.updateWidth(),this.joiner.update(),this.cellFollower)return this.cellFollower.update()},c.prototype.updateHeight=function(a){if(c.__super__.updateHeight.apply(this,arguments),a)return this.syncRowHeights()},c.prototype.setHeight=function(a,b){var c,d;return d=this.syncHeadHeights(),c=b?"auto":a-d-this.queryMiscHeight(),this.timeGrid.bodyScroller.setHeight(c),this.resourceGrid.bodyScroller.setHeight(c)},c.prototype.queryMiscHeight=function(){return this.el.outerHeight()-Math.max(this.resourceGrid.headScroller.el.outerHeight(),this.timeGrid.headScroller.el.outerHeight())-Math.max(this.resourceGrid.bodyScroller.el.outerHeight(),this.timeGrid.bodyScroller.el.outerHeight())},c.prototype.syncHeadHeights=function(){var a;return this.resourceGrid.headHeight("auto"),this.timeGrid.headHeight("auto"),a=Math.max(this.resourceGrid.headHeight(),this.timeGrid.headHeight()),this.resourceGrid.headHeight(a),this.timeGrid.headHeight(a),a},c.prototype.scrollToResource=function(a){return this.timeGrid.scrollToResource(a)},c.prototype.setResources=function(a){var b,c,d;for(this.batchRows(),b=0,c=a.length;b<c;b++)d=a[b],this.insertResource(d);return this.rowHierarchy.show(),this.unbatchRows(),this.reinitializeCellFollowers()},c.prototype.unsetResources=function(){return this.clearEvents(),this.batchRows(),this.rowHierarchy.removeChildren(),this.unbatchRows(),this.reinitializeCellFollowers()},c.prototype.addResource=function(a){return this.insertResource(a),this.reinitializeCellFollowers()},c.prototype.removeResource=function(a){var b;if(b=this.getResourceRow(a.id))return this.batchRows(),b.remove(),this.unbatchRows(),this.reinitializeCellFollowers()},c.prototype.cellFollower=null,c.prototype.reinitializeCellFollowers=function(){var b,c,d,e,f,g;for(this.cellFollower&&this.cellFollower.clearSprites(),this.cellFollower=new K(this.resourceGrid.bodyScroller),this.cellFollower.isHFollowing=!1,this.cellFollower.isVFollowing=!0,e=[],f=this.rowHierarchy.getNodes(),c=0,d=f.length;c<d;c++)g=f[c],g instanceof S&&g.groupTd&&(b=g.groupTd.find(".fc-cell-content"),b.length&&e.push(b[0]));return this.cellFollower.setSprites(a(e))},c.prototype.insertResource=function(a,b){var c,d,e,f,g,h,i;for(i=new C(this,a),null==b&&(f=a.parentId,f&&(b=this.getResourceRow(f))),
b?this.insertRowAsChild(i,b):this.insertRow(i),g=a.children,h=[],d=0,e=g.length;d<e;d++)c=g[d],h.push(this.insertResource(c,i));return h},c.prototype.insertRow=function(a,b,c){var d;return null==b&&(b=this.rowHierarchy),null==c&&(c=this.groupSpecs),c.length?(d=this.ensureResourceGroup(a,b,c[0]),d instanceof n?this.insertRowAsChild(a,d):this.insertRow(a,d,c.slice(1))):this.insertRowAsChild(a,b)},c.prototype.insertRowAsChild=function(a,b){return b.addChild(a,this.computeChildRowPosition(a,b))},c.prototype.computeChildRowPosition=function(a,b){var c,d,e,f,g,h;if(this.orderSpecs.length)for(g=b.children,d=e=0,f=g.length;e<f;d=++e)if(h=g[d],c=this.compareResources(h.resource||{},a.resource||{}),c>0)return d;return null},c.prototype.compareResources=function(a,b){return W(a,b,this.orderSpecs)},c.prototype.ensureResourceGroup=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,o;if(f=(a.resource||{})[c.field],e=null,c.order)for(l=b.children,g=h=0,j=l.length;h<j;g=++h){if(o=l[g],d=ga(o.groupValue,f)*c.order,0===d){e=o;break}if(d>0)break}else for(m=b.children,g=i=0,k=m.length;i<k;g=++i)if(o=m[g],o.groupValue===f){e=o;break}return e||(e=this.isVGrouping?new S(this,c,f):new n(this,c,f),b.addChild(e,g)),e},c.prototype.pairSegsWithRows=function(a){var b,c,d,e,f,g,h,i;for(e=[],f={},b=0,c=a.length;b<c;b++)i=a[b],g=i.resourceId,g&&(h=this.getResourceRow(g),h&&(d=f[g],d||(d=[h,[]],e.push(d),f[g]=d),d[1].push(i)));return e},c.prototype.rowAdded=function(a){var b,c;return a instanceof C&&(this.resourceRowHash[a.resource.id]=a),c=this.isNesting,b=Boolean(this.nestingCnt+=a.depth?1:0),c!==b&&(this.el.toggleClass("fc-nested",b),this.el.toggleClass("fc-flat",!b)),this.isNesting=b},c.prototype.rowRemoved=function(a){var b,c;return a instanceof C&&delete this.resourceRowHash[a.resource.id],c=this.isNesting,b=Boolean(this.nestingCnt-=a.depth?1:0),c!==b&&(this.el.toggleClass("fc-nested",b),this.el.toggleClass("fc-flat",!b)),this.isNesting=b},c.prototype.batchRowDepth=0,c.prototype.shownRowBatch=null,c.prototype.hiddenRowBatch=null,c.prototype.batchRows=function(){if(!this.batchRowDepth++)return this.shownRowBatch=[],this.hiddenRowBatch=[]},c.prototype.unbatchRows=function(){if(!--this.batchRowDepth)return this.hiddenRowBatch.length&&this.rowsHidden(this.hiddenRowBatch),this.shownRowBatch.length&&this.rowsShown(this.shownRowBatch),this.hiddenRowBatch=null,this.shownRowBatch=null},c.prototype.rowShown=function(a){return this.shownRowBatch?this.shownRowBatch.push(a):this.rowsShown([a])},c.prototype.rowHidden=function(a){return this.hiddenRowBatch?this.hiddenRowBatch.push(a):this.rowsHidden([a])},c.prototype.rowsShown=function(a){return this.syncRowHeights(a),this.updateWidth()},c.prototype.rowsHidden=function(a){return this.updateWidth()},c.prototype.syncRowHeights=function(a,b){var c,d,e,f,g,h,i,j,k,l;for(null==b&&(b=!1),null==a&&(a=this.getVisibleRows()),h=0,j=a.length;h<j;h++)l=a[h],l.setTrInnerHeight("");for(g=function(){var d,e,f;for(f=[],d=0,e=a.length;d<e;d++)l=a[d],c=l.getMaxTrInnerHeight(),b&&(c+=c%2),f.push(c);return f}(),f=i=0,k=a.length;i<k;f=++i)l=a[f],l.setTrInnerHeight(g[f]);if(!b&&(d=this.resourceGrid.tbodyEl.height(),e=this.timeGrid.tbodyEl.height(),Math.abs(d-e)>1))return this.syncRowHeights(a,!0)},c.prototype.getVisibleRows=function(){var a,b,c,d,e;for(c=this.rowHierarchy.getRows(),d=[],a=0,b=c.length;a<b;a++)e=c[a],e.isShown&&d.push(e);return d},c.prototype.getEventRows=function(){var a,b,c,d,e;for(c=this.rowHierarchy.getRows(),d=[],a=0,b=c.length;a<b;a++)e=c[a],e instanceof k&&d.push(e);return d},c.prototype.getResourceRow=function(a){return this.resourceRowHash[a]},c.prototype.setScroll=function(a){return c.__super__.setScroll.apply(this,arguments),this.resourceGrid.bodyScroller.scrollTop(a.top)},c}(Q),E=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return Na(c,b),c.mixin(z),c.prototype.eventRows=null,c.prototype.shownEventRows=null,c.prototype.tbodyEl=null,c.prototype.rowCoordCache=null,c.prototype.spanToSegs=function(a){var b,d,e,f,g,h;if(h=c.__super__.spanToSegs.apply(this,arguments),b=this.view.calendar,f=a.resourceId)for(d=0,e=h.length;d<e;d++)g=h[d],g.resource=b.getResourceById(f),g.resourceId=f;return h},c.prototype.prepareHits=function(){var a,b;return c.__super__.prepareHits.apply(this,arguments),this.eventRows=this.view.getEventRows(),this.shownEventRows=function(){var b,c,d,e;for(d=this.eventRows,e=[],b=0,c=d.length;b<c;b++)a=d[b],a.isShown&&e.push(a);return e}.call(this),b=function(){var b,c,d,e;for(d=this.shownEventRows,e=[],b=0,c=d.length;b<c;b++)a=d[b],e.push(a.getTr("event")[0]);return e}.call(this),this.rowCoordCache=new g({els:b,isVertical:!0}),this.rowCoordCache.build()},c.prototype.releaseHits=function(){return c.__super__.releaseHits.apply(this,arguments),this.eventRows=null,this.shownEventRows=null,this.rowCoordCache.clear()},c.prototype.queryHit=function(a,b){var d,e;if(e=c.__super__.queryHit.apply(this,arguments),e&&(d=this.rowCoordCache.getVerticalIndex(b),null!=d))return{resourceId:this.shownEventRows[d].resource.id,snap:e.snap,component:this,left:e.left,right:e.right,top:this.rowCoordCache.getTopOffset(d),bottom:this.rowCoordCache.getBottomOffset(d)}},c.prototype.getHitSpan=function(a){var b;return b=this.getSnapRange(a.snap),b.resourceId=a.resourceId,b},c.prototype.getHitEl=function(a){return this.getSnapEl(a.snap)},c.prototype.renderSkeleton=function(){var b;return c.__super__.renderSkeleton.apply(this,arguments),this.segContainerEl.remove(),this.segContainerEl=null,b=a('<div class="fc-rows"><table><tbody/></table></div>').appendTo(this.bodyScroller.contentEl),this.tbodyEl=b.find("tbody")},c.prototype.renderFgSegs=function(a){var b,c,d,e,f,g,h;for(a=this.renderFgSegEls(a),g=this.view.pairSegsWithRows(a),h=[],d=0,e=g.length;d<e;d++)f=g[d],b=f[0],c=f[1],b.fgSegs=c,b.isShown&&(b.isSegsRendered=!0,h.push(f));return this.renderFgSegsInContainers(h),this.updateSegFollowers(a),a},c.prototype.unrenderFgSegs=function(){var a,b,c,d;for(this.clearSegFollowers(),b=this.view.getEventRows(),c=0,d=b.length;c<d;c++)a=b[c],a.fgSegs=null,a.isSegsRendered=!1;return this.unrenderFgContainers(b)},c.prototype.renderFill=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o;for(b=this.renderFillSegEls(a,b),k=[],h=[],d=0,f=b.length;d<f;d++)n=b[d],n.resourceId?k.push(n):h.push(n);for(j=this.view.pairSegsWithRows(k),o=[],e=0,g=j.length;e<g;e++)i=j[e],l=i[0],m=i[1],"bgEvent"===a&&(l.bgSegs=m),l.isShown&&o.push(i);return h.length&&o.unshift([this,h]),this.renderFillInContainers(a,o,c),b},c.prototype.renderHelper=function(a,b){var c,d;return d=this.eventToSegs(a),d=this.renderFgSegEls(d),c=this.view.pairSegsWithRows(d),this.renderHelperSegsInContainers(c,b)},c.prototype.computeInitialScroll=function(a){var b;return b=c.__super__.computeInitialScroll.apply(this,arguments),a&&(b.resourceId=a.resourceId,b.bottom=a.bottom),b},c.prototype.queryScroll=function(){var a,b,d,e,f,g,h,i;for(i=c.__super__.queryScroll.apply(this,arguments),h=this.bodyScroller.scrollEl.offset().top,f=this.view.getVisibleRows(),d=0,e=f.length;d<e;d++)if(g=f[d],g.resource&&(a=g.getTr("event"),b=a.offset().top+a.outerHeight(),b>h)){i.resourceId=g.resource.id,i.bottom=b-h;break}return i},c.prototype.setScroll=function(a){var b,d,e,f;return a.resourceId&&(f=this.view.getResourceRow(a.resourceId),f&&(b=f.getTr("event"),b&&(e=this.bodyScroller.innerEl.offset().top,d=b.offset().top+b.outerHeight(),a.top=d-a.bottom-e))),c.__super__.setScroll.call(this,a)},c.prototype.scrollToResource=function(a){var b,c,d,e;if(d=this.view.getResourceRow(a.id),d&&(b=d.getTr("event")))return c=this.bodyScroller.innerEl.offset().top,e=b.offset().top-c,this.bodyScroller.scrollEl.scrollTop(e)},c}(P),c=30,O=function(){function b(a){var b;this.view=a,this.isRTL=this.view.opt("isRTL"),this.givenColWidths=this.colWidths=function(){var a,c,d,e;for(d=this.view.colSpecs,e=[],a=0,c=d.length;a<c;a++)b=d[a],e.push(b.width);return e}.call(this)}return b.prototype.view=null,b.prototype.headEl=null,b.prototype.el=null,b.prototype.tbodyEl=null,b.prototype.headScroller=null,b.prototype.bodyScroller=null,b.prototype.joiner=null,b.prototype.colGroupHtml="",b.prototype.headTable=null,b.prototype.headColEls=null,b.prototype.headCellEls=null,b.prototype.bodyColEls=null,b.prototype.bodyTable=null,b.prototype.renderSkeleton=function(){return this.headScroller=new N("invisible-scroll","hidden"),this.headScroller.contentEl.html(this.renderHeadHtml()),this.headEl.append(this.headScroller.el),this.bodyScroller=new N("auto","invisible-scroll"),this.bodyScroller.contentEl.html("<table>"+this.colGroupHtml+"<tbody/></table>"),this.tbodyEl=this.bodyScroller.contentEl.find("tbody"),this.el.append(this.bodyScroller.el),this.joiner=new M("horizontal",[this.headScroller,this.bodyScroller]),this.headTable=this.headEl.find("table"),this.headColEls=this.headEl.find("col"),this.headCellEls=this.headScroller.contentEl.find("tr:last-child th"),this.bodyColEls=this.el.find("col"),this.bodyTable=this.el.find("table"),this.colMinWidths=this.computeColMinWidths(),this.applyColWidths(),this.initColResizing()},b.prototype.renderHeadHtml=function(){var a,b,c,d,e,f,g,h,i,j,k;for(b=this.view.colSpecs,c="<table>",a="<colgroup>",g=0,i=b.length;g<i;g++)k=b[g],a+=k.isMain?'<col class="fc-main-col"/>':"<col/>";for(a+="</colgroup>",this.colGroupHtml=a,c+=a,c+="<tbody>",this.view.superHeaderText&&(c+='<tr class="fc-super"><th class="'+this.view.widgetHeaderClass+'" colspan="'+b.length+'"><div class="fc-cell-content"><span class="fc-cell-text">'+oa(this.view.superHeaderText)+"</span></div></th></tr>"),c+="<tr>",f=!0,d=h=0,j=b.length;h<j;d=++h)k=b[d],e=d===b.length-1,c+='<th class="'+this.view.widgetHeaderClass+'"><div><div class="fc-cell-content">'+(k.isMain?'<div class="fc-icon fc-expander-space" />':"")+'<span class="fc-cell-text">'+oa(k.labelText||"")+"</span></div>"+(e?"":'<div class="fc-col-resizer"></div>')+"</div></th>";return c+="</tr>",c+="</tbody></table>"},b.prototype.givenColWidths=null,b.prototype.colWidths=null,b.prototype.colMinWidths=null,b.prototype.tableWidth=null,b.prototype.tableMinWidth=null,b.prototype.initColResizing=function(){return this.headEl.find("th .fc-col-resizer").each(function(b){return function(c,d){return d=a(d),d.on("mousedown",function(a){return b.colResizeMousedown(c,a,d)})}}(this))},b.prototype.colResizeMousedown=function(a,b,d){var e,f,g,h;return e=this.colWidths=this.queryColWidths(),e.pop(),e.push(null),h=e[a],g=Math.min(this.colMinWidths[a],c),f=new i({dragStart:function(a){return function(){return d.addClass("fc-active")}}(this),drag:function(b){return function(c,d){var f;return f=h+(b.isRTL?-c:c),f=Math.max(f,g),e[a]=f,b.applyColWidths()}}(this),dragStop:function(a){return function(){return d.removeClass("fc-active")}}(this)}),f.mousedown(b)},b.prototype.applyColWidths=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;for(c=this.colMinWidths,e=this.colWidths,a=!0,b=!1,q=0,j=0,m=e.length;j<m;j++)d=e[j],"number"==typeof d?q+=d:(a=!1,d&&(b=!0));for(h=b&&!this.view.isHGrouping?"auto":"",g=function(){var a,b,c;for(c=[],i=a=0,b=e.length;a<b;i=++a)d=e[i],c.push(null!=d?d:h);return c}(),p=0,i=k=0,n=g.length;k<n;i=++k)f=g[i],p+="number"==typeof f?f:c[i];for(i=l=0,o=g.length;l<o;i=++l)f=g[i],this.headColEls.eq(i).width(f),this.bodyColEls.eq(i).width(f);return this.headScroller.setContentMinWidth(p),this.bodyScroller.setContentMinWidth(p),this.tableMinWidth=p,this.tableWidth=a?q:void 0},b.prototype.computeColMinWidths=function(){var a,b,d,e,f,g;for(e=this.givenColWidths,f=[],a=b=0,d=e.length;b<d;a=++b)g=e[a],"number"==typeof g?f.push(g):f.push(parseInt(this.headColEls.eq(a).css("min-width"))||c);return f},b.prototype.queryColWidths=function(){var b,c,d,e,f;for(e=this.headCellEls,f=[],b=0,c=e.length;b<c;b++)d=e[b],f.push(a(d).outerWidth());return f},b.prototype.updateWidth=function(){if(this.headScroller.update(),this.bodyScroller.update(),this.joiner.update(),this.follower)return this.follower.update()},b.prototype.headHeight=function(){var a;return a=this.headScroller.contentEl.find("table"),a.height.apply(a,arguments)},b}(),I=function(){function b(b){this.view=b,this.children=[],this.trHash={},this.trs=a()}return b.prototype.view=null,b.prototype.parent=null,b.prototype.prevSibling=null,b.prototype.children=null,b.prototype.depth=0,b.prototype.hasOwnRow=!1,b.prototype.trHash=null,b.prototype.trs=null,b.prototype.isRendered=!1,b.prototype.isExpanded=!0,b.prototype.isShown=!1,b.prototype.addChild=function(a,b){var c,d,e,f,g;for(a.remove(),c=this.children,null!=b?c.splice(b,0,a):(b=c.length,c.push(a)),a.prevSibling=b>0?c[b-1]:null,b<c.length-1&&(c[b+1].prevSibling=a),a.parent=this,a.depth=this.depth+(this.hasOwnRow?1:0),g=a.getNodes(),d=0,e=g.length;d<e;d++)f=g[d],f.added();if(this.isShown&&this.isExpanded)return a.show()},b.prototype.removeChild=function(a){var b,c,d,e,f,g,h,i,j,k;for(b=this.children,d=!1,c=e=0,g=b.length;e<g;c=++e)if(k=b[c],k===a){d=!0;break}if(d){for(c<b.length-1&&(b[c+1].prevSibling=a.prevSibling),b.splice(c,1),a.recursivelyUnrender(),i=a.getNodes(),f=0,h=i.length;f<h;f++)j=i[f],j.removed();return a.parent=null,a.prevSibling=null,a}return!1},b.prototype.removeChildren=function(){var a,b,c,d,e,f,g;for(f=this.children,b=0,d=f.length;b<d;b++)a=f[b],a.recursivelyUnrender();for(g=this.getDescendants(),c=0,e=g.length;c<e;c++)a=g[c],a.removed();return this.children=[]},b.prototype.remove=function(){if(this.parent)return this.parent.removeChild(this)},b.prototype.getLastChild=function(){var a;return a=this.children,a[a.length-1]},b.prototype.getPrevRow=function(){var a,b;for(b=this;b;){if(b.prevSibling)for(b=b.prevSibling;a=b.getLastChild();)b=a;else b=b.parent;if(b&&b.hasOwnRow&&b.isShown)return b}return null},b.prototype.getLeadingRow=function(){return this.hasOwnRow?this:this.isExpanded&&this.children.length?this.children[0].getLeadingRow():void 0},b.prototype.getRows=function(a){var b,c,d,e;for(null==a&&(a=[]),this.hasOwnRow&&a.push(this),e=this.children,c=0,d=e.length;c<d;c++)b=e[c],b.getRows(a);return a},b.prototype.getNodes=function(a){var b,c,d,e;for(null==a&&(a=[]),a.push(this),e=this.children,c=0,d=e.length;c<d;c++)b=e[c],b.getNodes(a);return a},b.prototype.getDescendants=function(){var a,b,c,d,e;for(a=[],e=this.children,c=0,d=e.length;c<d;c++)b=e[c],b.getNodes(a);return a},b.prototype.render=function(){var b,c,d,e,f,g,h;if(this.trHash={},g=[],this.hasOwnRow){b=this.getPrevRow(),c=this.view.tbodyHash;for(h in c)e=c[h],f=a("<tr/>"),this.trHash[h]=f,g.push(f[0]),d="render"+V(h)+"Content",this[d]&&this[d](f),b?b.trHash[h].after(f):e.prepend(f)}return this.trs=a(g).on("click",".fc-expander",Ea(this,"toggleExpanded")),this.isRendered=!0},b.prototype.unrender=function(){var b,c,d,e;if(this.isRendered){b=this.trHash;for(d in b)c=b[d],e="unrender"+V(d)+"Content",this[e]&&this[e](c);return this.trHash={},this.trs.remove(),this.trs=a(),this.isRendered=!1,this.isShown=!1,this.hidden()}},b.prototype.recursivelyUnrender=function(){var a,b,c,d,e;for(this.unrender(),d=this.children,e=[],b=0,c=d.length;b<c;b++)a=d[b],e.push(a.recursivelyUnrender());return e},b.prototype.getTr=function(a){return this.trHash[a]},b.prototype.show=function(){var a,b,c,d,e;if(!this.isShown&&(this.isRendered?this.trs.css("display",""):this.render(),this.ensureSegsRendered&&this.ensureSegsRendered(),this.isExpanded?this.indicateExpanded():this.indicateCollapsed(),this.isShown=!0,this.shown(),this.isExpanded)){for(d=this.children,e=[],b=0,c=d.length;b<c;b++)a=d[b],e.push(a.show());return e}},b.prototype.hide=function(){var a,b,c,d,e;if(this.isShown&&(this.isRendered&&this.trs.hide(),this.isShown=!1,this.hidden(),this.isExpanded)){for(d=this.children,e=[],b=0,c=d.length;b<c;b++)a=d[b],e.push(a.hide());return e}},b.prototype.expand=function(){var a,b,c,d;if(!this.isExpanded){for(this.isExpanded=!0,this.indicateExpanded(),this.view.batchRows(),d=this.children,b=0,c=d.length;b<c;b++)a=d[b],a.show();return this.view.unbatchRows(),this.animateExpand()}},b.prototype.collapse=function(){var a,b,c,d;if(this.isExpanded){for(this.isExpanded=!1,this.indicateCollapsed(),this.view.batchRows(),d=this.children,b=0,c=d.length;b<c;b++)a=d[b],a.hide();return this.view.unbatchRows()}},b.prototype.toggleExpanded=function(){return this.isExpanded?this.collapse():this.expand()},b.prototype.indicateExpanded=function(){return this.trs.find(".fc-expander").removeClass(this.getCollapsedIcon()).addClass(this.getExpandedIcon())},b.prototype.indicateCollapsed=function(){return this.trs.find(".fc-expander").removeClass(this.getExpandedIcon()).addClass(this.getCollapsedIcon())},b.prototype.enableExpanding=function(){return this.trs.find(".fc-expander-space").addClass("fc-expander")},b.prototype.disableExpanding=function(){return this.trs.find(".fc-expander-space").removeClass("fc-expander").removeClass(this.getExpandedIcon()).removeClass(this.getCollapsedIcon())},b.prototype.getExpandedIcon=function(){return"fc-icon-down-triangle"},b.prototype.getCollapsedIcon=function(){var a;return a=this.view.isRTL?"left":"right","fc-icon-"+a+"-triangle"},b.prototype.animateExpand=function(){var a,b,c;if(c=null!=(a=this.children[0])&&null!=(b=a.getLeadingRow())?b.trs:void 0)return c.addClass("fc-collapsed"),setTimeout(function(){return c.addClass("fc-transitioning"),c.removeClass("fc-collapsed")}),c.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){return c.removeClass("fc-transitioning")})},b.prototype.getMaxTrInnerHeight=function(){var b;return b=0,a.each(this.trHash,function(a){return function(a,c){var d;return d=ha(c).find("> div:not(.fc-cell-content):first"),b=Math.max(d.height(),b)}}(this)),b},b.prototype.setTrInnerHeight=function(b){return a.each(this.trHash,function(a){return function(a,c){return ha(c).find("> div:not(.fc-cell-content):first").height(b)}}(this))},b.prototype.shown=function(){if(this.hasOwnRow)return this.rowShown(this)},b.prototype.hidden=function(){if(this.hasOwnRow)return this.rowHidden(this)},b.prototype.rowShown=function(a){return(this.parent||this.view).rowShown(a)},b.prototype.rowHidden=function(a){return(this.parent||this.view).rowHidden(a)},b.prototype.added=function(){if(this.hasOwnRow)return this.rowAdded(this)},b.prototype.removed=function(){if(this.hasOwnRow)return this.rowRemoved(this)},b.prototype.rowAdded=function(a){return(this.parent||this.view).rowAdded(a)},b.prototype.rowRemoved=function(a){return(this.parent||this.view).rowRemoved(a)},b}(),H=function(b){function c(a,b,d){this.groupSpec=b,this.groupValue=d,c.__super__.constructor.apply(this,arguments)}return Na(c,b),c.prototype.groupSpec=null,c.prototype.groupValue=null,c.prototype.rowRemoved=function(a){if(c.__super__.rowRemoved.apply(this,arguments),a!==this&&!this.children.length)return this.remove()},c.prototype.renderGroupContentEl=function(){var b,c;return b=a('<div class="fc-cell-content" />').append(this.renderGroupTextEl()),c=this.groupSpec.render,"function"==typeof c&&(b=c(b,this.groupValue)||b),b},c.prototype.renderGroupTextEl=function(){var b,c;return c=this.groupValue||"",b=this.groupSpec.text,"function"==typeof b&&(c=b(c)||c),a('<span class="fc-cell-text" />').text(c)},c}(I),n=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return Na(c,b),c.prototype.hasOwnRow=!0,c.prototype.renderSpreadsheetContent=function(b){var c;return c=this.renderGroupContentEl(),c.prepend('<span class="fc-icon fc-expander" />'),a('<td class="fc-divider" />').attr("colspan",this.view.colSpecs.length).append(a("<div/>").append(c)).appendTo(b)},c.prototype.renderEventContent=function(a){return a.append('<td class="fc-divider"> <div/> </td>')},c}(H),S=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return Na(c,b),c.prototype.rowspan=0,c.prototype.leadingTr=null,c.prototype.groupTd=null,c.prototype.rowShown=function(a){return this.rowspan+=1,this.renderRowspan(),c.__super__.rowShown.apply(this,arguments)},c.prototype.rowHidden=function(a){return this.rowspan-=1,this.renderRowspan(),c.__super__.rowHidden.apply(this,arguments)},c.prototype.renderRowspan=function(){var b;return this.rowspan?(this.groupTd||(this.groupTd=a('<td class="'+this.view.widgetContentClass+'"/>').append(this.renderGroupContentEl())),this.groupTd.attr("rowspan",this.rowspan),b=this.getLeadingRow().getTr("spreadsheet"),b!==this.leadingTr?(b&&b.prepend(this.groupTd),this.leadingTr=b):void 0):(this.groupTd&&(this.groupTd.remove(),this.groupTd=null),this.leadingTr=null)},c}(H),k=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return Na(b,a),b.prototype.hasOwnRow=!0,b.prototype.segContainerEl=null,b.prototype.segContainerHeight=null,b.prototype.innerEl=null,b.prototype.bgSegContainerEl=null,b.prototype.isSegsRendered=!1,b.prototype.bgSegs=null,b.prototype.fgSegs=null,b.prototype.renderEventContent=function(a){return a.html('<td class="'+this.view.widgetContentClass+'"> <div> <div class="fc-event-container" /> </div> </td>'),this.segContainerEl=a.find(".fc-event-container"),this.innerEl=this.bgSegContainerEl=a.find("td > div"),this.ensureSegsRendered()},b.prototype.ensureSegsRendered=function(){if(!this.isSegsRendered)return this.bgSegs&&this.view.timeGrid.renderFillInContainer("bgEvent",this,this.bgSegs),this.fgSegs&&this.view.timeGrid.renderFgSegsInContainers([[this,this.fgSegs]]),this.isSegsRendered=!0},b.prototype.unrenderEventContent=function(){return this.bgSegs=null,this.fgSegs=null,this.isSegsRendered=!1},b}(I),C=function(b){function c(a,b){this.resource=b,c.__super__.constructor.apply(this,arguments)}return Na(c,b),c.prototype.resource=null,c.prototype.rowAdded=function(a){if(c.__super__.rowAdded.apply(this,arguments),a!==this&&this.isRendered&&1===this.children.length)return this.enableExpanding(),this.isExpanded?this.indicateExpanded():this.indicateCollapsed()},c.prototype.rowRemoved=function(a){if(c.__super__.rowRemoved.apply(this,arguments),a!==this&&this.isRendered&&!this.children.length)return this.disableExpanding()},c.prototype.render=function(){return c.__super__.render.apply(this,arguments),this.children.length>0?this.enableExpanding():this.disableExpanding(),this.view.trigger("resourceRender",this.resource,this.resource,this.getTr("spreadsheet").find("> td"),this.getTr("event").find("> td"))},c.prototype.renderEventContent=function(a){return c.__super__.renderEventContent.apply(this,arguments),a.attr("data-resource-id",this.resource.id)},c.prototype.renderSpreadsheetContent=function(b){var c,d,e,f,g,h,i,j,k;for(i=this.resource,h=this.view.colSpecs,f=0,g=h.length;f<g;f++)c=h[f],c.group||(e=c.field?i[c.field]||null:i,k="function"==typeof c.text?c.text(i,e):e,d=a('<div class="fc-cell-content">'+(c.isMain?this.renderGutterHtml():"")+'<span class="fc-cell-text">'+(k?oa(k):"&nbsp;")+"</span></div>"),"function"==typeof c.render&&(d=c.render(i,d,e)||d),j=a('<td class="'+this.view.widgetContentClass+'"/>').append(d),c.isMain&&j.wrapInner("<div/>"),b.append(j));return b.attr("data-resource-id",i.id)},c.prototype.renderGutterHtml=function(){var a,b,c,d;for(a="",b=c=0,d=this.depth;c<d;b=c+=1)a+='<span class="fc-icon"/>';return a+='<span class="fc-icon fc-expander-space"/>'},c}(k),l.views.timeline.resourceClass=F,v=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return Na(b,a),b.mixin(G),b.prototype.timeGridClass=D,b.prototype.dayGridClass=x,b.prototype.renderHead=function(){return b.__super__.renderHead.apply(this,arguments),this.timeGrid.processHeadResourceEls(this.headContainerEl)},b.prototype.setResources=function(a){return this.timeGrid.setResources(a),this.dayGrid&&this.dayGrid.setResources(a),this.clearView(),this.displayView()},b.prototype.unsetResources=function(){return this.clearEvents(),this.timeGrid.unsetResources(),this.dayGrid&&this.dayGrid.unsetResources(),this.clearView(),this.displayView()},b}(l.AgendaView),l.views.agenda.queryResourceClass=function(a){var b;if(null!=(b=a.options.groupByResource||a.options.groupByDateAndResource)?b:1===a.duration.as("days"))return v},w=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return Na(b,a),b.mixin(G),b.prototype.dayGridClass=x,b.prototype.renderHead=function(){return b.__super__.renderHead.apply(this,arguments),this.dayGrid.processHeadResourceEls(this.headContainerEl)},b.prototype.setResources=function(a){return this.dayGrid.setResources(a),this.clearView(),this.displayView()},b.prototype.unsetResources=function(){return this.clearEvents(),this.dayGrid.unsetResources(),this.clearView(),this.displayView()},b}(l.BasicView),B=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return Na(b,a),b.mixin(G),b.prototype.dayGridClass=x,b.prototype.renderHead=function(){return b.__super__.renderHead.apply(this,arguments),this.dayGrid.processHeadResourceEls(this.headContainerEl)},b.prototype.setResources=function(a){return this.dayGrid.setResources(a),this.clearView(),this.displayView()},b.prototype.unsetResources=function(){return this.clearEvents(),this.dayGrid.unsetResources(),this.clearView(),this.displayView()},b}(l.MonthView),l.views.basic.queryResourceClass=function(a){var b;if(null!=(b=a.options.groupByResource||a.options.groupByDateAndResource)?b:1===a.duration.as("days"))return w},l.views.month.queryResourceClass=function(a){if(a.options.groupByResource||a.options.groupByDateAndResource)return B},u="2016-02-18",R={years:1,weeks:1},o="http://fullcalendar.io/scheduler/license/",t=["GPL-My-Project-Is-Open-Source","CC-Attribution-NonCommercial-NoDerivatives"],Da=function(a,b){if(!ra(window.location.href)&&!ta(a)&&!ca(b))return Fa('Please use a valid license key. <a href="'+o+'">More Info</a>',b)},ta=function(c){var d,e,f,g;return a.inArray(c,t)!==-1||(e=(c||"").match(/^(\d+)\-fcs\-(\d+)$/),!!(e&&10===e[1].length&&(f=b.utc(1e3*parseInt(e[2])),g=b.utc(l.mockSchedulerReleaseDate||u),g.isValid()&&(d=g.clone().subtract(R),f.isAfter(d)))))},ra=function(a){return Boolean(a.match(/\w+\:\/\/fullcalendar\.io\/|\/demos\/[\w-]+\.html$/))},Fa=function(b,c){return c.append(a('<div class="fc-license-message" />').html(b))},void(ca=function(a){return a.find(".fc-license-message").length>=1}))});