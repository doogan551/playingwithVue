// iToast justspamjustin copyright 2012
var iToast=function(){var DefaultToastOpts={icon:"certificate",position:"bottom right",pauseTime:4e3,outAnimation:"flyout-fadeout",inAnimation:"flyin",theme:"default",showCloseButton:true,pauseOnHover:true,returnAfterHoverTime:1e3,title:undefined,type:"general",iconColor:"none",onClick:function(e){},getToastHTML:function(e,t,n){return['<div class="itoast-inner-container">',' <div class="itoast-close-button">','   <i class="icon-remove"></i>'," </div>",' <div class="itoast-icon-container"><i class="fa fa-'+n+'"></i></div>',' <div class="itoast-title-container">','  <span class="itoast-title">'+t+"</span>"," </div>",' <div class="itoast-message-container">','  <span class="itoast-message">'+e+"</span>"," </div>","</div>"].join("\n")}};return{toasts:[],showToast:function(e,t){t=this._objectExtend({},DefaultToastOpts,t);var n=t.icon;var r=t.position;var i=t.title||"";var s=t.getToastHTML(e,i,n);var o=window.document.createElement("div");o.innerHTML=s;var u=t.showCloseButton?"show-close":"";var a=t.title?"has-title":"";var f=["itoast-main-container",r,"animate-"+t.inAnimation,"theme-"+t.theme,u,a,"type-"+t.type];o.className=f.join(" ");window.document.body.appendChild(o);this.toasts.push(t);t.toastEl=o;this._addIconColor(t);this._animateIn(t);this._setUpEvents(t);this._pause(t);this._adjustPositions()},showNotification:function(e,t,n){n=n||{};n.title=e;this.showToast(t,n)},showWarn:function(e,t,n){n=n||{};n.title=e;n.type="warn";n.icon="warning";this.showToast(t,n)},showError:function(e,t,n){n=n||{};n.title=e;n.type="error";n.icon="exclamation";this.showToast(t,n)},showSuccess:function(e,t,n){n=n||{};n.title=e;n.type="success";n.icon="check";this.showToast(t,n)},showCool:function(e,t,n){n=n||{};n.title=e;n.type="cool";n.icon="thumbs-up";this.showToast(t,n)},showAsphalt:function(e,t,n){n=n||{};n.title=e;n.theme="asphalt";this.showToast(t,n)},showJetBlack:function(e,t,n){n=n||{};n.title=e;n.theme="jetblack";this.showToast(t,n)},showFrosted:function(e,t,n){n=n||{};n.title=e;n.theme="frosted";this.showToast(t,n)},_addIconColor:function(e){if(e.iconColor!=="none"){var t=e.toastEl.getElementsByClassName("itoast-icon-container")[0];t.style.color=e.iconColor}},_adjustPositions:function(){var topEls=[];var bottomEls=[];var tops=[];var bottoms=[];if(this.toasts.length>1){for(var i=0;i<this.toasts.length;i++){var toastEl=this.toasts[i].toastEl;var separation=0;var position=0;var isTop=this.toasts[i].position.indexOf("top")!=-1;if(isTop){if(topEls.length>0){var topEl=topEls.pop();separation=topEl.offsetHeight-20;topEls.push(topEl)}tops.push(separation);topEls.push(toastEl);position=eval(tops.join("+"));toastEl.style.top=position+"px"}else{if(bottomEls.length>0){var bottomEl=bottomEls.pop();separation=bottomEl.offsetHeight-20;bottomEls.push(bottomEl)}bottoms.push(separation);bottomEls.push(toastEl);position=eval(bottoms.join("+"));toastEl.style.bottom=position+"px"}}}},_animateIn:function(e){var t=e.toastEl.className.split(" ");var n=this._findAnimateClass(t);t.splice(n,1);var r=t.join(" ");var i=this;setTimeout(function(){e.toastEl.className=r},20)},_pause:function(e){var t=this;e.pauseId=setTimeout(function(){t._afterPause(e)},e.pauseTime)},_afterPause:function(e){this._animateOut(e)},_animateOut:function(e){var t=e.toastEl.className.split(" ");t.push("animate-"+e.outAnimation);e.toastEl.className=t.join(" ");this._afterAnimateOut(e)},_afterAnimateOut:function(e){var t=e.toastEl;var n=this;setTimeout(function(){n._tearDownEvents(e);if(t.parentNode){t.parentNode.removeChild(t);n.toasts.splice(0,1);n._adjustPositions()}},500)},_setUpEvents:function(e){e.closeButton=e.toastEl.getElementsByClassName("itoast-close-button")[0];var t=this;e.closeButton.onclick=function(n){var r=n?n:window.event;if(r.stopPropagation)r.stopPropagation();if(r.cancelBubble!=null)r.cancelBubble=true;t._onClickClose.call(t,n,e)};e.toastEl.onmouseover=function(n){t._onMouseOverNotification(n,e)};e.toastEl.onmouseout=function(n){t._onMouseOutNotification(n,e)};e.toastEl.onclick=function(n){t._onClick(n,e)}},_onClick:function(e,t){t.onClick(e)},_tearDownEvents:function(e){e.closeButton.onclick=null;e.toastEl.onmouseover=null;e.toastEl.onmouseout=null;e.toastEl.onclick=null},_onClickClose:function(e,t){clearTimeout(t.pauseId);this._afterPause(t)},_onMouseOverNotification:function(e,t){if(t.pauseOnHover){clearTimeout(t.pauseId)}},_onMouseOutNotification:function(e,t){if(t.pauseOnHover){var n=this;t.pauseId=setTimeout(function(){n._afterPause(t)},t.returnAfterHoverTime)}},_findAnimateClass:function(e){var t=-1;for(var n=0;n<e.length;n++){if(e[n].indexOf("animate-")==0){t=n}}return t},_objectExtend:function(e){this._each(Array.prototype.slice.call(arguments,1),function(t){for(var n in t){e[n]=t[n]}});return e},_each:function(e,t,n){if(e==null)return;if(Array.prototype.forEach&&e.forEach===Array.prototype.forEach){e.forEach(t,n)}else if(e.length===+e.length){for(var r=0,i=e.length;r<i;r++){if(t.call(n,e[r],r,e)==={})return}}else{for(var s in e){if(e.hasOwnProperty(s)){if(t.call(n,e[s],s,e)==={})return}}}}}}()