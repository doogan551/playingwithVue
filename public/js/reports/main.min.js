"use strict";var dorsett=dorsett||{};dorsett.reportUI=function(a,b,c){return{props:[],pointFilter:c["Report Config"]&&c["Report Config"].pointFilter||{name1:"",name2:"",name3:"",name4:"",pointTypes:[]},columnGrid:{},filterGrid:{},unTabbed:null,isNew:1===c._pStatus,reportId:c._id,hideDivBlockOnly:function(){b.stop(),$.unblockUI()},hideDivBlock:function(a,b){this.hideDivBlockOnly(),a.length>0?(this.blockFunction(b?"<h4 class='alert alert-danger'>"+b+"</h4>":"<div class='alert alert-danger'>Error Occurred! If error persists, please contact System Administrator!!</div>"),this.aspNetErrorOccured=!0,setTimeout($.unblockUI,3e3),$("#tabs  li:eq(1)").hide().removeClass("active"),$("#tabs  li:eq(2)").hide().removeClass("active"),$("#tabs  li:eq(0)").show().addClass("active"),$("#tabConfiguration").addClass("active"),$("#tabPreview").removeClass("active"),$("#tabDesign").removeClass("active")):this.isNew||$("#tabs  li:eq(2)").show()},blockCss:{border:"none",padding:"5px",backgroundColor:"#666","-webkit-border-radius":"10px","-moz-border-radius":"10px",opacity:.8,color:"#ccc",cursor:"default",top:"25%"},blockFunction:function(a){$.blockUI({message:a,css:this.blockCss})},busyImage:"<img src='/img/busy.gif' alt='Busy...' />",init:function(){var d=this,e=a.config.Enums.Properties;for(var f in e)e[f].reportEnable&&d.props.push({name:f,value:e[f]});$("#tabs  li:eq(1)").hide(),$("#tabs  li:eq(2)").hide(),c&&$("#reportTitle").val(title),c._pStatus&&$(".container").css({"background-color":"#c44e4e"}),$("#panelbar").kendoPanelBar({expandMode:"multiple"}),$(document).on("shown.bs.tab",'a[data-toggle="tab"]',function(a){switch(a.target.hash){case"#tabPreview":d.reportPreview();break;case"#tabDesign":d.reportDesign()}}),$(document).on("dblclick",'a[data-toggle="tab"]',function(a){switch(a.target.hash){case"#tabDesign":d.tabDoubleClick("designer");break;case"#tabPreview":d.tabDoubleClick("preview")}}),$(".container").dblclick(function(){d.columnGrid.clearSelection(),d.filterGrid.clearSelection()});{var g=function(){$(".ob-icon-only","#columnGrid").parent().css("min-width",0),$(".k-grid-content > table > tbody > tr").hover(function(){$(this).toggleClass("k-state-hover")})},h=function(){$(".ob-icon-only","#filterGrid").parent().css("min-width",0),$(".k-grid-content > table > tbody > tr").hover(function(){$(this).toggleClass("k-state-hover")})};kendo.template($("#edit-template").html())}if(d.columnGrid=$("#columnGrid").kendoGrid({dataSource:d.fillGrid,editable:!0,selectable:!0,edit:function(a){var b=a.container.find("input");setTimeout(function(){b.select()},25)},dataBound:g,columns:[{field:"name",template:"#=data.name#",editor:function(a,b){var c=$("<input />");c.attr("name",b.field),c.appendTo(a),c.kendoComboBox({dataSource:d.props,dataTextField:"name",dataValueField:"value",filter:"contains",highlightFirst:!1,placeHolder:"Select Name",select:d.onColumnNamePropertySelect,change:function(){var a=this,b=window.dorsett.reportUI.columnGrid,c=b.dataItem(b.select());d.ensureComboBoxValue(a,"name",function(d){-1===d?c.name="[Column Not Set]":(c.name=a.dataSource._data[d].name,c.valueType=a.dataSource._data[d].value.valueType,b.refresh())})}})},title:"Column Name"},{command:[{name:"Add",text:"",click:d.addColumnRow,"class":"ob-icon-only",imageClass:"k-icon k-si-plus ob-icon-only"},{name:"destroy1",text:"",click:d.removeColumnRow,"class":"ob-icon-only",imageClass:"k-icon k-si-minus ob-icon-only"}],title:" "}]}).data("kendoGrid"),d.columnGrid.table.kendoSortable({filter:">tbody >tr",cursor:"move",hint:function(a){return a.clone().addClass("hint")},placeholder:function(a){return a.clone().addClass("k-state-hover").css("opacity",.65)},container:"#columnGrid tbody",change:function(a){var b=d.columnGrid.dataSource.getByUid(a.item.data("uid"));d.columnGrid.dataSource.remove(b),d.columnGrid.dataSource.insert(a.newIndex,b)}}),this.filterGrid=$("#filterGrid").kendoGrid({dataSource:d.fillfilterGrid,editable:!0,selectable:!0,edit:function(a){var b=a.container.find("input");setTimeout(function(){b.select()},25)},dataBound:h,columns:[{field:"condition",width:"40px",template:kendo.template($("#conditionTemplate").html()),editor:function(a,b){if(!b.model.firstRow){var c=$('<input data-text-field="text" data-value-field="value" data-bind="value:'+b.field+'"/>');c.attr("condition",b.field),c.appendTo(a),c.kendoDropDownList({dataSource:[{text:"AND",value:"AND"},{text:"OR",value:"OR"}],dataTextField:"text",dataValueField:"value"})}},title:"Condition"},{field:"name",width:"180px",editor:function(a,b){var c=$("<input id='selecteditem' />");c.attr("name",b.field),c.appendTo(a),c.kendoComboBox({dataSource:d.props,dataTextField:"name",dataValueField:"value",filter:"contains",placeHolder:"Select Name",select:d.onFilterNamePropertySelect,change:function(){var a=this,b=window.dorsett.reportUI.filterGrid,c=b.dataItem(b.select());d.ensureComboBoxValue(a,"name",function(d){-1===d?c.name="[Filter Column Not Set]":(c.name=a.dataSource._data[d].name,c.valueType=a.dataSource._data[d].value.valueType,c.value="",c.internalValue="",b.refresh())})}})},title:"Column Name"},{field:"operator",width:"100px",editor:d.operatorTemplate,template:d.displayOperator,title:"Operator"},{field:"value",width:"245px",template:kendo.template($("#valueViewTemplate").html()),editor:d.valueTemplate},{width:"70px",command:[{name:"Add",text:"",click:d.addFilterRow,"class":"ob-icon-only",imageClass:"k-icon k-si-plus ob-icon-only"},{name:"destroy1",text:"",click:d.removeFilterRow,"class":"ob-icon-only",imageClass:"k-icon k-si-minus ob-icon-only"}],title:" "}]}).data("kendoGrid"),d.filterGrid.table.kendoSortable({filter:">tbody >tr",cursor:"move",hint:function(a){return a.clone().addClass("hint")},placeholder:function(a){return a.clone().addClass("k-state-hover").css("opacity",.65)},container:"#filterGrid tbody",end:function(a){(0===a.newIndex||0===a.oldIndex)&&a.preventDefault()}}),d.renderTemplateDropDown(),$("#getData").kendoButton({spriteCssClass:"k-icon k-i-refresh",click:function(){$("#gridData").html(JSON.stringify(d.filterGrid.dataSource.view())),$("#gridData2").html(JSON.stringify(d.columnGrid.dataSource.view()))}}),$("#scheduleReport").kendoButton({spriteCssClass:"k-icon k-i-calendar",click:function(){d.getReportOption(!1,function(){$("#modal-scheduleReport").modal("show")})}}),$("#saveReport").kendoButton({spriteCssClass:"k-icon k-i-funnel",click:function(){d.getReportOption(!1,function(b){c["Report Config"]=b;var e=d.filterGrid.dataSource.view(),f=d.columnGrid.dataSource.view();c["Filter Data"]=[],c["Column Data"]=[],c["Point Refs"]=[];for(var g in f)c["Column Data"].push({name:f[g].name,precision:f[g].precision,valueType:f[g].valueType});for(var h in e){c["Filter Data"].push({condition:e[h].condition,firstRow:e[h].firstRow,internalValue:e[h].internalValue,filterName:e[h].name,operator:e[h].operator,value:e[h].value,valueType:e[h].valueType,index:h});var i=a.config.Enums.Properties[e[h].name];i&&"UniquePID"===i.valueType&&c["Point Refs"].push({PropertyName:e[h].name,Value:e[h].internalValue,PointName:e[h].value,AppIndex:h})}console.log(c),$.ajax({url:"/api/points/addPoint",data:c,type:"POST",success:function(){iToast.showNotification("Notification","Report has been added successfully!!",{icon:"save",theme:"jetblack",position:"top right"}),$(".container").css({"background-color":"#6b9355"}),$("#tabs  li:eq(1)").is(":visible")&&$("#tabs  li:eq(2)").show()}})})}}),$("#runReport").kendoButton({spriteCssClass:"k-icon k-i-plus",click:function(){d.reportPreview()}}),c["Filter Data"]){var i=c["Filter Data"],j=[];for(var k in i){var l={};l.condition=i[k].condition||"",l.name=i[k].filterName,l.operator=i[k].operator||"",l.value=i[k].value||"",l.internalValue=i[k].internalValue||"",l.valueType=i[k].valueType||"";var m=a.config.Enums.Properties[i[k].filterName];if(m&&"UniquePID"===m.valueType)for(var n in c["Point Refs"])i[k].index==c["Point Refs"][n].AppIndex&&(l.value=c["Point Refs"][n].PointName);j.push(l)}d.filterGrid.dataSource.data(j);var o=c["Column Data"],p=[];for(var q in o){var r={};r.name=o[q].name,r.precision=o[q].precision||"",r.valueType=o[q].valueType,p.push(r)}d.columnGrid.dataSource.data(p)}var s=function(a){d.areEqual(a,d.pointFilter)||38===a.pointTypes.length&&""===a.name1||0===a.pointTypes.length||(d.pointFilter=a)},t=function(){u.pointLookup.init(s,d.pointFilter)},u=a.openWindowPositioned("/pointLookup?mode=filter","Point Selector","pointSelector","filter","filter",{width:960,height:400,callback:t});$(".container").show(),$("input[name=returnLimit]").click(function(){return $("input[name=returnLimit]").attr("checked",!1),this.checked=!this.checked,!0}),b.stop()},signalR:{},unblockTabs:function(){$("#tabDesign").unblock(),$("#tabPreview").unblock(),this.unTabbed&&(this.unTabbed.close(),this.unTabbed=null)},tabDoubleClick:function(a){var b="<div class='alert alert-danger'><h5>Designer opened in new window. <br/> <a class='alert-link' onclick='dorsett.reportUI.unblockTabs();'>Click Here</a> to close the other window and restore this one.</h5><br/> <h6 class='warning'>Warning:<br/>You will lose any unsaved changes.</h6></div>",c="<div class='alert alert-danger'><h5>Preview opened in new window. <br/> <a class='alert-link' onclick='dorsett.reportUI.unblockTabs();'>Click Here</a> to close the other window and restore this one.</h5></div>",d="/reportnet/designer/"+this.reportId;"preview"==a?(d="/reportnet/viewer/"+this.reportId,$("#tabPreview").block({css:this.blockCss,centerY:0,message:c})):$("#tabDesign").block({css:this.blockCss,centerY:0,message:b}),this.unTabbed=window.open(d,"reportUntabbed")},selectTemplate:{},templateId:c["Report Config"]&&c["Report Config"].reportTemplate||"",renderTemplateDropDown:function(a){var b=this;a&&(c.Templates=[a]),b.getTemplateDataSource(function(a){var c=new kendo.data.DataSource({data:a});b.selectTemplate=$("#selectTemplate").kendoComboBox({dataTextField:"Name",dataValueField:"_id",dataSource:c,filter:"contains",highlightFirst:!1,optionLabel:"[Template Not Selected]",change:function(){var a=this;b.ensureComboBoxValue(a,"Name",function(c){-1===c?a.text(""):(a.text(a.dataSource._data[c].Name),a.value(a.dataSource._data[c]._id),b.templateId=a.dataSource._data[c]._id)})}}).data("kendoComboBox"),b.selectTemplate.dataSource.insert(0,{Name:"[***Use No Template***]",_id:""}),""!==b.templateId&&b.selectTemplate.value(b.templateId),b.selectTemplate.input.focus(function(){setTimeout(function(){b.selectTemplate.input.select()},25)})})},getTemplateDataSource:function(a){$.ajax({url:"/api/reportTemplates/getAll",dataType:"json",contentType:"application/json; charset=utf-8",cache:!1,data:JSON.stringify({templates:c.Templates}),success:function(b){a(b)}})},queryDataSource:function(a,b,c,d){var e=-1;for(var f in a._data)a._data[f][b]===c&&(e=f);d(e)},ensureComboBoxValue:function(a,b,c){var d=this;d.queryDataSource(a.dataSource,b,a.text(),function(e){if(e>-1)c(e);else if(""===a.list[0].innerText)c(-1);else{var f=a.list[0].innerText.split("\n")[0];d.queryDataSource(a.dataSource,b,f,function(a){c(a)})}})},reportDesign:function(a){var b=this,c=$("#runReportForm"),d=$("#tabDesign"),e=$("#tabConfiguration"),f=$("#tabPreview");c.attr("action").indexOf("viewer")>-1&&(a=!0),$("#tabs  li:eq(0)").removeClass("active"),$("#tabs  li:eq(1)").removeClass("active"),$("#tabs  li:eq(2)").show().addClass("active"),e.removeClass("active"),f.removeClass("active"),d.addClass("active");var g=$("#dataChanged"),h=$("#reportDesign");("true"==g.val()||a)&&(d.unblock(),h.width($("#tabs").width()-15).height("1220px"),b.blockFunction(b.busyImage),c.attr("target","reportDesign").attr("action","/reportnet/designer/"+b.reportId).submit(),g.val("false"))},reportPreview:function(a){var b=this;$("#tabs  li:eq(1)").show().addClass("active"),$("#tabs  li:eq(0)").removeClass("active"),$("#tabConfiguration").removeClass("active"),$("#tabPreview").addClass("active"),b.getReportOption(!1,function(c){var d=b.dataChanged(c),e=$("#reportPreview");(d||a)&&(e.width($("#tabs").width()-15).height("1220px"),b.blockFunction(b.busyImage),$("#runReportForm").attr("target","reportPreview").attr("action","/reportnet/viewer/"+b.reportId).submit())})},serializedData:{},aspNetErrorOccured:!1,dataChanged:function(a){return!this.aspNetErrorOccured&&this.areEqual(a,this.serializedData)?($("#dataChanged").val(!1),!1):(this.serializedData=a,$("#params").val(JSON.stringify(a)),$("#dataChanged").val(!0),this.aspNetErrorOccured=!1,!0)},columnsInfo:[],filtersInfo:{},getReportOption:function(a,b){var c=this;if(c.columnsInfo=[],c.filtersInfo={},!a&&""==$("#reportTitle").val())return void c.hideDivBlock("Error","Report Title is required field.");var d=c.columnGrid.dataSource.view();if(!a&&"[Column Not Set]"===d[0].name)return void c.hideDivBlock("Error","Atleast one Column needs to be defined.");var e={};e.Point_Properties={},e.Point_Properties.columns=[],e.Point_Properties.filterMode="And",e.Point_Properties.filterOn=!1,e.Point_Properties.groups=[],e.Point_Properties.sort=[],e.Point_Properties.totals={},e.Point_Properties.filters={};var f=c.filterGrid.dataSource.view();for(var g in f)"[Filter Column Not Set]"!==f[g].name&&(f[g]=c.ensureCorrectValueTypeForFilter(f[g]),c.filtersInfo[g]={column:f[g].name.replace(/\s+/gi,"_"),condition:f[g].operator,dataType:f[g].valueType,value1:""===f[g].internalValue?f[g].value:f[g].internalValue,value2:"",fieldIs:"Value",expression:"",valueList:""});for(var h in d)if("[Column Not Set]"!==d[h].name){var i=c.ensureCorrectValueTypeForColumn(d[h].name,d[h].valueType);c.columnsInfo.push({colName:d[h].name.replace(/\s+/gi,"_"),precision:d[h].precision,valueType:i})}e.Point_Properties.columns=c.columnsInfo,e.Point_Properties.filters=c.filtersInfo;var j={};j.componentType="Data",j.dataSourcesOrder=["Point Properties"],j.language="C",j.orientation=d.length<6?"Portrait":"Landscape",j.relations={},j.theme="Blue_50",j.unit="in";var k={reportType:"ad-hoc",reportTitle:$("#reportTitle").val(),reportTemplate:c.templateId,includeFilter:$("#includeFilter").prop("checked"),includeReportName:$("#includeReportName").prop("checked"),returnLimit:$("input[name=returnLimit]:checked").val(),dataSources:e,reportOptions:j,pointFilter:c.pointFilter};console.log(k),b(k)},fillGrid:new kendo.data.DataSource({data:[{name:"[Column Not Set]",precision:0,valueType:"string"}],pageSize:10,schema:{model:{fields:{name:{validation:{required:!0}},precision:{type:"number",validation:{min:1,max:9}},valueType:{defaultValue:"string"}}}}}),fillfilterGrid:new kendo.data.DataSource({data:[{firstRow:!0,condition:"AND",name:"[Filter Column Not Set]",operator:"EqualTo",value:"",internalValue:"",valueType:"null"}],pageSize:10,schema:{model:{fields:{condition:{type:"string"},name:{validation:{required:!0}},operator:{type:"string"},value:{type:"string"},valueType:{defaultValue:"string"}}}}}),operators:function(a){var b=[];switch(a){case"Bool":case"BitString":case"UniquePID":case"Enum":case"undecided":b.push({text:"=",value:"EqualTo"},{text:"!=",value:"NotEqualTo"});break;case"String":b.push({text:"=",value:"EqualTo"},{text:"!=",value:"NotEqualTo"},{text:"{*}",value:"Containing"},{text:"{!*}",value:"NotContaining"});break;case"Float":case"Integer":case"Unsigned":case"null":case"MinSec":case"HourMinSec":case"DateTime":case"Timet":b.push({text:"=",value:"EqualTo"},{text:"!=",value:"NotEqualTo"},{text:">",value:"GreaterThan"},{text:"<",value:"LessThan"},{text:">=",value:"GreaterThanOrEqualTo"},{text:"<=",value:"LessThanOrEqualTo"});break;case"None":b.push({text:"=",value:"EqualTo"},{text:"!=",value:"NotEqualTo"},{text:"{*}",value:"Containing"},{text:"{!*}",value:"NotContaining"},{text:">",value:"GreaterThan"},{text:"<",value:"LessThan"},{text:">=",value:"GreaterThanOrEqualTo"},{text:"<=",value:"LessThanOrEqualTo"});break;default:b.push({text:"=",value:"EqualTo"},{text:"!=",value:"NotEqualTo"})}return b},displayOperator:function(a){switch(a.operator){case"EqualTo":return"=";case"NotEqualTo":return"!=";case"Containing":return"{*}";case"NotContaining":return"{!*}";case"GreaterThan":return">";case"GreaterThanOrEqualTo":return">=";case"LessThan":return"<";case"LessThanOrEqualTo":return"<=";default:return a.operator}},ensureCorrectValueTypeForFilter:function(a){switch(a.valueType){case"DateTime":case"Timet":a.valueType="DateTime",a.value=new Date(a.value).toISOString();break;case"Float":a.valueType="Numeric";break;default:a.valueType="String"}return a},ensureCorrectValueTypeForColumn:function(a,b){for(var c in this.filtersInfo)if(this.filtersInfo[c].column===a){var d="String";switch(this.filtersInfo[c].condition){case"EqualTo":case"NotEqualTo":case"Containing":case"NotContaining":d="String";break;case"GreaterThan":case"GreaterThanOrEqualTo":case"LessThan":case"LessThanOrEqualTo":d="Float"}this.filtersInfo[c].dataType="Float"===d?"Numeric":"String"}return b},operatorTemplate:function(a,b){var c=$('<input required data-text-field="text" data-value-field="value" data-bind="value:'+b.field+'"/>');c.appendTo(a);var d=self.dorsett.reportUI.operators(b.model.valueType);c.kendoDropDownList({dataSource:d,dataValueField:"value",dataTextField:"text"})},valueTemplate:function(b,c){switch(a.config.Enums.Properties[c.model.name].valueType){case"UniquePID":var d=""===c.model.value?"[Point Not Set]":c.model.value,e=$('<button><span class="k-icon"></span>Clear Point</button>');if(e.kendoButton({icon:"cancel",enable:!1,click:function(){c.model.internalValue="0",c.model.value="[Point Not Set]",c.model.valueType="UniquePID",window.dorsett.reportUI.filterGrid.refresh()}}),""!==c.model.internalValue&&"0"!==c.model.internalValue){var f=e.data("kendoButton");f.enable(!0)}var g=$("<button>"+d+"</button>");g.kendoButton({click:function(){var b=a.openWindowPositioned("pointLookup/null/"+c.model.name+"?mode=select","Point Selector For Report","","","reportcriteriaselector",{width:780,height:550,callback:function(){b.pointLookup.init(function(a,b){c.model.internalValue=a.toString(),c.model.value=b,c.model.valueType="UniquePID",window.dorsett.reportUI.filterGrid.refresh()})}})}}),g.appendTo(b),e.appendTo(b);break;case"DateTime":case"Timet":var h=$('<input data-text-field="'+c.field+'" data-value-field="'+c.field+'"  data-bind="value:'+c.field+'"/>').appendTo(b).kendoDateTimePicker({format:"g"}).data("kendoDateTimePicker");c.model.value&&h.value(c.model.value);break;case"HourMinSec":$('<input data-text-field="'+c.field+'" data-value-field="'+c.field+'" data-bind="value:'+c.field+'"/>').appendTo(b).kendoTimePicker({format:"h:mm tt"});break;case"MinSec":$('<input style="width:60px" data-text-field="'+c.field+'" data-value-field="'+c.field+'" data-bind="value:'+c.field+'"/>').appendTo(b).kendoNumericTextBox({format:"n0",min:1}),$("<span>Secs</span>").appendTo(b);break;case"Bool":$('<input required data-text-field="text" data-value-field="value" data-bind="value:'+c.field+'"/>').appendTo(b).kendoDropDownList({dataSource:[{text:"True",value:"True"},{text:"False",value:"False"}],dataValueField:"value",dataTextField:"text",optionLabel:"Select..."});break;case"Float":$('<input data-text-field="'+c.field+'" data-value-field="'+c.field+'" data-bind="value:'+c.field+'"/>').appendTo(b).kendoNumericTextBox({format:"n",decimals:2});break;case"Enum":var i=[],j=a.config.Utility.pointTypes.getEnums(c.model.name);for(var k in j)i.push({text:j[k],value:j[k]});i.length>0?$('<input required data-text-field="text" data-value-field="value" data-bind="value:'+c.field+'"/>').appendTo(b).kendoDropDownList({dataSource:i,dataValueField:"value",dataTextField:"text",optionLabel:"Select..."}):$('<input data-bind="value:'+c.field+'"/>').appendTo(b);break;case"None":case"String":$('<input data-bind="value:'+c.field+'"/>').appendTo(b);break;default:$('<input data-bind="value:'+c.field+'"/>').appendTo(b)}},onColumnNamePropertySelect:function(a){var b=self.dorsett.reportUI.columnGrid,c=this.dataItem(a.item.index()),d=b.dataItem(b.select());d.valueType=c.value.valueType,d.name=c.name,b.refresh()},onFilterNamePropertySelect:function(a){var b=self.dorsett.reportUI.filterGrid,c=this.dataItem(a.item.index()),d=b.dataItem(b.select());d.name=c.name,d.valueType=c.value.valueType,d.value="",d.internalValue="",b.refresh()},addColumnRow:function(a){a.preventDefault();var b=$(a.currentTarget).closest("tr");this.select(b),this.dataSource.insert(this.select().index()+1,{name:"[Column Not Set]",precision:0,valueType:"string"}),this.clearSelection()},removeColumnRow:function(a){a.preventDefault();var b=$(a.currentTarget).closest("tr");this.select(b);var c=this.dataSource.at(this.select().index());if(this.dataSource.remove(c),0==this._data.length){var d=self.dorsett.reportUI.columnGrid;d.dataSource.insert(this.select().index()+1,{name:"[Column Not Set]",precision:0,valueType:"string"})}},addFilterRow:function(a){a.preventDefault();var b=$(a.currentTarget).closest("tr");this.select(b);var c=self.dorsett.reportUI.filterGrid;c.dataSource.insert(this.select().index()+1,{condition:"AND",firstRow:!1,name:"[Filter Column Not Set]",operator:"EqualTo",value:"",internalValue:"",valueType:"null"}),c.clearSelection()},removeFilterRow:function(a){a.preventDefault();var b=$(a.currentTarget).closest("tr");this.select(b);var c=this.dataSource.at(this.select().index());if(this.dataSource.remove(c),0==this._data.length){var d=self.dorsett.reportUI.filterGrid;d.dataSource.insert(this.select().index()+1,{condition:"AND",firstRow:!1,name:"[Filter Column Not Set]",operator:"EqualTo",value:"",internalValue:"",valueType:"String"})}},saveReport:function(a){this.registerCallback=a,this.getReportOption(!1,function(){$("#modal-saveReport").modal("show")})},registerCallback:"",areEqual:function(a,b){if(a===b)return!0;if(!(a instanceof Object&&b instanceof Object))return!1;if(a.constructor!==b.constructor)return!1;for(var c in a)if(a.hasOwnProperty(c)){if(!b.hasOwnProperty(c))return!1;if(a[c]!==b[c]&&!this.areEqual(a[c],b[c]))return!1}for(c in b)if(b.hasOwnProperty(c)&&!a.hasOwnProperty(c))return!1;return!0}}}(window.opener&&window.opener.parent.workspaceManager||window.parent.parent.workspaceManager,window.spinner,window.point),dorsett.reportUI.init();